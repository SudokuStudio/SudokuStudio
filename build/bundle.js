var sudoku_studio_web=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function i(t){t.forEach(e)}function r(t){return"function"==typeof t}function o(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function s(e,...n){if(null==e)return t;const i=e.subscribe(...n);return i.unsubscribe?()=>i.unsubscribe():i}function l(t,e,n){t.$$.on_destroy.push(s(e,n))}function a(t,e,n,i){if(t){const r=c(t,e,n,i);return t[0](r)}}function c(t,e,n,i){return t[1]&&i?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](i(e))):n.ctx}function u(t,e,n,i,r,o,s){const l=function(t,e,n,i){if(t[2]&&i){const r=t[2](i(n));if(void 0===e.dirty)return r;if("object"==typeof r){const t=[],n=Math.max(e.dirty.length,r.length);for(let i=0;i<n;i+=1)t[i]=e.dirty[i]|r[i];return t}return e.dirty|r}return e.dirty}(e,i,r,o);if(l){const r=c(e,n,i,s);t.p(r,l)}}function d(t,e,n=e){return t.set(n),e}let f,h=!1;function p(t,e,n,i){for(;t<e;){const r=t+(e-t>>1);n(r)<=i?t=r+1:e=r}return t}function m(t,e){h?(!function(t){if(t.hydrate_init)return;t.hydrate_init=!0;const e=t.childNodes,n=new Int32Array(e.length+1),i=new Int32Array(e.length);n[0]=-1;let r=0;for(let t=0;t<e.length;t++){const o=p(1,r+1,(t=>e[n[t]].claim_order),e[t].claim_order)-1;i[t]=n[o]+1;const s=o+1;n[s]=t,r=Math.max(s,r)}const o=[],s=[];let l=e.length-1;for(let t=n[r]+1;0!=t;t=i[t-1]){for(o.push(e[t-1]);l>=t;l--)s.push(e[l]);l--}for(;l>=0;l--)s.push(e[l]);o.reverse(),s.sort(((t,e)=>t.claim_order-e.claim_order));for(let e=0,n=0;e<s.length;e++){for(;n<o.length&&s[e].claim_order>=o[n].claim_order;)n++;const i=n<o.length?o[n]:null;t.insertBefore(s[e],i)}}(t),(void 0===t.actual_end_child||null!==t.actual_end_child&&t.actual_end_child.parentElement!==t)&&(t.actual_end_child=t.firstChild),e!==t.actual_end_child?t.insertBefore(e,t.actual_end_child):t.actual_end_child=e.nextSibling):e.parentNode!==t&&t.appendChild(e)}function g(t,e,n){h&&!n?m(t,e):(e.parentNode!==t||n&&e.nextSibling!==n)&&t.insertBefore(e,n||null)}function v(t){t.parentNode.removeChild(t)}function y(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function _(t){return document.createElement(t)}function w(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function b(t){return document.createTextNode(t)}function $(){return b(" ")}function k(){return b("")}function x(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function C(t){return function(e){return e.preventDefault(),t.call(this,e)}}function A(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function T(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function S(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function E(t,e,n,i){t.style.setProperty(e,n,i?"important":"")}function O(t,e,n){t.classList[n?"add":"remove"](e)}function M(t){f=t}function I(){if(!f)throw new Error("Function called outside component initialization");return f}function D(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t.call(this,e)))}const j=[],L=[],R=[],N=[],U=Promise.resolve();let H=!1;function P(t){R.push(t)}let F=!1;const G=new Set;function q(){if(!F){F=!0;do{for(let t=0;t<j.length;t+=1){const e=j[t];M(e),B(e.$$)}for(M(null),j.length=0;L.length;)L.pop()();for(let t=0;t<R.length;t+=1){const e=R[t];G.has(e)||(G.add(e),e())}R.length=0}while(j.length);for(;N.length;)N.pop()();H=!1,F=!1,G.clear()}}function B(t){if(null!==t.fragment){t.update(),i(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(P)}}const z=new Set;let V;function W(){V={r:0,c:[],p:V}}function Y(){V.r||i(V.c),V=V.p}function X(t,e){t&&t.i&&(z.delete(t),t.i(e))}function K(t,e,n,i){if(t&&t.o){if(z.has(t))return;z.add(t),V.c.push((()=>{z.delete(t),i&&(n&&t.d(1),i())})),t.o(e)}}function Z(t,e){t.d(1),e.delete(t.key)}function J(t,e){K(t,1,1,(()=>{e.delete(t.key)}))}function Q(t,e,n,i,r,o,s,l,a,c,u,d){let f=t.length,h=o.length,p=f;const m={};for(;p--;)m[t[p].key]=p;const g=[],v=new Map,y=new Map;for(p=h;p--;){const t=d(r,o,p),l=n(t);let a=s.get(l);a?i&&a.p(t,e):(a=c(l,t),a.c()),v.set(l,g[p]=a),l in m&&y.set(l,Math.abs(p-m[l]))}const _=new Set,w=new Set;function b(t){X(t,1),t.m(l,u),s.set(t.key,t),u=t.first,h--}for(;f&&h;){const e=g[h-1],n=t[f-1],i=e.key,r=n.key;e===n?(u=e.first,f--,h--):v.has(r)?!s.has(i)||_.has(i)?b(e):w.has(r)?f--:y.get(i)>y.get(r)?(w.add(i),b(e)):(_.add(r),f--):(a(n,s),f--)}for(;f--;){const e=t[f];v.has(e.key)||a(e,s)}for(;h;)b(g[h-1]);return g}function tt(t){t&&t.c()}function et(t,n,o,s){const{fragment:l,on_mount:a,on_destroy:c,after_update:u}=t.$$;l&&l.m(n,o),s||P((()=>{const n=a.map(e).filter(r);c?c.push(...n):i(n),t.$$.on_mount=[]})),u.forEach(P)}function nt(t,e){const n=t.$$;null!==n.fragment&&(i(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function it(t,e){-1===t.$$.dirty[0]&&(j.push(t),H||(H=!0,U.then(q)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function rt(e,r,o,s,l,a,c=[-1]){const u=f;M(e);const d=e.$$={fragment:null,ctx:null,props:a,update:t,not_equal:l,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:r.context||[]),callbacks:n(),dirty:c,skip_bound:!1};let p=!1;if(d.ctx=o?o(e,r.props||{},((t,n,...i)=>{const r=i.length?i[0]:n;return d.ctx&&l(d.ctx[t],d.ctx[t]=r)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](r),p&&it(e,t)),n})):[],d.update(),p=!0,i(d.before_update),d.fragment=!!s&&s(d.ctx),r.target){if(r.hydrate){h=!0;const t=function(t){return Array.from(t.childNodes)}(r.target);d.fragment&&d.fragment.l(t),t.forEach(v)}else d.fragment&&d.fragment.c();r.intro&&X(e.$$.fragment),et(e,r.target,r.anchor,r.customElement),h=!1,q()}M(u)}class ot{$destroy(){nt(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const st=.01,lt=.005,at=.04;function ct(t){const e=[];for(let n=0;null!=t[n];n++)e.push(t[n]);return e}function ut(t,{width:e}){return[t%e,Math.floor(t/e)]}function dt([t,e],{width:n}){return e*n+t}function ft([t,e],{width:n}){return e*(n+1)+t}function ht(t,{width:e}){return[t%(e+1),Math.floor(t/(e+1))]}function pt([t,e],{width:n,height:i},r){if(t<0||n<=t||e<0||i<=e)return null;if(r){const n=t%1-.5,i=e%1-.5;if(.5<Math.abs(n)+Math.abs(i))return null}return[Math.floor(t),Math.floor(e)]}function mt(t,e){const n=e.width*e.height;for(let e=0;e<n;e++)if(t[e])return e;return null}function gt(t){return null==t?[]:Object.keys(t).filter((e=>!!t[e])).map(Number).sort()}function vt(t,e,n=0){const i=[];for(const n of t){const[t,r]=ut(n,e);i.push([t+.5,r+.5])}if(1===i.length&&i.push(i[0]),0<n){const t=i.length,e=i[t-1][0]-i[t-2][0],r=i[t-1][1]-i[t-2][1];i[t-1][0]+=-e*n,i[t-1][1]+=-r*n}return"M"+i.map((t=>t.join(","))).join("L")}function yt({offsetX:t,offsetY:e},n){const{width:i,height:r}=n.getBoundingClientRect(),{x:o,y:s,width:l,height:a}=n.viewBox.baseVal;return[l*t/i+o,a*e/r+s]}function _t(t,e,n=0){const i=new Map;{function n(t,e){const n=i.get(e);if(null==n?void 0:n.has(t))n.delete(t),0>=n.size&&i.delete(e);else{let n=i.get(t);null==n&&(n=new Set,i.set(t,n)),n.add(e)}}for(const i of t){const[t,r]=ut(i,e),o=ft([t,r],e),s=ft([1+t,r],e),l=ft([1+t,1+r],e),a=ft([t,1+r],e);n(o,s),n(s,l),n(l,a),n(a,o)}}if(0>=i.size)return null;const r=[];for(;!(0>=i.size);){const[t,o]=Array.from(i.entries()).find((([t,e])=>1===e.size)),s=Array.from(o)[0];let l=ht(t,e),a=ht(s,e),c=s;const u=[];do{const t=i.get(c);let r=Number.NEGATIVE_INFINITY,o=-1,s=null;for(const n of t){const t=ht(n,e),i=(a[0]-l[0])*(t[1]-a[1])-(a[1]-l[1])*(t[0]-a[0]);r<i&&(r=i,o=n,s=t)}if(null==s)throw"UNREACHABLE";if(t.delete(o),0>=t.size&&i.delete(c),0!==r){let[t,e]=a;e+=n*(a[0]-l[0])+r*n*(l[1]-a[1]),t+=n*(a[1]-s[1])+r*n*(s[0]-a[0]),u.push(`${t},${e}`)}l=a,a=s,c=o}while(s!==c);r.push("M"+u.join("L")+"Z")}return r.join("")}function wt(t,e){return 0<=t[0]&&t[0]<e.width&&0<=t[1]&&t[1]<e.height}function bt(t,e){let n,i;if(e<=4)n=t%2*.6-.3,i=.6*(t/2|0)-.3;else{const r=e/2|0;if(t<r){n=t*(.6/(r-1))-.3,i=-.3}else{n=(t-r)*(.6/(e-r-1))-.3,i=.3}}return[n,i]}function $t(t,e,n){const i=t.slice();return i[5]=e[n].idx,i[6]=e[n].x,i[7]=e[n].y,i[8]=e[n].nums,i}function kt(t,e){let n,i,r,o,s,l=e[8].join("")+"";return{key:t,first:null,c(){n=w("text"),i=b(l),T(n,"x",r=e[6]),T(n,"y",o=e[7]),T(n,"fill","#4e72b0"),T(n,"text-anchor","middle"),T(n,"dominant-baseline","central"),T(n,"font-size","0.3"),T(n,"font-weight","600"),T(n,"textLength",s=e[8].length>5?"0.9":void 0),T(n,"lengthAdjust","spacingAndGlyphs"),this.first=n},m(t,e){g(t,n,e),m(n,i)},p(t,a){e=t,4&a&&l!==(l=e[8].join("")+"")&&S(i,l),4&a&&r!==(r=e[6])&&T(n,"x",r),4&a&&o!==(o=e[7])&&T(n,"y",o),4&a&&s!==(s=e[8].length>5?"0.9":void 0)&&T(n,"textLength",s)},d(t){t&&v(n)}}}function xt(e){let n,i=[],r=new Map,o=e[3](e[2]||{});const s=t=>t[5];for(let t=0;t<o.length;t+=1){let n=$t(e,o,t),l=s(n);r.set(l,i[t]=kt(l,n))}return{c(){n=w("g");for(let t=0;t<i.length;t+=1)i[t].c();T(n,"id",e[0])},m(t,e){g(t,n,e);for(let t=0;t<i.length;t+=1)i[t].m(n,null)},p(t,[e]){12&e&&(o=t[3](t[2]||{}),i=Q(i,e,s,1,t,o,r,n,Z,kt,null,$t)),1&e&&T(n,"id",t[0])},i:t,o:t,d(t){t&&v(n);for(let t=0;t<i.length;t+=1)i[t].d()}}}function Ct(e,n,i){let r,o=t,l=()=>(o(),o=s(c,(t=>i(2,r=t))),c);e.$$.on_destroy.push((()=>o()));let{id:a}=n,{ref:c}=n;l();let{grid:u}=n;return e.$$set=t=>{"id"in t&&i(0,a=t.id),"ref"in t&&l(i(1,c=t.ref)),"grid"in t&&i(4,u=t.grid)},[a,c,r,function(t){const e=[];for(const[n,i]of Object.entries(t))e.push({idx:+n,x:ut(+n,u)[0]+.5,y:ut(+n,u)[1]+.5,nums:gt(i)});return e},u]}function At(t,e,n){const i=t.slice();return i[5]=e[n].idx,i[6]=e[n].nums,i}function Tt(t,e,n){const i=t.slice();return i[9]=e[n].x,i[10]=e[n].y,i[11]=e[n].num,i}function St(t){let e,n,i,r,o=t[11]+"";return{c(){e=w("text"),n=b(o),T(e,"x",i=t[9]),T(e,"y",r=t[10]),T(e,"fill","#4e72b0"),T(e,"text-anchor","middle"),T(e,"dominant-baseline","central"),T(e,"font-size","0.3"),T(e,"font-weight","600")},m(t,i){g(t,e,i),m(e,n)},p(t,s){4&s&&o!==(o=t[11]+"")&&S(n,o),4&s&&i!==(i=t[9])&&T(e,"x",i),4&s&&r!==(r=t[10])&&T(e,"y",r)},d(t){t&&v(e)}}}function Et(t,e){let n,i,r=e[6],o=[];for(let t=0;t<r.length;t+=1)o[t]=St(Tt(e,r,t));return{key:t,first:null,c(){n=k();for(let t=0;t<o.length;t+=1)o[t].c();i=k(),this.first=n},m(t,e){g(t,n,e);for(let n=0;n<o.length;n+=1)o[n].m(t,e);g(t,i,e)},p(t,n){if(e=t,12&n){let t;for(r=e[6],t=0;t<r.length;t+=1){const s=Tt(e,r,t);o[t]?o[t].p(s,n):(o[t]=St(s),o[t].c(),o[t].m(i.parentNode,i))}for(;t<o.length;t+=1)o[t].d(1);o.length=r.length}},d(t){t&&v(n),y(o,t),t&&v(i)}}}function Ot(e){let n,i=[],r=new Map,o=e[3](e[2]||{});const s=t=>t[5];for(let t=0;t<o.length;t+=1){let n=At(e,o,t),l=s(n);r.set(l,i[t]=Et(l,n))}return{c(){n=w("g");for(let t=0;t<i.length;t+=1)i[t].c();T(n,"id",e[0])},m(t,e){g(t,n,e);for(let t=0;t<i.length;t+=1)i[t].m(n,null)},p(t,[e]){12&e&&(o=t[3](t[2]||{}),i=Q(i,e,s,1,t,o,r,n,Z,Et,null,At)),1&e&&T(n,"id",t[0])},i:t,o:t,d(t){t&&v(n);for(let t=0;t<i.length;t+=1)i[t].d()}}}function Mt(e,n,i){let r,o=t,l=()=>(o(),o=s(c,(t=>i(2,r=t))),c);e.$$.on_destroy.push((()=>o()));let{id:a}=n,{ref:c}=n;l();let{grid:u}=n;return e.$$set=t=>{"id"in t&&i(0,a=t.id),"ref"in t&&l(i(1,c=t.ref)),"grid"in t&&i(4,u=t.grid)},[a,c,r,function(t){const e=[];for(const[n,i]of Object.entries(t)){const t=ut(+n,u)[0]+.5,r=ut(+n,u)[1]+.5,o=gt(i).map(((e,n,i)=>{const[o,s]=bt(n,i.length);return{x:t+o,y:r+s,num:e}}));e.push({idx:+n,nums:o})}return e},u]}const It=[];function Dt(t,e){return{subscribe:jt(t,e).subscribe}}function jt(e,n=t){let i;const r=[];function s(t){if(o(e,t)&&(e=t,i)){const t=!It.length;for(let t=0;t<r.length;t+=1){const n=r[t];n[1](),It.push(n,e)}if(t){for(let t=0;t<It.length;t+=2)It[t][0](It[t+1]);It.length=0}}}return{set:s,update:function(t){s(t(e))},subscribe:function(o,l=t){const a=[o,l];return r.push(a),1===r.length&&(i=n(s)||t),o(e),()=>{const t=r.indexOf(a);-1!==t&&r.splice(t,1),0===r.length&&(i(),i=null)}}}}function Lt(e,n,o){const l=!Array.isArray(e),a=l?[e]:e,c=n.length<2;return Dt(o,(e=>{let o=!1;const u=[];let d=0,f=t;const h=()=>{if(d)return;f();const i=n(l?u[0]:u,e);c?e(i):f=r(i)?i:t},p=a.map(((t,e)=>s(t,(t=>{u[e]=t,d&=~(1<<e),o&&h()}),(()=>{d|=1<<e}))));return o=!0,h(),function(){i(p),f()}}))}function Rt(e){let n,i,r,o,s,l,a,c,u,d,f,h,p,y,_,b,k,x,C,A,S;return{c(){n=w("filter"),i=w("feGaussianBlur"),r=w("feComponentTransfer"),o=w("feFuncR"),s=w("feFuncG"),l=w("feFuncB"),a=w("feFuncA"),u=$(),d=w("mask"),f=w("rect"),y=w("path"),C=$(),A=w("path"),T(i,"in","SourceGraphic"),T(i,"stdDeviation",Nt),T(o,"type","identity"),T(s,"type","identity"),T(l,"type","identity"),T(a,"type","linear"),T(a,"slope","20"),T(a,"intercept","-9.5"),T(n,"id",c="select-"+e[0]+"-blur"),T(f,"x","0"),T(f,"y","0"),T(f,"width",h=e[1].width),T(f,"height",p=e[1].height),T(f,"fill","#fff"),T(y,"d",e[2]),T(y,"fill",Ut),T(y,"stroke","none"),T(y,"filter",_="url(#select-"+e[0]+"-blur)"),T(d,"id",b="select-"+e[0]+"-mask"),T(d,"maskUnits","userSpaceOnUse"),T(d,"maskContentUnits","userSpaceOnUse"),T(d,"x","0"),T(d,"y","0"),T(d,"width",k=e[1].width),T(d,"height",x=e[1].height),T(A,"id",e[0]),T(A,"d",e[3]),T(A,"fill","#08f"),T(A,"fill-opacity","0.7"),T(A,"stroke","none"),T(A,"mask",S="url(#select-"+e[0]+"-mask)")},m(t,e){g(t,n,e),m(n,i),m(n,r),m(r,o),m(r,s),m(r,l),m(r,a),g(t,u,e),g(t,d,e),m(d,f),m(d,y),g(t,C,e),g(t,A,e)},p(t,[e]){1&e&&c!==(c="select-"+t[0]+"-blur")&&T(n,"id",c),2&e&&h!==(h=t[1].width)&&T(f,"width",h),2&e&&p!==(p=t[1].height)&&T(f,"height",p),4&e&&T(y,"d",t[2]),1&e&&_!==(_="url(#select-"+t[0]+"-blur)")&&T(y,"filter",_),1&e&&b!==(b="select-"+t[0]+"-mask")&&T(d,"id",b),2&e&&k!==(k=t[1].width)&&T(d,"width",k),2&e&&x!==(x=t[1].height)&&T(d,"height",x),1&e&&T(A,"id",t[0]),8&e&&T(A,"d",t[3]),1&e&&S!==(S="url(#select-"+t[0]+"-mask)")&&T(A,"mask",S)},i:t,o:t,d(t){t&&v(n),t&&v(u),t&&v(d),t&&v(C),t&&v(A)}}}const Nt=.05,Ut="#080808";function Ht(t,e,n){let i,r,{id:o}=e,{ref:s}=e,{grid:a}=e,c=Lt(s,(t=>_t(gt(t),a,.075)));l(t,c,(t=>n(2,i=t)));let u=Lt(s,(t=>_t(gt(t),a,0)));return l(t,u,(t=>n(3,r=t))),t.$$set=t=>{"id"in t&&n(0,o=t.id),"ref"in t&&n(6,s=t.ref),"grid"in t&&n(1,a=t.grid)},[o,a,i,r,c,u,s]}class Pt extends ot{constructor(t){super(),rt(this,t,Ht,Rt,o,{id:0,ref:6,grid:1})}}function Ft(e){let n,i,r,o,s,l,a;return{c(){n=w("g"),i=w("line"),s=w("line"),T(i,"x1","0"),T(i,"y1",r=e[1].height),T(i,"x2",o=e[1].width),T(i,"y2","0"),T(i,"class","svelte-1qd4hgf"),O(i,"hide",!e[2]),T(s,"x1","0"),T(s,"y1","0"),T(s,"x2",l=e[1].width),T(s,"y2",a=e[1].height),T(s,"class","svelte-1qd4hgf"),O(s,"hide",!e[3]),T(n,"id",e[0])},m(t,e){g(t,n,e),m(n,i),m(n,s)},p(t,[e]){2&e&&r!==(r=t[1].height)&&T(i,"y1",r),2&e&&o!==(o=t[1].width)&&T(i,"x2",o),4&e&&O(i,"hide",!t[2]),2&e&&l!==(l=t[1].width)&&T(s,"x2",l),2&e&&a!==(a=t[1].height)&&T(s,"y2",a),8&e&&O(s,"hide",!t[3]),1&e&&T(n,"id",t[0])},i:t,o:t,d(t){t&&v(n)}}}function Gt(t,e,n){let i,r,{id:o}=e,{ref:s}=e,{grid:a}=e;const c=s.ref("positive");l(t,c,(t=>n(2,i=t)));const u=s.ref("negative");return l(t,u,(t=>n(3,r=t))),t.$$set=t=>{"id"in t&&n(0,o=t.id),"ref"in t&&n(6,s=t.ref),"grid"in t&&n(1,a=t.grid)},[o,a,i,r,c,u,s]}function qt(t,e,n){const i=t.slice();return i[5]=e[n].idx,i[6]=e[n].x,i[7]=e[n].y,i[8]=e[n].lines,i}function Bt(t,e,n){const i=t.slice();return i[11]=e[n],i[13]=n,i}function zt(t){let e,n,i,r,o=t[11]+"";return{c(){e=w("text"),n=b(o),T(e,"x",i=t[6]),T(e,"y",r=t[7]+Xt*(t[13]-.5*(t[8].length-1))),T(e,"text-anchor","middle"),T(e,"dominant-baseline","central"),T(e,"font-size",Xt),T(e,"font-weight","600")},m(t,i){g(t,e,i),m(e,n)},p(t,s){4&s&&o!==(o=t[11]+"")&&S(n,o),4&s&&i!==(i=t[6])&&T(e,"x",i),4&s&&r!==(r=t[7]+Xt*(t[13]-.5*(t[8].length-1)))&&T(e,"y",r)},d(t){t&&v(e)}}}function Vt(t,e){let n,i,r,o,s=e[8],l=[];for(let t=0;t<s.length;t+=1)l[t]=zt(Bt(e,s,t));return{key:t,first:null,c(){n=w("circle");for(let t=0;t<l.length;t+=1)l[t].c();o=k(),T(n,"cx",i=e[6]),T(n,"cy",r=e[7]),T(n,"r","0.2125"),T(n,"fill","#fff"),T(n,"stroke","#000"),T(n,"stroke-width","0.02"),this.first=n},m(t,e){g(t,n,e);for(let n=0;n<l.length;n+=1)l[n].m(t,e);g(t,o,e)},p(t,a){if(e=t,4&a&&i!==(i=e[6])&&T(n,"cx",i),4&a&&r!==(r=e[7])&&T(n,"cy",r),12&a){let t;for(s=e[8],t=0;t<s.length;t+=1){const n=Bt(e,s,t);l[t]?l[t].p(n,a):(l[t]=zt(n),l[t].c(),l[t].m(o.parentNode,o))}for(;t<l.length;t+=1)l[t].d(1);l.length=s.length}},d(t){t&&v(n),y(l,t),t&&v(o)}}}function Wt(e){let n,i=[],r=new Map,o=e[3](e[2]);const s=t=>t[5];for(let t=0;t<o.length;t+=1){let n=qt(e,o,t),l=s(n);r.set(l,i[t]=Vt(l,n))}return{c(){n=w("g");for(let t=0;t<i.length;t+=1)i[t].c();T(n,"id",e[0])},m(t,e){g(t,n,e);for(let t=0;t<i.length;t+=1)i[t].m(n,null)},p(t,[e]){12&e&&(o=t[3](t[2]),i=Q(i,e,s,1,t,o,r,n,Z,Vt,null,qt)),1&e&&T(n,"id",t[0])},i:t,o:t,d(t){t&&v(n);for(let t=0;t<i.length;t+=1)i[t].d()}}}const Yt=/.{1,2}/g,Xt=.2;function Kt(e,n,i){let r,o=t,l=()=>(o(),o=s(c,(t=>i(2,r=t))),c);e.$$.on_destroy.push((()=>o()));let{id:a}=n,{ref:c}=n;l();let{grid:u}=n;return e.$$set=t=>{"id"in t&&i(0,a=t.id),"ref"in t&&l(i(1,c=t.ref)),"grid"in t&&i(4,u=t.grid)},[a,c,r,function(t){const e=[];for(const[n,i]of Object.entries(t)){const[t,r]=ht(+n,u),o=ct(i).join("").match(Yt)||[];e.push({idx:+n,x:t,y:r,lines:o})}return e},u]}function Zt(t,e,n){const i=t.slice();return i[5]=e[n].cageId,i[6]=e[n].sum,i[7]=e[n].labelPos,i[8]=e[n].d,i}function Jt(t,e,n){const i=t.slice();return i[5]=e[n].cageId,i[6]=e[n].sum,i[7]=e[n].labelPos,i}function Qt(t,e){let n,i,r,o;return{key:t,first:null,c(){n=w("rect"),T(n,"x",i=e[7].x),T(n,"y",r=e[7].y),T(n,"width",o=.7*`${e[6]}`.length*ie),T(n,"height",1.1*ie),T(n,"fill","#000"),this.first=n},m(t,e){g(t,n,e)},p(t,s){e=t,8&s&&i!==(i=e[7].x)&&T(n,"x",i),8&s&&r!==(r=e[7].y)&&T(n,"y",r),8&s&&o!==(o=.7*`${e[6]}`.length*ie)&&T(n,"width",o)},d(t){t&&v(n)}}}function te(t,e){let n,i,r,o,s,l,a,c=e[6]+"";return{key:t,first:null,c(){n=w("text"),i=b(c),s=w("path"),T(n,"x",r=e[7].x),T(n,"y",o=e[7].y),T(n,"text-anchor","start"),T(n,"dominant-baseline","hanging"),T(n,"font-size",ie),T(n,"font-weight","600"),T(s,"d",l=e[8]),T(s,"fill","none"),T(s,"stroke","#000"),T(s,"stroke-width",re),T(s,"stroke-dasharray","0.075 0.04"),T(s,"mask",a="url(#killer-"+e[0]+"-mask)"),this.first=n},m(t,e){g(t,n,e),m(n,i),g(t,s,e)},p(t,u){e=t,8&u&&c!==(c=e[6]+"")&&S(i,c),8&u&&r!==(r=e[7].x)&&T(n,"x",r),8&u&&o!==(o=e[7].y)&&T(n,"y",o),8&u&&l!==(l=e[8])&&T(s,"d",l),1&u&&a!==(a="url(#killer-"+e[0]+"-mask)")&&T(s,"mask",a)},d(t){t&&v(n),t&&v(s)}}}function ee(e){let n,i,r,o,s,l,a,c,u,d=[],f=new Map,h=[],p=new Map,y=e[4](e[3]);const _=t=>t[5];for(let t=0;t<y.length;t+=1){let n=Jt(e,y,t),i=_(n);f.set(i,d[t]=Qt(i,n))}let b=e[4](e[3]);const k=t=>t[5];for(let t=0;t<b.length;t+=1){let n=Zt(e,b,t),i=k(n);p.set(i,h[t]=te(i,n))}return{c(){n=w("mask"),i=w("rect");for(let t=0;t<d.length;t+=1)d[t].c();c=$(),u=w("g");for(let t=0;t<h.length;t+=1)h[t].c();T(i,"x","0"),T(i,"y","0"),T(i,"width",r=e[2].width),T(i,"height",o=e[2].height),T(i,"fill","#fff"),T(n,"id",s="killer-"+e[0]+"-mask"),T(n,"maskUnits","userSpaceOnUse"),T(n,"maskContentUnits","userSpaceOnUse"),T(n,"x","0"),T(n,"y","0"),T(n,"width",l=e[2].width),T(n,"height",a=e[2].height),T(u,"id",e[0])},m(t,e){g(t,n,e),m(n,i);for(let t=0;t<d.length;t+=1)d[t].m(n,null);g(t,c,e),g(t,u,e);for(let t=0;t<h.length;t+=1)h[t].m(u,null)},p(t,[e]){4&e&&r!==(r=t[2].width)&&T(i,"width",r),4&e&&o!==(o=t[2].height)&&T(i,"height",o),24&e&&(y=t[4](t[3]),d=Q(d,e,_,1,t,y,f,n,Z,Qt,null,Jt)),1&e&&s!==(s="killer-"+t[0]+"-mask")&&T(n,"id",s),4&e&&l!==(l=t[2].width)&&T(n,"width",l),4&e&&a!==(a=t[2].height)&&T(n,"height",a),25&e&&(b=t[4](t[3]),h=Q(h,e,k,1,t,b,p,u,Z,te,null,Zt)),1&e&&T(u,"id",t[0])},i:t,o:t,d(t){t&&v(n);for(let t=0;t<d.length;t+=1)d[t].d();t&&v(c),t&&v(u);for(let t=0;t<h.length;t+=1)h[t].d()}}}const ne=.075,ie=.2,re=.015;function oe(e,n,i){let r,o=t,l=()=>(o(),o=s(c,(t=>i(3,r=t))),c);e.$$.on_destroy.push((()=>o()));let{id:a}=n,{ref:c}=n;l();let{grid:u}=n;return e.$$set=t=>{"id"in t&&i(0,a=t.id),"ref"in t&&l(i(1,c=t.ref)),"grid"in t&&i(2,u=t.grid)},[a,c,u,r,function(t){const e=[];for(const[n,{sum:i,cells:r}]of Object.entries(t)){const t=mt(r,u),o=_t(gt(r),u,ne);if(null!=o&&null!=t){const r=ut(t,u),s={x:r[0]+ne-re,y:r[1]+ne-re};e.push({cageId:n,sum:i,labelPos:s,d:o})}}return e}]}function se(t,e,n){const i=t.slice();return i[4]=e[n][0],i[5]=e[n][1],i}function le(t,e,n){const i=t.slice();return i[4]=e[n][0],i[5]=e[n][1],i}function ae(t,e,n){const i=t.slice();return i[4]=e[n][0],i[5]=e[n][1],i}function ce(t,e){let n,i,r;return{key:t,first:null,c(){n=w("use"),T(n,"href",i="#max-"+e[0]+"-maskitem"),T(n,"transform",r="translate("+ut(+e[4],e[2])[0]+","+ut(+e[4],e[2])[1]+")"),T(n,"fill","#000"),this.first=n},m(t,e){g(t,n,e)},p(t,o){e=t,1&o&&i!==(i="#max-"+e[0]+"-maskitem")&&T(n,"href",i),12&o&&r!==(r="translate("+ut(+e[4],e[2])[0]+","+ut(+e[4],e[2])[1]+")")&&T(n,"transform",r)},d(t){t&&v(n)}}}function ue(t,e){let n,i,r;return{key:t,first:null,c(){n=w("rect"),T(n,"x",i=ut(+e[4],e[2])[0]),T(n,"y",r=ut(+e[4],e[2])[1]),T(n,"width","1"),T(n,"height","1"),T(n,"fill","#f2ebeb"),this.first=n},m(t,e){g(t,n,e)},p(t,o){e=t,12&o&&i!==(i=ut(+e[4],e[2])[0])&&T(n,"x",i),12&o&&r!==(r=ut(+e[4],e[2])[1])&&T(n,"y",r)},d(t){t&&v(n)}}}function de(t,e){let n,i,r;return{key:t,first:null,c(){n=w("use"),T(n,"href",i="#max-"+e[0]),T(n,"transform",r="translate("+ut(+e[4],e[2])[0]+","+ut(+e[4],e[2])[1]+")"),this.first=n},m(t,e){g(t,n,e)},p(t,o){e=t,1&o&&i!==(i="#max-"+e[0])&&T(n,"href",i),12&o&&r!==(r="translate("+ut(+e[4],e[2])[0]+","+ut(+e[4],e[2])[1]+")")&&T(n,"transform",r)},d(t){t&&v(n)}}}function fe(e){let n,i,r,o,s,l,a,c,u,d,f,h,p,y,_,b,k,x,C,A,S,E=[],O=new Map,M=[],I=new Map,D=[],j=new Map,L=Object.entries(e[3]);const R=t=>t[4];for(let t=0;t<L.length;t+=1){let n=ae(e,L,t),i=R(n);O.set(i,E[t]=ce(i,n))}let N=Object.entries(e[3]);const U=t=>t[4];for(let t=0;t<N.length;t+=1){let n=le(e,N,t),i=U(n);I.set(i,M[t]=ue(i,n))}let H=Object.entries(e[3]);const P=t=>t[4];for(let t=0;t<H.length;t+=1){let n=se(e,H,t),i=P(n);j.set(i,D[t]=de(i,n))}return{c(){n=w("path"),r=$(),o=w("path"),l=$(),a=w("mask"),c=w("rect");for(let t=0;t<E.length;t+=1)E[t].c();y=$(),_=w("rect"),x=$(),C=w("g");for(let t=0;t<M.length;t+=1)M[t].c();A=w("g");for(let t=0;t<D.length;t+=1)D[t].c();T(n,"id",i="max-"+e[0]),T(n,"d","M 0.12,0.38 L 0.08,0.50 L 0.12,0.62 M 0.38,0.12 L 0.50,0.08 L 0.62,0.12 M 0.88,0.62 L 0.92,0.50 L 0.88,0.38 M 0.62,0.88 L 0.50,0.92 L 0.38,0.88"),T(n,"fill","none"),T(n,"stroke","#000"),T(n,"stroke-width","0.025"),T(n,"stroke-miterlimit","1.5"),T(o,"id",s="max-"+e[0]+"-maskitem"),T(o,"d","M -0.5,0.5 L 0.5,-0.5 L 1.5,0.5 L 0.5,1.5 M 0,0 L 0,1 L 1,1 L 1,0"),T(o,"fill","#000"),T(c,"x","0.25"),T(c,"y","0.25"),T(c,"width",u=e[2].width-.5),T(c,"height",d=e[2].height-.5),T(c,"fill","#fff"),T(a,"id",f="max-"+e[0]+"-mask"),T(a,"maskUnits","userSpaceOnUse"),T(a,"maskContentUnits","userSpaceOnUse"),T(a,"x","0"),T(a,"y","0"),T(a,"width",h=e[2].width),T(a,"height",p=e[2].height),T(_,"width",b=e[2].width),T(_,"height",k=e[2].height),T(_,"fill","#fff"),T(A,"mask",S="url(#max-"+e[0]+"-mask)"),T(C,"id",e[0])},m(t,e){g(t,n,e),g(t,r,e),g(t,o,e),g(t,l,e),g(t,a,e),m(a,c);for(let t=0;t<E.length;t+=1)E[t].m(a,null);g(t,y,e),g(t,_,e),g(t,x,e),g(t,C,e);for(let t=0;t<M.length;t+=1)M[t].m(C,null);m(C,A);for(let t=0;t<D.length;t+=1)D[t].m(A,null)},p(t,[e]){1&e&&i!==(i="max-"+t[0])&&T(n,"id",i),1&e&&s!==(s="max-"+t[0]+"-maskitem")&&T(o,"id",s),4&e&&u!==(u=t[2].width-.5)&&T(c,"width",u),4&e&&d!==(d=t[2].height-.5)&&T(c,"height",d),13&e&&(L=Object.entries(t[3]),E=Q(E,e,R,1,t,L,O,a,Z,ce,null,ae)),1&e&&f!==(f="max-"+t[0]+"-mask")&&T(a,"id",f),4&e&&h!==(h=t[2].width)&&T(a,"width",h),4&e&&p!==(p=t[2].height)&&T(a,"height",p),4&e&&b!==(b=t[2].width)&&T(_,"width",b),4&e&&k!==(k=t[2].height)&&T(_,"height",k),12&e&&(N=Object.entries(t[3]),M=Q(M,e,U,1,t,N,I,C,Z,ue,A,le)),13&e&&(H=Object.entries(t[3]),D=Q(D,e,P,1,t,H,j,A,Z,de,null,se)),1&e&&S!==(S="url(#max-"+t[0]+"-mask)")&&T(A,"mask",S),1&e&&T(C,"id",t[0])},i:t,o:t,d(t){t&&v(n),t&&v(r),t&&v(o),t&&v(l),t&&v(a);for(let t=0;t<E.length;t+=1)E[t].d();t&&v(y),t&&v(_),t&&v(x),t&&v(C);for(let t=0;t<M.length;t+=1)M[t].d();for(let t=0;t<D.length;t+=1)D[t].d()}}}function he(e,n,i){let r,o=t,l=()=>(o(),o=s(c,(t=>i(3,r=t))),c);e.$$.on_destroy.push((()=>o()));let{id:a}=n,{ref:c}=n;l();let{grid:u}=n;return e.$$set=t=>{"id"in t&&i(0,a=t.id),"ref"in t&&l(i(1,c=t.ref)),"grid"in t&&i(2,u=t.grid)},[a,c,u,r]}function pe(t,e,n){const i=t.slice();return i[4]=e[n][0],i[5]=e[n][1],i}function me(t,e,n){const i=t.slice();return i[4]=e[n][0],i[5]=e[n][1],i}function ge(t,e,n){const i=t.slice();return i[4]=e[n][0],i[5]=e[n][1],i}function ve(t,e){let n,i,r;return{key:t,first:null,c(){n=w("use"),T(n,"href",i="#min-"+e[0]+"-maskitem"),T(n,"transform",r="translate("+ut(+e[4],e[2])[0]+","+ut(+e[4],e[2])[1]+")"),T(n,"fill","#000"),this.first=n},m(t,e){g(t,n,e)},p(t,o){e=t,1&o&&i!==(i="#min-"+e[0]+"-maskitem")&&T(n,"href",i),12&o&&r!==(r="translate("+ut(+e[4],e[2])[0]+","+ut(+e[4],e[2])[1]+")")&&T(n,"transform",r)},d(t){t&&v(n)}}}function ye(t,e){let n,i,r;return{key:t,first:null,c(){n=w("rect"),T(n,"x",i=ut(+e[4],e[2])[0]),T(n,"y",r=ut(+e[4],e[2])[1]),T(n,"width","1"),T(n,"height","1"),T(n,"fill","#f0edf2"),this.first=n},m(t,e){g(t,n,e)},p(t,o){e=t,12&o&&i!==(i=ut(+e[4],e[2])[0])&&T(n,"x",i),12&o&&r!==(r=ut(+e[4],e[2])[1])&&T(n,"y",r)},d(t){t&&v(n)}}}function _e(t,e){let n,i,r;return{key:t,first:null,c(){n=w("use"),T(n,"href",i="#min-"+e[0]),T(n,"transform",r="translate("+ut(+e[4],e[2])[0]+","+ut(+e[4],e[2])[1]+")"),this.first=n},m(t,e){g(t,n,e)},p(t,o){e=t,1&o&&i!==(i="#min-"+e[0])&&T(n,"href",i),12&o&&r!==(r="translate("+ut(+e[4],e[2])[0]+","+ut(+e[4],e[2])[1]+")")&&T(n,"transform",r)},d(t){t&&v(n)}}}function we(e){let n,i,r,o,s,l,a,c,u,d,f,h,p,y,_,b,k,x,C,A,S,E=[],O=new Map,M=[],I=new Map,D=[],j=new Map,L=Object.entries(e[3]);const R=t=>t[4];for(let t=0;t<L.length;t+=1){let n=ge(e,L,t),i=R(n);O.set(i,E[t]=ve(i,n))}let N=Object.entries(e[3]);const U=t=>t[4];for(let t=0;t<N.length;t+=1){let n=me(e,N,t),i=U(n);I.set(i,M[t]=ye(i,n))}let H=Object.entries(e[3]);const P=t=>t[4];for(let t=0;t<H.length;t+=1){let n=pe(e,H,t),i=P(n);j.set(i,D[t]=_e(i,n))}return{c(){n=w("path"),r=$(),o=w("path"),l=$(),a=w("mask"),c=w("rect");for(let t=0;t<E.length;t+=1)E[t].c();y=$(),_=w("rect"),x=$(),C=w("g");for(let t=0;t<M.length;t+=1)M[t].c();A=w("g");for(let t=0;t<D.length;t+=1)D[t].c();T(n,"id",i="min-"+e[0]),T(n,"d","M 0.08,0.38 L 0.12,0.50 L 0.08,0.62 M 0.38,0.08 L 0.50,0.12 L 0.62,0.08 M 0.92,0.62 L 0.88,0.50 L 0.92,0.38 M 0.62,0.92 L 0.50,0.88 L 0.38,0.92"),T(n,"fill","none"),T(n,"stroke","#000"),T(n,"stroke-width","0.025"),T(n,"stroke-miterlimit","1.5"),T(o,"id",s="min-"+e[0]+"-maskitem"),T(o,"d","M -0.5,0.5 L 0.5,-0.5 L 1.5,0.5 L 0.5,1.5 M 0,0 L 0,1 L 1,1 L 1,0"),T(o,"fill","#000"),T(c,"x","0.25"),T(c,"y","0.25"),T(c,"width",u=e[2].width-.5),T(c,"height",d=e[2].height-.5),T(c,"fill","#fff"),T(a,"id",f="min-"+e[0]+"-mask"),T(a,"maskUnits","userSpaceOnUse"),T(a,"maskContentUnits","userSpaceOnUse"),T(a,"x","0"),T(a,"y","0"),T(a,"width",h=e[2].width),T(a,"height",p=e[2].height),T(_,"width",b=e[2].width),T(_,"height",k=e[2].height),T(_,"fill","#fff"),T(A,"mask",S="url(#min-"+e[0]+"-mask)"),T(C,"id",e[0])},m(t,e){g(t,n,e),g(t,r,e),g(t,o,e),g(t,l,e),g(t,a,e),m(a,c);for(let t=0;t<E.length;t+=1)E[t].m(a,null);g(t,y,e),g(t,_,e),g(t,x,e),g(t,C,e);for(let t=0;t<M.length;t+=1)M[t].m(C,null);m(C,A);for(let t=0;t<D.length;t+=1)D[t].m(A,null)},p(t,[e]){1&e&&i!==(i="min-"+t[0])&&T(n,"id",i),1&e&&s!==(s="min-"+t[0]+"-maskitem")&&T(o,"id",s),4&e&&u!==(u=t[2].width-.5)&&T(c,"width",u),4&e&&d!==(d=t[2].height-.5)&&T(c,"height",d),13&e&&(L=Object.entries(t[3]),E=Q(E,e,R,1,t,L,O,a,Z,ve,null,ge)),1&e&&f!==(f="min-"+t[0]+"-mask")&&T(a,"id",f),4&e&&h!==(h=t[2].width)&&T(a,"width",h),4&e&&p!==(p=t[2].height)&&T(a,"height",p),4&e&&b!==(b=t[2].width)&&T(_,"width",b),4&e&&k!==(k=t[2].height)&&T(_,"height",k),12&e&&(N=Object.entries(t[3]),M=Q(M,e,U,1,t,N,I,C,Z,ye,A,me)),13&e&&(H=Object.entries(t[3]),D=Q(D,e,P,1,t,H,j,A,Z,_e,null,pe)),1&e&&S!==(S="url(#min-"+t[0]+"-mask)")&&T(A,"mask",S),1&e&&T(C,"id",t[0])},i:t,o:t,d(t){t&&v(n),t&&v(r),t&&v(o),t&&v(l),t&&v(a);for(let t=0;t<E.length;t+=1)E[t].d();t&&v(y),t&&v(_),t&&v(x),t&&v(C);for(let t=0;t<M.length;t+=1)M[t].d();for(let t=0;t<D.length;t+=1)D[t].d()}}}function be(e,n,i){let r,o=t,l=()=>(o(),o=s(c,(t=>i(3,r=t))),c);e.$$.on_destroy.push((()=>o()));let{id:a}=n,{ref:c}=n;l();let{grid:u}=n;return e.$$set=t=>{"id"in t&&i(0,a=t.id),"ref"in t&&l(i(1,c=t.ref)),"grid"in t&&i(2,u=t.grid)},[a,c,u,r]}function $e(t,e,n){const i=t.slice();return i[4]=e[n][0],i[5]=e[n][1],i}function ke(t,e){let n,i,r,o,s,l,a,c,u,d,f,h,p,y;return{key:t,first:null,c(){n=w("mask"),i=w("rect"),s=w("path"),c=w("path"),f=w("path"),T(i,"width",r=e[2].width),T(i,"height",o=e[2].height),T(i,"fill","#fff"),T(s,"d",l=vt(ct(e[5].head),e[2])),T(s,"fill","none"),T(s,"stroke","#000"),T(s,"stroke-width","0.75"),T(s,"stroke-linejoin","round"),T(s,"stroke-linecap","round"),T(n,"id",a="arrow-"+e[0]+"-mask-"+e[4]),T(n,"maskUnits","userSpaceOnUse"),T(c,"d",u=vt(ct(e[5].head),e[2])),T(c,"fill","none"),T(c,"stroke","#000"),T(c,"stroke-width","0.8"),T(c,"mask",d="url(#arrow-"+e[0]+"-mask-"+e[4]+")"),T(c,"stroke-linejoin","round"),T(c,"stroke-linecap","round"),T(f,"d",h=vt(ct(e[5].body),e[2],.15)),T(f,"fill","none"),T(f,"stroke","#000"),T(f,"stroke-width","0.025"),T(f,"mask",p="url(#arrow-"+e[0]+"-mask-"+e[4]+")"),T(f,"stroke-miterlimit","1.5"),T(f,"marker-end",y="url(#arrow-head-"+e[0]+")"),this.first=n},m(t,e){g(t,n,e),m(n,i),m(n,s),g(t,c,e),g(t,f,e)},p(t,m){e=t,4&m&&r!==(r=e[2].width)&&T(i,"width",r),4&m&&o!==(o=e[2].height)&&T(i,"height",o),12&m&&l!==(l=vt(ct(e[5].head),e[2]))&&T(s,"d",l),9&m&&a!==(a="arrow-"+e[0]+"-mask-"+e[4])&&T(n,"id",a),12&m&&u!==(u=vt(ct(e[5].head),e[2]))&&T(c,"d",u),9&m&&d!==(d="url(#arrow-"+e[0]+"-mask-"+e[4]+")")&&T(c,"mask",d),12&m&&h!==(h=vt(ct(e[5].body),e[2],.15))&&T(f,"d",h),9&m&&p!==(p="url(#arrow-"+e[0]+"-mask-"+e[4]+")")&&T(f,"mask",p),1&m&&y!==(y="url(#arrow-head-"+e[0]+")")&&T(f,"marker-end",y)},d(t){t&&v(n),t&&v(c),t&&v(f)}}}function xe(e){let n,i,r,o,s,l=[],a=new Map,c=Object.entries(e[3]);const u=t=>t[4];for(let t=0;t<c.length;t+=1){let n=$e(e,c,t),i=u(n);a.set(i,l[t]=ke(i,n))}return{c(){n=w("marker"),i=w("path"),o=$(),s=w("g");for(let t=0;t<l.length;t+=1)l[t].c();T(i,"d","M 0.4,0.425 L 0.5,0.5 L 0.4,0.575"),T(i,"fill","none"),T(i,"stroke","#000"),T(i,"stroke-width","0.025"),T(n,"id",r="arrow-head-"+e[0]),T(n,"viewBox","0 0 1 1"),T(n,"refX","0.5"),T(n,"refY","0.5"),T(n,"markerUnits","userSpaceOnUse"),T(n,"markerWidth","1"),T(n,"markerHeight","1"),T(n,"orient","auto"),T(s,"id",e[0])},m(t,e){g(t,n,e),m(n,i),g(t,o,e),g(t,s,e);for(let t=0;t<l.length;t+=1)l[t].m(s,null)},p(t,[e]){1&e&&r!==(r="arrow-head-"+t[0])&&T(n,"id",r),13&e&&(c=Object.entries(t[3]),l=Q(l,e,u,1,t,c,a,s,Z,ke,null,$e)),1&e&&T(s,"id",t[0])},i:t,o:t,d(t){t&&v(n),t&&v(o),t&&v(s);for(let t=0;t<l.length;t+=1)l[t].d()}}}function Ce(e,n,i){let r,o=t,l=()=>(o(),o=s(c,(t=>i(3,r=t))),c);e.$$.on_destroy.push((()=>o()));let{id:a}=n,{ref:c}=n;l();let{grid:u}=n;return e.$$set=t=>{"id"in t&&i(0,a=t.id),"ref"in t&&l(i(1,c=t.ref)),"grid"in t&&i(2,u=t.grid)},[a,c,u,r]}function Ae(t,e,n){const i=t.slice();return i[5]=e[n].thermoId,i[6]=e[n].d,i[7]=e[n].invalid,i}function Te(t,e){let n,i,r,o;return{key:t,first:null,c(){n=w("path"),T(n,"d",i=e[6]),T(n,"fill","none"),T(n,"stroke",r=e[7]?"#fcc":"#ddd"),T(n,"stroke-width","0.2"),T(n,"marker-start",o="url(#thermo-bulb-"+e[0]+")"),T(n,"stroke-linejoin","round"),T(n,"stroke-linecap","round"),this.first=n},m(t,e){g(t,n,e)},p(t,s){e=t,8&s&&i!==(i=e[6])&&T(n,"d",i),8&s&&r!==(r=e[7]?"#fcc":"#ddd")&&T(n,"stroke",r),1&s&&o!==(o="url(#thermo-bulb-"+e[0]+")")&&T(n,"marker-start",o)},d(t){t&&v(n)}}}function Se(e){let n,i,r,o,s,l=[],a=new Map,c=e[2](e[3]||{});const u=t=>t[5];for(let t=0;t<c.length;t+=1){let n=Ae(e,c,t),i=u(n);a.set(i,l[t]=Te(i,n))}return{c(){n=w("marker"),i=w("circle"),o=$(),s=w("g");for(let t=0;t<l.length;t+=1)l[t].c();T(i,"cx","0.5"),T(i,"cy","0.5"),T(i,"r","0.4"),T(i,"fill","#ddd"),T(n,"id",r="thermo-bulb-"+e[0]),T(n,"viewBox","0 0 1 1"),T(n,"refX","0.5"),T(n,"refY","0.5"),T(n,"markerUnits","userSpaceOnUse"),T(n,"markerWidth","1"),T(n,"markerHeight","1"),T(n,"orient","auto"),T(s,"id",e[0])},m(t,e){g(t,n,e),m(n,i),g(t,o,e),g(t,s,e);for(let t=0;t<l.length;t+=1)l[t].m(s,null)},p(t,[e]){1&e&&r!==(r="thermo-bulb-"+t[0])&&T(n,"id",r),13&e&&(c=t[2](t[3]||{}),l=Q(l,e,u,1,t,c,a,s,Z,Te,null,Ae)),1&e&&T(s,"id",t[0])},i:t,o:t,d(t){t&&v(n),t&&v(o),t&&v(s);for(let t=0;t<l.length;t+=1)l[t].d()}}}function Ee(e,n,i){let r,o=t,l=()=>(o(),o=s(c,(t=>i(3,r=t))),c);e.$$.on_destroy.push((()=>o()));let{id:a}=n,{ref:c}=n;l();let{grid:u}=n;return e.$$set=t=>{"id"in t&&i(0,a=t.id),"ref"in t&&l(i(1,c=t.ref)),"grid"in t&&i(4,u=t.grid)},[a,c,function(t){const e=[];for(const[n,i]of Object.entries(t)){const t=ct(i);e.push({thermoId:n,d:vt(t,u,.25),invalid:t.length>u.width})}return e},r,u]}function Oe(t,e,n){const i=t.slice();return i[5]=e[n][0],i[6]=e[n][1],i}function Me(t,e){let n,i,r,o,s=e[6]+"";return{key:t,first:null,c(){n=w("text"),i=b(s),T(n,"x",r=ut(+e[5],e[2])[0]+.5),T(n,"y",o=ut(+e[5],e[2])[1]+.5),T(n,"fill",e[3]),T(n,"text-anchor","middle"),T(n,"dominant-baseline","central"),T(n,"font-size","0.8"),T(n,"font-weight","600"),this.first=n},m(t,e){g(t,n,e),m(n,i)},p(t,l){e=t,16&l&&s!==(s=e[6]+"")&&S(i,s),20&l&&r!==(r=ut(+e[5],e[2])[0]+.5)&&T(n,"x",r),20&l&&o!==(o=ut(+e[5],e[2])[1]+.5)&&T(n,"y",o),8&l&&T(n,"fill",e[3])},d(t){t&&v(n)}}}function Ie(e){let n,i=[],r=new Map,o=Object.entries(e[4]||{});const s=t=>t[5];for(let t=0;t<o.length;t+=1){let n=Oe(e,o,t),l=s(n);r.set(l,i[t]=Me(l,n))}return{c(){n=w("g");for(let t=0;t<i.length;t+=1)i[t].c();T(n,"id",e[0])},m(t,e){g(t,n,e);for(let t=0;t<i.length;t+=1)i[t].m(n,null)},p(t,[e]){28&e&&(o=Object.entries(t[4]||{}),i=Q(i,e,s,1,t,o,r,n,Z,Me,null,Oe)),1&e&&T(n,"id",t[0])},i:t,o:t,d(t){t&&v(n);for(let t=0;t<i.length;t+=1)i[t].d()}}}function De(e,n,i){let r,o=t,l=()=>(o(),o=s(c,(t=>i(4,r=t))),c);e.$$.on_destroy.push((()=>o()));let{id:a}=n,{ref:c}=n;l();let{grid:u}=n,{color:d="#000"}=n;return e.$$set=t=>{"id"in t&&i(0,a=t.id),"ref"in t&&l(i(1,c=t.ref)),"grid"in t&&i(2,u=t.grid),"color"in t&&i(3,d=t.color)},[a,c,u,d,r]}class je extends ot{constructor(t){super(),rt(this,t,De,Ie,o,{id:0,ref:1,grid:2,color:3})}}function Le(e){let n,i,r,o,s,l,a,c,u,d,f,h;return{c(){n=w("pattern"),i=w("rect"),c=$(),u=w("rect"),T(i,"width",r=e[3].width),T(i,"height",o=e[3].height),T(i,"stroke","#000"),T(i,"fill","none"),T(i,"stroke-width",at),T(n,"id",s="box-"+e[0]),T(n,"width",l=e[3].width),T(n,"height",a=e[3].height),T(n,"patternUnits","userSpaceOnUse"),T(u,"id",e[0]),T(u,"x",-.02),T(u,"y",-.02),T(u,"width",d=e[2].width+at),T(u,"height",f=e[2].height+at),T(u,"fill",h="url(#box-"+e[0]+")"),T(u,"stroke","none")},m(t,e){g(t,n,e),m(n,i),g(t,c,e),g(t,u,e)},p(t,[e]){8&e&&r!==(r=t[3].width)&&T(i,"width",r),8&e&&o!==(o=t[3].height)&&T(i,"height",o),1&e&&s!==(s="box-"+t[0])&&T(n,"id",s),8&e&&l!==(l=t[3].width)&&T(n,"width",l),8&e&&a!==(a=t[3].height)&&T(n,"height",a),1&e&&T(u,"id",t[0]),4&e&&d!==(d=t[2].width+at)&&T(u,"width",d),4&e&&f!==(f=t[2].height+at)&&T(u,"height",f),1&e&&h!==(h="url(#box-"+t[0]+")")&&T(u,"fill",h)},i:t,o:t,d(t){t&&v(n),t&&v(c),t&&v(u)}}}function Re(e,n,i){let r,o=t,l=()=>(o(),o=s(c,(t=>i(3,r=t))),c);e.$$.on_destroy.push((()=>o()));let{id:a}=n,{ref:c}=n;l();let{grid:u}=n;return e.$$set=t=>{"id"in t&&i(0,a=t.id),"ref"in t&&l(i(1,c=t.ref)),"grid"in t&&i(2,u=t.grid)},[a,c,u,r]}function Ne(e){let n,i,r,o,s,l,a,c;return{c(){n=w("pattern"),i=w("rect"),o=$(),s=w("rect"),T(i,"width","1"),T(i,"height","1"),T(i,"stroke","#000"),T(i,"fill","none"),T(i,"stroke-width",st),T(n,"id",r="grid-"+e[0]),T(n,"width","1"),T(n,"height","1"),T(n,"patternUnits","userSpaceOnUse"),T(s,"id",e[0]),T(s,"x",-.005),T(s,"y",-.005),T(s,"width",l=e[2].width+lt),T(s,"height",a=e[2].height+lt),T(s,"fill",c="url(#grid-"+e[0]+")"),T(s,"stroke","none")},m(t,e){g(t,n,e),m(n,i),g(t,o,e),g(t,s,e)},p(t,[e]){1&e&&r!==(r="grid-"+t[0])&&T(n,"id",r),1&e&&T(s,"id",t[0]),4&e&&l!==(l=t[2].width+lt)&&T(s,"width",l),4&e&&a!==(a=t[2].height+lt)&&T(s,"height",a),1&e&&c!==(c="url(#grid-"+t[0]+")")&&T(s,"fill",c)},i:t,o:t,d(t){t&&v(n),t&&v(o),t&&v(s)}}}function Ue(e,n,i){let r=t,o=()=>(r(),r=s(a,(t=>i(3,t))),a);e.$$.on_destroy.push((()=>r()));let{id:l}=n,{ref:a}=n;o();let{grid:c}=n;return e.$$set=t=>{"id"in t&&i(0,l=t.id),"ref"in t&&o(i(1,a=t.ref)),"grid"in t&&i(2,c=t.grid)},[l,a,c]}function He(t,e,n){const i=t.slice();return i[9]=e[n].id,i}function Pe(t,e,n){const i=t.slice();return i[9]=e[n].id,i[12]=e[n].ref,i[13]=e[n].element,i}function Fe(t,e){let n,i,r,o;var s=e[13];function l(t){return{props:{id:t[9],ref:t[12],grid:t[3]}}}return s&&(i=new s(l(e))),{key:t,first:null,c(){n=k(),i&&tt(i.$$.fragment),r=k(),this.first=n},m(t,e){g(t,n,e),i&&et(i,t,e),g(t,r,e),o=!0},p(t,n){e=t;const o={};if(2&n&&(o.id=e[9]),2&n&&(o.ref=e[12]),8&n&&(o.grid=e[3]),s!==(s=e[13])){if(i){W();const t=i;K(t.$$.fragment,1,0,(()=>{nt(t,1)})),Y()}s?(i=new s(l(e)),tt(i.$$.fragment),X(i.$$.fragment,1),et(i,r.parentNode,r)):i=null}else s&&i.$set(o)},i(t){o||(i&&X(i.$$.fragment,t),o=!0)},o(t){i&&K(i.$$.fragment,t),o=!1},d(t){t&&v(n),t&&v(r),i&&nt(i,t)}}}function Ge(t,e){let n,i;return{key:t,first:null,c(){n=w("use"),T(n,"href",i="#"+e[9]),this.first=n},m(t,e){g(t,n,e)},p(t,r){e=t,2&r&&i!==(i="#"+e[9])&&T(n,"href",i)},d(t){t&&v(n)}}}function qe(t){let e,n,i,r,o,s,l=[],a=new Map,c=[],u=new Map,d=t[1];const f=t=>t[9];for(let e=0;e<d.length;e+=1){let n=Pe(t,d,e),i=f(n);a.set(i,l[e]=Fe(i,n))}let h=t[1];const p=t=>t[9];for(let e=0;e<h.length;e+=1){let n=He(t,h,e),i=p(n);u.set(i,c[e]=Ge(i,n))}return{c(){e=w("svg"),n=w("style"),i=b("svg {\n            -webkit-tap-highlight-color: transparent;\n            touch-action: none;\n        }\n        text {\n            -webkit-user-select: none;\n            -moz-user-select: none;\n            -ms-user-select: none;\n            user-select: none;\n        }\n        text::selection {\n            background: none;\n        }\n        svg * {\n            pointer-events: none;\n        }\n        .hide {\n            display: none;\n        }\n    "),r=w("defs");for(let t=0;t<l.length;t+=1)l[t].c();for(let t=0;t<c.length;t+=1)c[t].c();T(e,"viewBox",o=t[2].x+" "+t[2].y+" "+t[2].width+" "+t[2].height),T(e,"xmlns","http://www.w3.org/2000/svg")},m(o,a){g(o,e,a),m(e,n),m(n,i),m(e,r);for(let t=0;t<l.length;t+=1)l[t].m(r,null);for(let t=0;t<c.length;t+=1)c[t].m(e,null);t[8](e),s=!0},p(t,[n]){10&n&&(d=t[1],W(),l=Q(l,n,f,1,t,d,a,r,J,Fe,null,Pe),Y()),2&n&&(h=t[1],c=Q(c,n,p,1,t,h,u,e,Z,Ge,null,He)),(!s||4&n&&o!==(o=t[2].x+" "+t[2].y+" "+t[2].width+" "+t[2].height))&&T(e,"viewBox",o)},i(t){if(!s){for(let t=0;t<d.length;t+=1)X(l[t]);s=!0}},o(t){for(let t=0;t<l.length;t+=1)K(l[t]);s=!1},d(n){n&&v(e);for(let t=0;t<l.length;t+=1)l[t].d();for(let t=0;t<c.length;t+=1)c[t].d();t[8](null)}}}const Be={grid:class extends ot{constructor(t){super(),rt(this,t,Ue,Ne,o,{id:0,ref:1,grid:2})}},box:class extends ot{constructor(t){super(),rt(this,t,Re,Le,o,{id:0,ref:1,grid:2})}},givens:je,filled:function(t){return t.props.color="#4e72b0",new je(t)},corner:class extends ot{constructor(t){super(),rt(this,t,Mt,Ot,o,{id:0,ref:1,grid:4})}},center:class extends ot{constructor(t){super(),rt(this,t,Ct,xt,o,{id:0,ref:1,grid:4})}},thermo:class extends ot{constructor(t){super(),rt(this,t,Ee,Se,o,{id:0,ref:1,grid:4,getThermos:2})}get getThermos(){return this.$$.ctx[2]}},arrow:class extends ot{constructor(t){super(),rt(this,t,Ce,xe,o,{id:0,ref:1,grid:2})}},sandwich:null,min:class extends ot{constructor(t){super(),rt(this,t,be,we,o,{id:0,ref:1,grid:2})}},max:class extends ot{constructor(t){super(),rt(this,t,he,fe,o,{id:0,ref:1,grid:2})}},killer:class extends ot{constructor(t){super(),rt(this,t,oe,ee,o,{id:0,ref:1,grid:2})}},quadruple:class extends ot{constructor(t){super(),rt(this,t,Kt,Wt,o,{id:0,ref:1,grid:4})}},diagonal:class extends ot{constructor(t){super(),rt(this,t,Gt,Ft,o,{id:0,ref:6,grid:1})}},knight:null,king:null,disjointGroups:null,consecutive:null,select:Pt};function ze(t,e,n){let i,r,{userState:o}=e,{boardState:s}=e,{svg:a=null}=e;const c=s.ref("grid");l(t,c,(t=>n(3,r=t)));const u=Lt(c,(t=>({x:-.005,y:-.005,width:t.width+st,height:t.height+st})));l(t,u,(t=>n(2,i=t)));const d=[{id:"select",order:9.5,ref:o.ref("select"),element:Pt}];return s.ref("elements/*").watch((([t,e],i,r)=>{let o=-1;if(null!=i){if(null==Be[i.type])return;if(o=d.findIndex((({id:t})=>e===t)),0>o)return void console.error(`Failed to find renderer for constraint with id ${e}.`)}if(null==r)delete d[o];else{const l=Be[r.type];if(null==l)return void console.warn(`Cannot render unknown constraint type: ${r.type}.`);const a={id:e,order:r.order,ref:s.ref(t,e,"value"),element:l};null==i?d.push(a):(i.type!==r.type&&console.error("Cannot change type of constraint!"),n(1,d[o]=a,d))}d.sort(((t,e)=>t.order-e.order))}),!0),t.$$set=t=>{"userState"in t&&n(6,o=t.userState),"boardState"in t&&n(7,s=t.boardState),"svg"in t&&n(0,a=t.svg)},[a,d,i,r,c,u,o,s,function(t){L[t?"unshift":"push"]((()=>{a=t,n(0,a)}))}]}class Ve extends ot{constructor(t){super(),rt(this,t,ze,qe,o,{userState:6,boardState:7,svg:0})}}function We(t,e,n){var i,r,o,s,l;function a(){var c=Date.now()-s;c<e&&c>=0?i=setTimeout(a,e-c):(i=null,n||(l=t.apply(o,r),o=r=null))}null==e&&(e=100);var c=function(){o=this,r=arguments,s=Date.now();var c=n&&!i;return i||(i=setTimeout(a,e)),c&&(l=t.apply(o,r),o=r=null),l};return c.clear=function(){i&&(clearTimeout(i),i=null)},c.flush=function(){i&&(l=t.apply(o,r),o=r=null,clearTimeout(i),i=null)},c}We.debounce=We;var Ye=We;function Xe(t){var e={exports:{}};return t(e,e.exports),e.exports}var Ke=Xe((function(t){var e=function(){var t=String.fromCharCode,e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",i={};function r(t,e){if(!i[t]){i[t]={};for(var n=0;n<t.length;n++)i[t][t.charAt(n)]=n}return i[t][e]}var o={compressToBase64:function(t){if(null==t)return"";var n=o._compress(t,6,(function(t){return e.charAt(t)}));switch(n.length%4){default:case 0:return n;case 1:return n+"===";case 2:return n+"==";case 3:return n+"="}},decompressFromBase64:function(t){return null==t?"":""==t?null:o._decompress(t.length,32,(function(n){return r(e,t.charAt(n))}))},compressToUTF16:function(e){return null==e?"":o._compress(e,15,(function(e){return t(e+32)}))+" "},decompressFromUTF16:function(t){return null==t?"":""==t?null:o._decompress(t.length,16384,(function(e){return t.charCodeAt(e)-32}))},compressToUint8Array:function(t){for(var e=o.compress(t),n=new Uint8Array(2*e.length),i=0,r=e.length;i<r;i++){var s=e.charCodeAt(i);n[2*i]=s>>>8,n[2*i+1]=s%256}return n},decompressFromUint8Array:function(e){if(null==e)return o.decompress(e);for(var n=new Array(e.length/2),i=0,r=n.length;i<r;i++)n[i]=256*e[2*i]+e[2*i+1];var s=[];return n.forEach((function(e){s.push(t(e))})),o.decompress(s.join(""))},compressToEncodedURIComponent:function(t){return null==t?"":o._compress(t,6,(function(t){return n.charAt(t)}))},decompressFromEncodedURIComponent:function(t){return null==t?"":""==t?null:(t=t.replace(/ /g,"+"),o._decompress(t.length,32,(function(e){return r(n,t.charAt(e))})))},compress:function(e){return o._compress(e,16,(function(e){return t(e)}))},_compress:function(t,e,n){if(null==t)return"";var i,r,o,s={},l={},a="",c="",u="",d=2,f=3,h=2,p=[],m=0,g=0;for(o=0;o<t.length;o+=1)if(a=t.charAt(o),Object.prototype.hasOwnProperty.call(s,a)||(s[a]=f++,l[a]=!0),c=u+a,Object.prototype.hasOwnProperty.call(s,c))u=c;else{if(Object.prototype.hasOwnProperty.call(l,u)){if(u.charCodeAt(0)<256){for(i=0;i<h;i++)m<<=1,g==e-1?(g=0,p.push(n(m)),m=0):g++;for(r=u.charCodeAt(0),i=0;i<8;i++)m=m<<1|1&r,g==e-1?(g=0,p.push(n(m)),m=0):g++,r>>=1}else{for(r=1,i=0;i<h;i++)m=m<<1|r,g==e-1?(g=0,p.push(n(m)),m=0):g++,r=0;for(r=u.charCodeAt(0),i=0;i<16;i++)m=m<<1|1&r,g==e-1?(g=0,p.push(n(m)),m=0):g++,r>>=1}0==--d&&(d=Math.pow(2,h),h++),delete l[u]}else for(r=s[u],i=0;i<h;i++)m=m<<1|1&r,g==e-1?(g=0,p.push(n(m)),m=0):g++,r>>=1;0==--d&&(d=Math.pow(2,h),h++),s[c]=f++,u=String(a)}if(""!==u){if(Object.prototype.hasOwnProperty.call(l,u)){if(u.charCodeAt(0)<256){for(i=0;i<h;i++)m<<=1,g==e-1?(g=0,p.push(n(m)),m=0):g++;for(r=u.charCodeAt(0),i=0;i<8;i++)m=m<<1|1&r,g==e-1?(g=0,p.push(n(m)),m=0):g++,r>>=1}else{for(r=1,i=0;i<h;i++)m=m<<1|r,g==e-1?(g=0,p.push(n(m)),m=0):g++,r=0;for(r=u.charCodeAt(0),i=0;i<16;i++)m=m<<1|1&r,g==e-1?(g=0,p.push(n(m)),m=0):g++,r>>=1}0==--d&&(d=Math.pow(2,h),h++),delete l[u]}else for(r=s[u],i=0;i<h;i++)m=m<<1|1&r,g==e-1?(g=0,p.push(n(m)),m=0):g++,r>>=1;0==--d&&(d=Math.pow(2,h),h++)}for(r=2,i=0;i<h;i++)m=m<<1|1&r,g==e-1?(g=0,p.push(n(m)),m=0):g++,r>>=1;for(;;){if(m<<=1,g==e-1){p.push(n(m));break}g++}return p.join("")},decompress:function(t){return null==t?"":""==t?null:o._decompress(t.length,32768,(function(e){return t.charCodeAt(e)}))},_decompress:function(e,n,i){var r,o,s,l,a,c,u,d=[],f=4,h=4,p=3,m="",g=[],v={val:i(0),position:n,index:1};for(r=0;r<3;r+=1)d[r]=r;for(s=0,a=Math.pow(2,2),c=1;c!=a;)l=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=i(v.index++)),s|=(l>0?1:0)*c,c<<=1;switch(s){case 0:for(s=0,a=Math.pow(2,8),c=1;c!=a;)l=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=i(v.index++)),s|=(l>0?1:0)*c,c<<=1;u=t(s);break;case 1:for(s=0,a=Math.pow(2,16),c=1;c!=a;)l=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=i(v.index++)),s|=(l>0?1:0)*c,c<<=1;u=t(s);break;case 2:return""}for(d[3]=u,o=u,g.push(u);;){if(v.index>e)return"";for(s=0,a=Math.pow(2,p),c=1;c!=a;)l=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=i(v.index++)),s|=(l>0?1:0)*c,c<<=1;switch(u=s){case 0:for(s=0,a=Math.pow(2,8),c=1;c!=a;)l=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=i(v.index++)),s|=(l>0?1:0)*c,c<<=1;d[h++]=t(s),u=h-1,f--;break;case 1:for(s=0,a=Math.pow(2,16),c=1;c!=a;)l=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=i(v.index++)),s|=(l>0?1:0)*c,c<<=1;d[h++]=t(s),u=h-1,f--;break;case 2:return g.join("")}if(0==f&&(f=Math.pow(2,p),p++),d[u])m=d[u];else{if(u!==h)return null;m=o+o.charAt(0)}g.push(m),d[h++]=o+m.charAt(0),o=m,0==--f&&(f=Math.pow(2,p),p++)}}};return o}();null!=t&&(t.exports=e)})),Ze=Xe((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.StateManager=e.StateRef=void 0;const n="function"==typeof Object.fromEntries?Object.fromEntries:t=>{const e=Object.create(null);for(const[n,i]of t)e[n]=i;return e},i=Symbol("watchers key");function r(t,e){return null==t&&null==e||Object.is(t,e)}function o(t){return null==t?null:t}class s{constructor(t,e){this._path=[],this._stateManager=t;for(const t of e)".."===t?this._path.pop():"."===t||this._path.push(t)}ref(...t){return new s(this._stateManager,[...this._path,...t])}get(){return this._stateManager.get(...this._path)}watch(t,e){return this._stateManager.watch(t,e,this._path.join("/")),t}unwatch(t){this._stateManager.unwatch(t)}replace(t){return this._stateManager.update({[this._path.join("/")]:t})}update(t){const e=this._path.join("/")+"/",i=n(Object.entries(t).map((([t,n])=>[e+t,n])));return this._stateManager.update(i)}subscribe(t){const e=this.watch(((e,n,i)=>t(i)),!0);return()=>this.unwatch(e)}set(t){this.replace(t)}}e.StateRef=s;class l{constructor(){this._data=null,this._watchers=new Map,this._watcherTreeRoot=Object.create(null)}ref(...t){return new s(this,t)}get(...t){let e=this._data;for(const n of t){if(null==e)break;if(n.includes("/"))throw Error('Path cannot contain "/", split into varargs.');e=e[n]}return o(e)}watch(t,e,...n){let i=this._watchers.get(t);null==i&&(i=new Set,this._watchers.set(t,i));for(const i of n)this._watchPattern(t,e,i);return t}unwatch(t){if(!this._watchers.has(t))throw Error("Cannot find watcher.");const e=this._watchers.get(t);this._watchers.delete(t);for(const n of e)if(!l._unwatchPattern(t,this._watcherTreeRoot,n.split("/")))throw Error(`Failed to remove watcher from pattern: ${n}.`)}update(t){if("object"!=typeof t)throw Error(`Invalid update object: ${t}`);let e=!1;const i=[],o=[];for(const[n,s]of Object.entries(t)){if(0>=n.length)throw Error("Update key cannot be empty.");const t=n.split("/"),{data:a,redo:c,undo:u}=l._updateInternal(this._data,s,t,[],[this._watcherTreeRoot]);r(this._data,a)||(e=!0,this._data=a,i.push(...c),o.push(...u))}return e?{redo:n(i),undo:n(o)}:null}_watchPattern(t,e,n){if(!n||0>=n.length)throw Error(`Pattern cannot be empty: ${n}.`);const r=n.split("/");let o=this._watcherTreeRoot;for(const t of r)"."!==t&&(Object.prototype.hasOwnProperty.call(o,t)||(o[t]=Object.create(null)),o=o[t]);(o[i]||(o[i]=new Set)).add(t),e&&l._triggerNow(this._data,r,[],t)}static _unwatchPattern(t,e,n){if(0===n.length){const n=e[i];return null!=n&&(!!n.delete(t)&&(0>=n.size&&delete e[i],!0))}const[r,...o]=n;return!("."===r&&!this._unwatchPattern(t,e,o))&&(!!Object.prototype.hasOwnProperty.call(e,r)&&(!!this._unwatchPattern(t,e[r],o)&&(0>=Object.keys(e[r]).length&&null==e[i]&&delete e[r],!0)))}static _triggerNow(t,e,n,i){if(null==t)return;if(0>=e.length){try{i(n,null,t)}catch(t){console.error("Watcher threw:",t,i)}return}if("object"!=typeof t)return;const[r,...o]=e;if("."===r)this._triggerNow(t,o,n,i);else if("*"===r)for(const[e,r]of Object.entries(t))this._triggerNow(r,o,[...n,e],i);else Object.prototype.hasOwnProperty.call(t,r)&&this._triggerNow(t[r],o,[...n,r],i)}static _updateInternal(t,e,n,s,a){const c=0>=n.length,u="object"==typeof t?t:null,d="object"==typeof e?e:null,{data:f,redo:h,undo:p}=(()=>{if(c){if(null==u&&null==d)return{data:e,undo:[],redo:[]};const n=new Set([...Object.keys(u||{}),...Object.keys(d||{})]);let i=!1;const c=Object.create(null),f=[],h=[];for(const t of n){const e=u?o(u[t]):null,n=d?o(d[t]):null,p=l._nextWatcherTrees(t,a),{data:m,redo:g,undo:v}=l._updateInternal(e,n,[],[...s,t],p);r(e,m)||(i=!0,f.push(...g),h.push(...v),c[t]=m)}if(!i)return{data:t,redo:f,undo:h};const p=Object.assign(Object.create(null),u);for(const[t,e]of Object.entries(c))null==e?delete p[t]:p[t]=e;return 0===Object.keys(p).length?{data:null,redo:f,undo:h}:{data:p,redo:f,undo:h}}const[i,...f]=n,h=u?o(u[i]):null,p=l._nextWatcherTrees(i,a),{data:m,redo:g,undo:v}=l._updateInternal(h,e,f,[...s,i],p);if(r(h,m))return{data:t,redo:g,undo:v};const y=Object.assign(Object.create(null),u);return null==m?delete y[i]:y[i]=m,Object.values(y).every((t=>null==t))?{data:null,redo:g,undo:v}:{data:y,redo:g,undo:v}})();if(!r(t,f)){if(null==t){if(null==f)throw"N/A";"object"==typeof f||(h.length=0,h.push([s.join("/"),f]),p.length=0,p.push([s.join("/"),null]))}else"object"==typeof t?null==f||"object"==typeof f||(h.length=0,h.push([s.join("/"),f])):null==f?(h.length=0,h.push([s.join("/"),null]),p.length=0,p.push([s.join("/"),t])):"object"==typeof f?(p.length=0,p.push([s.join("/"),t])):(h.length=0,h.push([s.join("/"),null]),p.length=0,p.push([s.join("/"),t]));for(const e of a)for(const n of e[i]||[])try{n(s,t,f)}catch(t){console.error("Watcher threw:",t,n)}return{data:f,undo:p,redo:h}}return{data:t,undo:p,redo:h}}static _nextWatcherTrees(t,e){const n=[];for(const i of e)i["*"]&&n.push(i["*"]),i[t]&&n.push(i[t]);return n}}e.StateManager=l}));const Je=window.userState=new Ze.StateManager;Je.update({select:{},prevTool:null,tool:"120",marks:{filled:"120",corner:"130",center:"140",colors:"150"}});const Qe=Je.ref("select"),tn=Je.ref("prevTool"),en=Je.ref("tool"),nn="tool";function rn(t){let e,n,i,r;return{c(){e=_("input"),T(e,"class","radio-select-button svelte-1xnmwrx"),T(e,"type","radio"),T(e,"id",n="local-radio-"+ ++an),e.__value=t[0],e.value=e.__value,T(e,"name",nn),t[10][0].push(e)},m(n,o){g(n,e,o),e.checked=e.__value===t[6],i||(r=x(e,"change",t[9]),i=!0)},p(t,n){1&n&&(e.__value=t[0],e.value=e.__value),64&n&&(e.checked=e.__value===t[6])},d(n){n&&v(e),t[10][0].splice(t[10][0].indexOf(e),1),i=!1,r()}}}function on(t){let e,n;return{c(){e=_("span"),n=b(t[1]),T(e,"class","name svelte-1xnmwrx"),O(e,"unused",t[2])},m(t,i){g(t,e,i),m(e,n)},p(t,i){2&i&&S(n,t[1]),4&i&&O(e,"unused",t[2])},d(t){t&&v(e)}}}function sn(t){let e,n;return{c(){e=_("label"),n=b(t[1]),T(e,"class","name clickable svelte-1xnmwrx"),T(e,"for","local-radio-"+an),O(e,"unused",t[2])},m(t,i){g(t,e,i),m(e,n)},p(t,i){2&i&&S(n,t[1]),4&i&&O(e,"unused",t[2])},d(t){t&&v(e)}}}function ln(t){let e,n,o,s,l,c,d,f,h,p,y,w=t[3]&&rn(t);function b(t,e){return t[3]?sn:on}let k=b(t),C=k(t);const S=t[8].default,E=a(S,t,t[7],null);return{c(){e=_("div"),w&&w.c(),n=$(),o=_("div"),s=_("div"),l=_("button"),l.innerHTML='<span class="icon icon-inline icon-c-clickable icon-trash"></span>',c=$(),C.c(),d=$(),f=_("div"),E&&E.c(),T(l,"class","nobutton"),T(s,"class","constraint-row-left svelte-1xnmwrx"),T(f,"class","constraint-row-right svelte-1xnmwrx"),T(o,"class","constraint-row svelte-1xnmwrx"),T(o,"role","button"),T(e,"class","constraint-row-container svelte-1xnmwrx")},m(i,a){g(i,e,a),w&&w.m(e,null),m(e,n),m(e,o),m(o,s),m(s,l),m(s,c),C.m(s,null),m(o,d),m(o,f),E&&E.m(f,null),h=!0,p||(y=[x(l,"click",A((function(){r(t[5])&&t[5].apply(this,arguments)}))),x(o,"click",A((function(){r(t[4])&&t[4].apply(this,arguments)})))],p=!0)},p(i,[r]){(t=i)[3]?w?w.p(t,r):(w=rn(t),w.c(),w.m(e,n)):w&&(w.d(1),w=null),k===(k=b(t))&&C?C.p(t,r):(C.d(1),C=k(t),C&&(C.c(),C.m(s,null))),E&&E.p&&(!h||128&r)&&u(E,S,t,t[7],h?r:-1,null,null)},i(t){h||(X(E,t),h=!0)},o(t){K(E,t),h=!1},d(t){t&&v(e),w&&w.d(),C.d(),E&&E.d(t),p=!1,i(y)}}}let an=0;function cn(t,e,n){let i;l(t,en,(t=>n(6,i=t)));let{$$slots:r={},$$scope:o}=e,{id:s}=e,{name:a}=e,{unused:c}=e,{isLocal:u=!1}=e,{onClick:f=(u?()=>d(en,i=s,i):void 0)}=e,{onTrash:h}=e;return t.$$set=t=>{"id"in t&&n(0,s=t.id),"name"in t&&n(1,a=t.name),"unused"in t&&n(2,c=t.unused),"isLocal"in t&&n(3,u=t.isLocal),"onClick"in t&&n(4,f=t.onClick),"onTrash"in t&&n(5,h=t.onTrash),"$$scope"in t&&n(7,o=t.$$scope)},[s,a,c,u,f,h,i,o,r,function(){i=this.__value,en.set(i)},[[]]]}class un extends ot{constructor(t){super(),rt(this,t,cn,ln,o,{id:0,name:1,unused:2,isLocal:3,onClick:4,onTrash:5})}}function dn(e){let n,r,o,s,l,a,c,u,d,f,h;return{c(){n=_("div"),r=_("label"),o=_("span"),l=$(),a=_("span"),c=b(e[0]),u=$(),d=_("input"),T(o,"class",s="icon icon-inline icon-c-text icon-"+e[1]+" svelte-1ns67sk"),T(a,"class","sr-only"),T(r,"for","checkbox-"+ ++fn),T(r,"title",e[0]),T(r,"class","clickable"),T(d,"id","checkbox-"+fn),T(d,"type","checkbox"),T(n,"class","constraint-checkbox svelte-1ns67sk")},m(t,i){g(t,n,i),m(n,r),m(r,o),m(r,l),m(r,a),m(a,c),m(n,u),m(n,d),d.checked=e[3],f||(h=[x(d,"change",e[5]),x(n,"click",A(e[4]))],f=!0)},p(t,[e]){2&e&&s!==(s="icon icon-inline icon-c-text icon-"+t[1]+" svelte-1ns67sk")&&T(o,"class",s),1&e&&S(c,t[0]),1&e&&T(r,"title",t[0]),8&e&&(d.checked=t[3])},i:t,o:t,d(t){t&&v(n),f=!1,i(h)}}}let fn=0;function hn(e,n,i){let r,o=t,l=()=>(o(),o=s(u,(t=>i(3,r=t))),u);e.$$.on_destroy.push((()=>o()));let{name:a}=n,{icon:c}=n,{checked:u}=n;return l(),e.$$set=t=>{"name"in t&&i(0,a=t.name),"icon"in t&&i(1,c=t.icon),"checked"in t&&l(i(2,u=t.checked))},[a,c,u,r,function(t){D.call(this,e,t)},function(){r=this.checked,u.set(r)}]}class pn extends ot{constructor(t){super(),rt(this,t,hn,dn,o,{name:0,icon:1,checked:2})}}function mn(e){let n,i,r,o;return n=new pn({props:{name:"Toggle Positive Diagonal",icon:"positive-diagonal",checked:e[4]}}),r=new pn({props:{name:"Toggle Negative Diagonal",icon:"negative-diagonal",checked:e[5]}}),{c(){tt(n.$$.fragment),i=$(),tt(r.$$.fragment)},m(t,e){et(n,t,e),g(t,i,e),et(r,t,e),o=!0},p:t,i(t){o||(X(n.$$.fragment,t),X(r.$$.fragment,t),o=!0)},o(t){K(n.$$.fragment,t),K(r.$$.fragment,t),o=!1},d(t){nt(n,t),t&&v(i),nt(r,t)}}}function gn(t){let e,n;return e=new un({props:{id:t[0],name:"Diagonals",unused:!t[2]&&!t[3],onClick:t[6],$$slots:{default:[mn]},$$scope:{ctx:t}}}),{c(){tt(e.$$.fragment)},m(t,i){et(e,t,i),n=!0},p(t,[n]){const i={};1&n&&(i.id=t[0]),12&n&&(i.unused=!t[2]&&!t[3]),256&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i(t){n||(X(e.$$.fragment,t),n=!0)},o(t){K(e.$$.fragment,t),n=!1},d(t){nt(e,t)}}}function vn(e,n,i){let r,o,a,c=t,u=()=>(c(),c=s(h,(t=>i(7,a=t))),h);e.$$.on_destroy.push((()=>c()));let{id:f}=n,{ref:h}=n;u();const p=h.ref("positive");l(e,p,(t=>i(2,r=t)));const m=h.ref("negative");return l(e,m,(t=>i(3,o=t))),e.$$set=t=>{"id"in t&&i(0,f=t.id),"ref"in t&&u(i(1,h=t.ref))},[f,h,r,o,p,m,function(){const t=!r||!o;d(h,a={positive:t,negative:t},a)}]}const yn={inGlobalMenu:!0,menuComponent:class extends ot{constructor(t){super(),rt(this,t,vn,gn,o,{id:0,ref:1})}}};class _n{constructor(t){this.onTap=null,this.onDrag=null,this.onDragStart=null,this.onDragEnd=null,this._prevPos=null,this._prevCell=null,this._isDown=!1,this._isTap=!1,this._interpolateOnReender=t}down(t){this.onDragStart&&this.onDragStart(t),this._isDown=!0,this._isTap=!0}move(t,e,n){this._isDown&&this._handle(t,e,n)}up(){this._isDown&&(this.onDragEnd&&this.onDragEnd(),this._prevPos=null,this._prevCell=null,this._isDown=!1)}leave(t,e,n){this._isDown&&this._handle(t,e,n)}click(t,e,n){if(this._isTap){const i=pt(yt(t,n),e,!1);null!=i&&this.onTap&&this.onTap({event:t,coord:i,grid:e})}}_handle(t,e,n){const i=yt(t,n);if(null!=this._prevPos&&1<function(t,e){const n=e[0]-t[0],i=e[1]-t[1];return n*n+i*i}(this._prevPos,i)){for(const n of function(t,e,n){const i=Math.floor(e[0])-Math.floor(t[0]),r=Math.floor(e[1])-Math.floor(t[1]),o=Math.max(Math.abs(i),Math.abs(r)),s=[];for(let i=1;i<=o;i++){const r=i/o,l=(1-r)*t[0]+r*e[0],a=(1-r)*t[1]+r*e[1];0<=l&&l<n.width&&0<=a&&a<n.height&&s.push([Math.floor(l),Math.floor(a)])}return s}(this._prevPos,i,e))this.onDrag&&this.onDrag({event:t,coord:n,grid:e}),this._prevCell=dt(n,e);this._prevPos=this._interpolateOnReender||wt(i,e)?i:null,this._isTap=!1}else{const n=pt(i,e,!(null==this._prevPos));null!=n?(this._prevCell!==dt(n,e)&&(null!=this._prevCell&&(this._isTap=!1),this.onDrag&&this.onDrag({event:t,coord:n,grid:e}),this._prevCell=dt(n,e)),this._prevPos=i):this._interpolateOnReender||wt(i,e)||(this._prevCell=null,this._prevPos=null,this._isTap=!1)}}}const wn=/^(?:Digit|Numpad)?(\d)$/,bn={Delete:null,Backspace:null,NumpadDecimal:null};const $n=new _n(!1);function kn(t,e,n,i){const{multipleDigits:r,blockedByGivens:o,blockedByFilled:s}=i,l=["filled","corner","center","colors"];function a(e){const n=function(t){if(t in bn)return bn[t];const e=wn.exec(t);return e?Number(e[1]):void 0}(e);if(void 0===n)return!1;if(c(t,n))for(const t of l){const e=Je.get("marks",t);if(null==e)continue;if(!c(Nn.ref("elements",`${e}`,"value"),n))break}return!0}function c(t,e){const n=function(t=!0,e=!0){const n={};if(!t&&!e)return n;const i=Nn.get("elements")||{};for(const r of Object.values(i))(t&&"givens"===r.type||e&&"filled"===r.type)&&Object.assign(n,r.value);return n}(o,s),i={};let l=!0;for(const o of gt(Qe.get()))null==n[o]&&(r&&null!=e?(i[`${o}/${e}`]=!0,l&&(l=!!t.ref(`${o}`,`${e}`).get())):(i[`${o}`]=e,l&&(l=e==t.ref(`${o}`).get())));if(l){if(null==e)return!0;for(const t of Object.keys(i))i[t]=null}return t.update(i),!1}function u(t){if(!new Set(["Shift","Control","Alt","Meta"]).has(t.key))return!1;const e=en.get();if(t.shiftKey)t.ctrlKey||t.metaKey?en.replace(Je.get("marks","colors")):en.replace(Je.get("marks","corner"));else if(t.ctrlKey||t.metaKey)en.replace(Je.get("marks","center"));else{if(!t.altKey)return en.replace(tn.get()),tn.replace(null),!0;en.replace(Je.get("marks","colors"))}return null==tn.get()&&(tn.replace(e),!0)}return{load(){},unload(){$n.up()},keydown(t){(a(t.code)||u(t))&&(t.stopImmediatePropagation(),t.preventDefault())},keyup(t){u(t)&&(t.stopImmediatePropagation(),t.preventDefault())},padClick(t){a(t.currentTarget.value)},down(t){$n.down(t)},move(t){$n.move(t,e,n)},up(t){$n.up()},leave(t){$n.leave(t,e,n)},click(t){$n.click(t,e,n)}}}function xn(t){let e;return{c(){e=_("span"),T(e,"class","icon icon-inline icon-c-clickable icon-given")},m(t,n){g(t,e,n)},d(t){t&&v(e)}}}function Cn(t){let e,n;return e=new un({props:{id:t[0],name:"Givens",unused:!1,isLocal:!0,$$slots:{default:[xn]},$$scope:{ctx:t}}}),{c(){tt(e.$$.fragment)},m(t,i){et(e,t,i),n=!0},p(t,[n]){const i={};1&n&&(i.id=t[0]),8&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i(t){n||(X(e.$$.fragment,t),n=!0)},o(t){K(e.$$.fragment,t),n=!1},d(t){nt(e,t)}}}function An(e,n,i){let r=t,o=()=>(r(),r=s(a,(t=>i(2,t))),a);e.$$.on_destroy.push((()=>r()));let{id:l}=n,{ref:a}=n;return o(),e.$$set=t=>{"id"in t&&i(0,l=t.id),"ref"in t&&o(i(1,a=t.ref))},[l,a]}(()=>{let t;!function(t){t[t.RESETTING=0]="RESETTING",t[t.DYNAMIC=1]="DYNAMIC",t[t.SELECTING=2]="SELECTING",t[t.DESELCTING=3]="DESELCTING"}(t||(t={}));let e=t.RESETTING;function n(n,i){const{coord:r,grid:o}=n,s=dt(r,o);if(t.RESETTING===e){const n=i&&Qe.get()||{};return i&&1===Object.keys(n).length&&n[`${s}`]?Qe.replace({}):Qe.replace({[`${s}`]:!0}),void(e=t.SELECTING)}t.DYNAMIC===e&&(e=Qe.ref(`${s}`).get()?t.DESELCTING:t.SELECTING),Qe.ref(`${s}`).replace(t.SELECTING===e||null)}$n.onDragStart=n=>{var i;e=(i=n).shiftKey?t.SELECTING:i.ctrlKey||i.metaKey?t.DYNAMIC:i.altKey?t.DESELCTING:t.RESETTING},$n.onDrag=t=>{n(t,!1)},$n.onTap=t=>{n(t,!0)}})();const Tn={getInputHandler:(t,e,n)=>kn(t,e,n,{multipleDigits:!1,blockedByGivens:!1,blockedByFilled:!1}),inGlobalMenu:!1,menuComponent:class extends ot{constructor(t){super(),rt(this,t,An,Cn,o,{id:0,ref:1})}}},Sn={getInputHandler:(t,e,n)=>kn(t,e,n,{multipleDigits:!1,blockedByGivens:!0,blockedByFilled:!1})},En={getInputHandler:(t,e,n)=>kn(t,e,n,{multipleDigits:!0,blockedByGivens:!0,blockedByFilled:!0})},On=En,Mn={getInputHandler:(t,e,n)=>kn(t,e,n,{multipleDigits:!0,blockedByGivens:!1,blockedByFilled:!1})};function In(t){let e;return{c(){e=_("span"),T(e,"class","icon icon-inline icon-c-clickable icon-thermo")},m(t,n){g(t,e,n)},d(t){t&&v(e)}}}function Dn(t){let e,n;return e=new un({props:{id:t[0],name:"Thermos",unused:!1,isLocal:!0,$$slots:{default:[In]},$$scope:{ctx:t}}}),{c(){tt(e.$$.fragment)},m(t,i){et(e,t,i),n=!0},p(t,[n]){const i={};1&n&&(i.id=t[0]),8&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i(t){n||(X(e.$$.fragment,t),n=!0)},o(t){K(e.$$.fragment,t),n=!1},d(t){nt(e,t)}}}function jn(e,n,i){let r=t,o=()=>(r(),r=s(a,(t=>i(2,t))),a);e.$$.on_destroy.push((()=>r()));let{id:l}=n,{ref:a}=n;return o(),e.$$set=t=>{"id"in t&&i(0,l=t.id),"ref"in t&&o(i(1,a=t.ref))},[l,a]}const Ln={givens:Tn,filled:Sn,center:On,corner:En,colors:Mn,grid:null,box:null,arrow:null,sandwich:null,min:null,max:null,killer:null,quadruple:null,thermo:{getInputHandler:function(t,e,n){const i=new _n(!0);let r=null,o=0;return i.onDragStart=e=>{o=0,r=t.ref(`${Date.now()}_${Math.random()}`)},i.onDrag=t=>{if(null==r)throw"UNREACHABLE";const{coord:e,grid:n}=t,i=dt(e,n);for(const[t,e]of Object.entries(r.get()||{}))if(i===e)return o=+t+1,void r.replace(ct(r.get()||{}).slice(0,o));r.ref(`${o}`).replace(i),o++},i.onDragEnd=()=>{1>=o&&r.replace(null)},i.onTap=e=>{const{coord:n,grid:i}=e,r=dt(n,i);for(const[e,n]of Object.entries(t.get()||{}))if(r===n[0])return void t.ref(`${e}`).replace(null)},{load(){},unload(){i.up()},keydown(t){},keyup(t){},padClick(t){},down(t){i.down(t)},move(t){i.move(t,e,n)},up(t){i.up()},leave(t){i.leave(t,e,n)},click(t){i.click(t,e,n)}}},inGlobalMenu:!1,menuComponent:class extends ot{constructor(t){super(),rt(this,t,jn,Dn,o,{id:0,ref:1})}}},diagonal:yn,knight:null,king:null,disjointGroups:null,consecutive:null},Rn=jt(),Nn=window.boardState=new Ze.StateManager,Un=Nn.ref("grid");const Hn=Dt([],(t=>{const e=[];Nn.ref("elements/*").watch((([n,i],r,o)=>{const s=(null==r?void 0:r.type)||o.type,l=Ln[s];if(null==l)return void console.warn(`Unknown constraint type: ${s}.`);let a=-1;if(null!=r&&(a=e.findIndex((({id:t})=>i===t)),0>a))console.error(`Failed to find constraint with id ${i}.`);else{if(null==o)delete e[a];else if(null==r){const t=Nn.ref(n,i,"value");e.push({id:i,valueRef:t,info:l})}else r.type!==o.type&&console.error(`Cannot change type of constraint! ${r.type} -> ${o.type}`);t(e)}}),!0)})),Pn=Lt([Dt(null,(t=>{let e=[];Hn.subscribe((t=>e=t)),en.watch(((n,i,r)=>{const o=r,s=e.find((({id:t})=>o===t))||null;t(s)}),!0)})),Rn],(([t,e])=>{if(null==t)return null;const{info:n,valueRef:i}=t;return null==n||null==n.getInputHandler?null:n.getInputHandler(i,Un.get(),e)}));function Fn(t){let e,n,o,s,l,a,c;function u(e){t[2](e)}let d={boardState:Nn,userState:Je};return void 0!==t[1]&&(d.svg=t[1]),o=new Ve({props:d}),L.push((()=>function(t,e,n){const i=t.$$.props[e];void 0!==i&&(t.$$.bound[i]=n,n(t.$$.ctx[i]))}(o,"svg",u))),{c(){e=_("div"),n=$(),tt(o.$$.fragment),T(e,"class","overlay svelte-kdd1wn")},m(i,s){g(i,e,s),g(i,n,s),et(o,i,s),l=!0,a||(c=[x(window,"mouseup",(function(){r(t[0]&&t[0].up||void 0)&&(t[0]&&t[0].up||void 0).apply(this,arguments)})),x(e,"mousedown",A(C((function(){r(t[0]&&t[0].down||void 0)&&(t[0]&&t[0].down||void 0).apply(this,arguments)}))),!0),x(e,"mousemove",A(C((function(){r(t[0]&&t[0].move||void 0)&&(t[0]&&t[0].move||void 0).apply(this,arguments)}))),!0),x(e,"click",A(C((function(){r(t[0]&&t[0].click||void 0)&&(t[0]&&t[0].click||void 0).apply(this,arguments)}))),!0),x(e,"contextmenu",A(C((function(){r(t[0]&&t[0].click||void 0)&&(t[0]&&t[0].click||void 0).apply(this,arguments)}))),!0),x(e,"mouseleave",A(C((function(){r(t[0]&&t[0].leave||void 0)&&(t[0]&&t[0].leave||void 0).apply(this,arguments)}))),!0)],a=!0)},p(e,[n]){t=e;const i={};var r;!s&&2&n&&(s=!0,i.svg=t[1],r=()=>s=!1,N.push(r)),o.$set(i)},i(t){l||(X(o.$$.fragment,t),l=!0)},o(t){K(o.$$.fragment,t),l=!1},d(t){t&&v(e),t&&v(n),nt(o,t),a=!1,i(c)}}}function Gn(t,e,n){let i,r;return l(t,Pn,(t=>n(0,i=t))),l(t,Rn,(t=>n(1,r=t))),[i,r,function(t){r=t,Rn.set(r)}]}(()=>{Nn.watch(Ye.debounce(((t,e,n)=>{const i=new URL(window.location.href);i.searchParams.set("b",Ke.compressToEncodedURIComponent(JSON.stringify(n))),window.history.replaceState(null,"",i.href)}),200),!1,".");const t=new URL(window.location.href);if(t.searchParams.has("b")){const e=t.searchParams.get("b");try{const t=Ke.decompressFromEncodedURIComponent(e);if(null!=t)return void Nn.update(JSON.parse(t))}catch(t){console.error("Failed to update board from `b` param.")}}Nn.update({grid:{width:9,height:9},elements:{110:{type:"givens",order:15,value:{12:3,13:4,39:4,40:1,64:3}},120:{type:"filled",order:15,value:{}},130:{type:"corner",order:15,value:{}},140:{type:"center",order:15,value:{}},150:{type:"colors",order:14.5,value:{}},10:{type:"box",order:10,value:{width:3,height:3}},11:{type:"grid",order:10,value:null},10800:{type:"diagonal",value:{positive:!0,negative:!1},order:9.5},10090:{type:"knight",value:!1},10100:{type:"king",value:!1},10110:{type:"disjointGroups",value:!1},10120:{type:"consecutive",value:!1},10140:{type:"thermo",order:3,value:{110:{0:3,1:13,2:23},120:{0:29,1:20,2:21}}},10150:{type:"arrow",order:9,value:{110:{head:{0:27},body:{0:27,1:28,2:29}},120:{head:{0:45,1:46},body:{0:46,1:47,2:56,3:66,4:57}}}},10160:{type:"min",order:2,value:{56:!0,57:!0,63:!0,64:!0,65:!0}},10170:{type:"max",order:2,value:{58:!0,67:!0,68:!0,77:!0}},10180:{type:"killer",order:12,value:{150:{sum:43,cells:{28:!0,36:!0,37:!0,38:!0,45:!0,47:!0,54:!0,55:!0}},160:{sum:18,cells:{60:!0,61:!0,69:!0}},170:{sum:16,cells:{71:!0,79:!0,80:!0}}}},10190:{type:"quadruple",order:11,value:{12:{0:1,1:5,2:9},24:{0:8,1:9},66:{0:1,1:1,2:2,3:2}}}}})})();class qn extends ot{constructor(t){super(),rt(this,t,Gn,Fn,o,{})}}function Bn(t){let e,n,i,r,o,s,l,c,d,f,h;const p=t[4].default,y=a(p,t,t[3],null);return{c(){e=_("div"),n=_("button"),i=b(t[1]),r=$(),o=_("span"),s=$(),l=_("div"),c=_("div"),y&&y.c(),T(o,"class","tree-menu icon icon-inline icon-c-clickable icon-tree-menu svelte-1o8sn12"),T(n,"class","section-title nobutton svelte-1o8sn12"),T(c,"class","panel svelte-1o8sn12"),T(l,"class","panel-wrapper svelte-1o8sn12"),T(e,"class","container svelte-1o8sn12"),O(e,"closed",t[0])},m(a,u){g(a,e,u),m(e,n),m(n,i),m(n,r),m(n,o),m(e,s),m(e,l),m(l,c),y&&y.m(c,null),d=!0,f||(h=x(n,"click",t[2]),f=!0)},p(t,[n]){(!d||2&n)&&S(i,t[1]),y&&y.p&&(!d||8&n)&&u(y,p,t,t[3],d?n:-1,null,null),1&n&&O(e,"closed",t[0])},i(t){d||(X(y,t),d=!0)},o(t){K(y,t),d=!1},d(t){t&&v(e),y&&y.d(t),f=!1,h()}}}function zn(t,e,n){let{$$slots:i={},$$scope:r}=e,{title:o}=e,{closed:s=!1}=e;return t.$$set=t=>{"title"in t&&n(1,o=t.title),"closed"in t&&n(0,s=t.closed),"$$scope"in t&&n(3,r=t.$$scope)},[s,o,function(){n(0,s=!s)},r,i]}class Vn extends ot{constructor(t){super(),rt(this,t,zn,Bn,o,{title:1,closed:0})}}function Wn(t,e,n){const i=t.slice();return i[4]=e[n].id,i[5]=e[n].valueRef,i[6]=e[n].info,i}function Yn(t,e,n){const i=t.slice();return i[4]=e[n].id,i[5]=e[n].valueRef,i[6]=e[n].info,i}function Xn(t){let e;return{c(){e=_("p"),e.textContent="Nothing Here!",E(e,"margin","0"),E(e,"padding","0.25em 1em")},m(t,n){g(t,e,n)},d(t){t&&v(e)}}}function Kn(t,e){let n,i,r,o;var s=e[6].menuComponent;function l(t){return{props:{id:t[4],ref:t[5]}}}return s&&(i=new s(l(e))),{key:t,first:null,c(){n=_("li"),i&&tt(i.$$.fragment),r=$(),this.first=n},m(t,e){g(t,n,e),i&&et(i,n,null),m(n,r),o=!0},p(t,o){e=t;const a={};if(1&o&&(a.id=e[4]),1&o&&(a.ref=e[5]),s!==(s=e[6].menuComponent)){if(i){W();const t=i;K(t.$$.fragment,1,0,(()=>{nt(t,1)})),Y()}s?(i=new s(l(e)),tt(i.$$.fragment),X(i.$$.fragment,1),et(i,n,r)):i=null}else s&&i.$set(a)},i(t){o||(i&&X(i.$$.fragment,t),o=!0)},o(t){i&&K(i.$$.fragment,t),o=!1},d(t){t&&v(n),i&&nt(i)}}}function Zn(t){let e,n,i=[],r=new Map,o=t[0];const s=t=>t[4];for(let e=0;e<o.length;e+=1){let n=Yn(t,o,e),l=s(n);r.set(l,i[e]=Kn(l,n))}return{c(){e=_("ul");for(let t=0;t<i.length;t+=1)i[t].c();T(e,"class","nolist")},m(t,r){g(t,e,r);for(let t=0;t<i.length;t+=1)i[t].m(e,null);n=!0},p(t,n){1&n&&(o=t[0],W(),i=Q(i,n,s,1,t,o,r,e,J,Kn,null,Yn),Y())},i(t){if(!n){for(let t=0;t<o.length;t+=1)X(i[t]);n=!0}},o(t){for(let t=0;t<i.length;t+=1)K(i[t]);n=!1},d(t){t&&v(e);for(let t=0;t<i.length;t+=1)i[t].d()}}}function Jn(t,e){let n,i,r,o;var s=e[6].menuComponent;function l(t){return{props:{id:t[4],ref:t[5]}}}return s&&(i=new s(l(e))),{key:t,first:null,c(){n=_("li"),i&&tt(i.$$.fragment),r=$(),this.first=n},m(t,e){g(t,n,e),i&&et(i,n,null),m(n,r),o=!0},p(t,o){e=t;const a={};if(2&o&&(a.id=e[4]),2&o&&(a.ref=e[5]),s!==(s=e[6].menuComponent)){if(i){W();const t=i;K(t.$$.fragment,1,0,(()=>{nt(t,1)})),Y()}s?(i=new s(l(e)),tt(i.$$.fragment),X(i.$$.fragment,1),et(i,n,r)):i=null}else s&&i.$set(a)},i(t){o||(i&&X(i.$$.fragment,t),o=!0)},o(t){i&&K(i.$$.fragment,t),o=!1},d(t){t&&v(n),i&&nt(i)}}}function Qn(t){let e,n,i=[],r=new Map,o=t[1];const s=t=>t[4];for(let e=0;e<o.length;e+=1){let n=Wn(t,o,e),l=s(n);r.set(l,i[e]=Jn(l,n))}return{c(){e=_("ul");for(let t=0;t<i.length;t+=1)i[t].c();T(e,"class","nolist")},m(t,r){g(t,e,r);for(let t=0;t<i.length;t+=1)i[t].m(e,null);n=!0},p(t,n){2&n&&(o=t[1],W(),i=Q(i,n,s,1,t,o,r,e,J,Jn,null,Wn),Y())},i(t){if(!n){for(let t=0;t<o.length;t+=1)X(i[t]);n=!0}},o(t){for(let t=0;t<i.length;t+=1)K(i[t]);n=!1},d(t){t&&v(e);for(let t=0;t<i.length;t+=1)i[t].d()}}}function ti(t){let e;return{c(){e=_("p"),e.textContent="Nothing Here!",E(e,"margin","0"),E(e,"padding","0.25em 1em")},m(t,n){g(t,e,n)},d(t){t&&v(e)}}}function ei(t){let e,n,i,r,o,s,l,a,c,u,d,f,h;return i=new Vn({props:{title:"Solver Panel",$$slots:{default:[Xn]},$$scope:{ctx:t}}}),s=new Vn({props:{title:"Global Constraints",$$slots:{default:[Zn]},$$scope:{ctx:t}}}),c=new Vn({props:{title:"Local Constraints",$$slots:{default:[Qn]},$$scope:{ctx:t}}}),f=new Vn({props:{title:"Cosmetic Tools",$$slots:{default:[ti]},$$scope:{ctx:t}}}),{c(){e=_("ul"),n=_("li"),tt(i.$$.fragment),r=$(),o=_("li"),tt(s.$$.fragment),l=$(),a=_("li"),tt(c.$$.fragment),u=$(),d=_("li"),tt(f.$$.fragment),T(e,"class","nolist")},m(t,p){g(t,e,p),m(e,n),et(i,n,null),m(e,r),m(e,o),et(s,o,null),m(e,l),m(e,a),et(c,a,null),m(e,u),m(e,d),et(f,d,null),h=!0},p(t,[e]){const n={};2048&e&&(n.$$scope={dirty:e,ctx:t}),i.$set(n);const r={};2049&e&&(r.$$scope={dirty:e,ctx:t}),s.$set(r);const o={};2050&e&&(o.$$scope={dirty:e,ctx:t}),c.$set(o);const l={};2048&e&&(l.$$scope={dirty:e,ctx:t}),f.$set(l)},i(t){h||(X(i.$$.fragment,t),X(s.$$.fragment,t),X(c.$$.fragment,t),X(f.$$.fragment,t),h=!0)},o(t){K(i.$$.fragment,t),K(s.$$.fragment,t),K(c.$$.fragment,t),K(f.$$.fragment,t),h=!1},d(t){t&&v(e),nt(i),nt(s),nt(c),nt(f)}}}function ni(t,e,n){let i,r;const o=Lt(Hn,(t=>t.filter((({info:t})=>t.menuComponent&&t.inGlobalMenu))));l(t,o,(t=>n(0,i=t)));const s=Lt(Hn,(t=>t.filter((({info:t})=>t.menuComponent&&!t.inGlobalMenu))));return l(t,s,(t=>n(1,r=t))),[i,r,o,s]}class ii extends ot{constructor(t){super(),rt(this,t,ni,ei,o,{})}}var ri;
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
var oi=function(t,e){return(oi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function si(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}oi(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var li=function(){return(li=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function ai(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s}function ci(t,e,n){if(n||2===arguments.length)for(var i,r=0,o=e.length;r<o;r++)!i&&r in e||(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||e)}
/**
     * @license
     * Copyright 2016 Google Inc.
     *
     * Permission is hereby granted, free of charge, to any person obtaining a copy
     * of this software and associated documentation files (the "Software"), to deal
     * in the Software without restriction, including without limitation the rights
     * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
     * copies of the Software, and to permit persons to whom the Software is
     * furnished to do so, subject to the following conditions:
     *
     * The above copyright notice and this permission notice shall be included in
     * all copies or substantial portions of the Software.
     *
     * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
     * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
     * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
     * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
     * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
     * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
     * THE SOFTWARE.
     */var ui=function(){function t(t){void 0===t&&(t={}),this.adapter=t}return Object.defineProperty(t,"cssClasses",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{}},enumerable:!1,configurable:!0}),t.prototype.init=function(){},t.prototype.destroy=function(){},t}(),di=function(){function t(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];this.root=t,this.initialize.apply(this,ci([],ai(n))),this.foundation=void 0===e?this.getDefaultFoundation():e,this.foundation.init(),this.initialSyncWithDOM()}return t.attachTo=function(e){return new t(e,new ui({}))},t.prototype.initialize=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.getDefaultFoundation=function(){throw new Error("Subclasses must override getDefaultFoundation to return a properly configured foundation class")},t.prototype.initialSyncWithDOM=function(){},t.prototype.destroy=function(){this.foundation.destroy()},t.prototype.listen=function(t,e,n){this.root.addEventListener(t,e,n)},t.prototype.unlisten=function(t,e,n){this.root.removeEventListener(t,e,n)},t.prototype.emit=function(t,e,n){var i;void 0===n&&(n=!1),"function"==typeof CustomEvent?i=new CustomEvent(t,{bubbles:n,detail:e}):(i=document.createEvent("CustomEvent")).initCustomEvent(t,n,!1,e),this.root.dispatchEvent(i)},t}();
/**
     * @license
     * Copyright 2016 Google Inc.
     *
     * Permission is hereby granted, free of charge, to any person obtaining a copy
     * of this software and associated documentation files (the "Software"), to deal
     * in the Software without restriction, including without limitation the rights
     * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
     * copies of the Software, and to permit persons to whom the Software is
     * furnished to do so, subject to the following conditions:
     *
     * The above copyright notice and this permission notice shall be included in
     * all copies or substantial portions of the Software.
     *
     * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
     * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
     * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
     * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
     * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
     * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
     * THE SOFTWARE.
     */
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Permission is hereby granted, free of charge, to any person obtaining a copy
     * of this software and associated documentation files (the "Software"), to deal
     * in the Software without restriction, including without limitation the rights
     * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
     * copies of the Software, and to permit persons to whom the Software is
     * furnished to do so, subject to the following conditions:
     *
     * The above copyright notice and this permission notice shall be included in
     * all copies or substantial portions of the Software.
     *
     * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
     * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
     * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
     * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
     * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
     * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
     * THE SOFTWARE.
     */
function fi(t){return void 0===t&&(t=window),!!function(t){void 0===t&&(t=window);var e=!1;try{var n={get passive(){return e=!0,!1}},i=function(){};t.document.addEventListener("test",i,n),t.document.removeEventListener("test",i,n)}catch(t){e=!1}return e}
/**
     * @license
     * Copyright 2018 Google Inc.
     *
     * Permission is hereby granted, free of charge, to any person obtaining a copy
     * of this software and associated documentation files (the "Software"), to deal
     * in the Software without restriction, including without limitation the rights
     * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
     * copies of the Software, and to permit persons to whom the Software is
     * furnished to do so, subject to the following conditions:
     *
     * The above copyright notice and this permission notice shall be included in
     * all copies or substantial portions of the Software.
     *
     * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
     * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
     * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
     * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
     * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
     * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
     * THE SOFTWARE.
     */(t)&&{passive:!0}}
/**
     * @license
     * Copyright 2016 Google Inc.
     *
     * Permission is hereby granted, free of charge, to any person obtaining a copy
     * of this software and associated documentation files (the "Software"), to deal
     * in the Software without restriction, including without limitation the rights
     * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
     * copies of the Software, and to permit persons to whom the Software is
     * furnished to do so, subject to the following conditions:
     *
     * The above copyright notice and this permission notice shall be included in
     * all copies or substantial portions of the Software.
     *
     * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
     * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
     * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
     * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
     * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
     * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
     * THE SOFTWARE.
     */
var hi={BG_FOCUSED:"mdc-ripple-upgraded--background-focused",FG_ACTIVATION:"mdc-ripple-upgraded--foreground-activation",FG_DEACTIVATION:"mdc-ripple-upgraded--foreground-deactivation",ROOT:"mdc-ripple-upgraded",UNBOUNDED:"mdc-ripple-upgraded--unbounded"},pi={VAR_FG_SCALE:"--mdc-ripple-fg-scale",VAR_FG_SIZE:"--mdc-ripple-fg-size",VAR_FG_TRANSLATE_END:"--mdc-ripple-fg-translate-end",VAR_FG_TRANSLATE_START:"--mdc-ripple-fg-translate-start",VAR_LEFT:"--mdc-ripple-left",VAR_TOP:"--mdc-ripple-top"},mi={DEACTIVATION_TIMEOUT_MS:225,FG_DEACTIVATION_MS:150,INITIAL_ORIGIN_SCALE:.6,PADDING:10,TAP_DELAY_MS:300},gi=["touchstart","pointerdown","mousedown","keydown"],vi=["touchend","pointerup","mouseup","contextmenu"],yi=[],_i=function(t){function e(n){var i=t.call(this,li(li({},e.defaultAdapter),n))||this;return i.activationAnimationHasEnded_=!1,i.activationTimer_=0,i.fgDeactivationRemovalTimer_=0,i.fgScale_="0",i.frame_={width:0,height:0},i.initialSize_=0,i.layoutFrame_=0,i.maxRadius_=0,i.unboundedCoords_={left:0,top:0},i.activationState_=i.defaultActivationState_(),i.activationTimerCallback_=function(){i.activationAnimationHasEnded_=!0,i.runDeactivationUXLogicIfReady_()},i.activateHandler_=function(t){return i.activate_(t)},i.deactivateHandler_=function(){return i.deactivate_()},i.focusHandler_=function(){return i.handleFocus()},i.blurHandler_=function(){return i.handleBlur()},i.resizeHandler_=function(){return i.layout()},i}return si(e,t),Object.defineProperty(e,"cssClasses",{get:function(){return hi},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return pi},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return mi},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},browserSupportsCssVars:function(){return!0},computeBoundingRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},containsEventTarget:function(){return!0},deregisterDocumentInteractionHandler:function(){},deregisterInteractionHandler:function(){},deregisterResizeHandler:function(){},getWindowPageOffset:function(){return{x:0,y:0}},isSurfaceActive:function(){return!0},isSurfaceDisabled:function(){return!0},isUnbounded:function(){return!0},registerDocumentInteractionHandler:function(){},registerInteractionHandler:function(){},registerResizeHandler:function(){},removeClass:function(){},updateCssVariable:function(){}}},enumerable:!1,configurable:!0}),e.prototype.init=function(){var t=this,n=this.supportsPressRipple_();if(this.registerRootHandlers_(n),n){var i=e.cssClasses,r=i.ROOT,o=i.UNBOUNDED;requestAnimationFrame((function(){t.adapter.addClass(r),t.adapter.isUnbounded()&&(t.adapter.addClass(o),t.layoutInternal_())}))}},e.prototype.destroy=function(){var t=this;if(this.supportsPressRipple_()){this.activationTimer_&&(clearTimeout(this.activationTimer_),this.activationTimer_=0,this.adapter.removeClass(e.cssClasses.FG_ACTIVATION)),this.fgDeactivationRemovalTimer_&&(clearTimeout(this.fgDeactivationRemovalTimer_),this.fgDeactivationRemovalTimer_=0,this.adapter.removeClass(e.cssClasses.FG_DEACTIVATION));var n=e.cssClasses,i=n.ROOT,r=n.UNBOUNDED;requestAnimationFrame((function(){t.adapter.removeClass(i),t.adapter.removeClass(r),t.removeCssVars_()}))}this.deregisterRootHandlers_(),this.deregisterDeactivationHandlers_()},e.prototype.activate=function(t){this.activate_(t)},e.prototype.deactivate=function(){this.deactivate_()},e.prototype.layout=function(){var t=this;this.layoutFrame_&&cancelAnimationFrame(this.layoutFrame_),this.layoutFrame_=requestAnimationFrame((function(){t.layoutInternal_(),t.layoutFrame_=0}))},e.prototype.setUnbounded=function(t){var n=e.cssClasses.UNBOUNDED;t?this.adapter.addClass(n):this.adapter.removeClass(n)},e.prototype.handleFocus=function(){var t=this;requestAnimationFrame((function(){return t.adapter.addClass(e.cssClasses.BG_FOCUSED)}))},e.prototype.handleBlur=function(){var t=this;requestAnimationFrame((function(){return t.adapter.removeClass(e.cssClasses.BG_FOCUSED)}))},e.prototype.supportsPressRipple_=function(){return this.adapter.browserSupportsCssVars()},e.prototype.defaultActivationState_=function(){return{activationEvent:void 0,hasDeactivationUXRun:!1,isActivated:!1,isProgrammatic:!1,wasActivatedByPointer:!1,wasElementMadeActive:!1}},e.prototype.registerRootHandlers_=function(t){var e=this;t&&(gi.forEach((function(t){e.adapter.registerInteractionHandler(t,e.activateHandler_)})),this.adapter.isUnbounded()&&this.adapter.registerResizeHandler(this.resizeHandler_)),this.adapter.registerInteractionHandler("focus",this.focusHandler_),this.adapter.registerInteractionHandler("blur",this.blurHandler_)},e.prototype.registerDeactivationHandlers_=function(t){var e=this;"keydown"===t.type?this.adapter.registerInteractionHandler("keyup",this.deactivateHandler_):vi.forEach((function(t){e.adapter.registerDocumentInteractionHandler(t,e.deactivateHandler_)}))},e.prototype.deregisterRootHandlers_=function(){var t=this;gi.forEach((function(e){t.adapter.deregisterInteractionHandler(e,t.activateHandler_)})),this.adapter.deregisterInteractionHandler("focus",this.focusHandler_),this.adapter.deregisterInteractionHandler("blur",this.blurHandler_),this.adapter.isUnbounded()&&this.adapter.deregisterResizeHandler(this.resizeHandler_)},e.prototype.deregisterDeactivationHandlers_=function(){var t=this;this.adapter.deregisterInteractionHandler("keyup",this.deactivateHandler_),vi.forEach((function(e){t.adapter.deregisterDocumentInteractionHandler(e,t.deactivateHandler_)}))},e.prototype.removeCssVars_=function(){var t=this,n=e.strings;Object.keys(n).forEach((function(e){0===e.indexOf("VAR_")&&t.adapter.updateCssVariable(n[e],null)}))},e.prototype.activate_=function(t){var e=this;if(!this.adapter.isSurfaceDisabled()){var n=this.activationState_;if(!n.isActivated){var i=this.previousActivationEvent_;if(!(i&&void 0!==t&&i.type!==t.type))n.isActivated=!0,n.isProgrammatic=void 0===t,n.activationEvent=t,n.wasActivatedByPointer=!n.isProgrammatic&&(void 0!==t&&("mousedown"===t.type||"touchstart"===t.type||"pointerdown"===t.type)),void 0!==t&&yi.length>0&&yi.some((function(t){return e.adapter.containsEventTarget(t)}))?this.resetActivationState_():(void 0!==t&&(yi.push(t.target),this.registerDeactivationHandlers_(t)),n.wasElementMadeActive=this.checkElementMadeActive_(t),n.wasElementMadeActive&&this.animateActivation_(),requestAnimationFrame((function(){yi=[],n.wasElementMadeActive||void 0===t||" "!==t.key&&32!==t.keyCode||(n.wasElementMadeActive=e.checkElementMadeActive_(t),n.wasElementMadeActive&&e.animateActivation_()),n.wasElementMadeActive||(e.activationState_=e.defaultActivationState_())})))}}},e.prototype.checkElementMadeActive_=function(t){return void 0===t||"keydown"!==t.type||this.adapter.isSurfaceActive()},e.prototype.animateActivation_=function(){var t=this,n=e.strings,i=n.VAR_FG_TRANSLATE_START,r=n.VAR_FG_TRANSLATE_END,o=e.cssClasses,s=o.FG_DEACTIVATION,l=o.FG_ACTIVATION,a=e.numbers.DEACTIVATION_TIMEOUT_MS;this.layoutInternal_();var c="",u="";if(!this.adapter.isUnbounded()){var d=this.getFgTranslationCoordinates_(),f=d.startPoint,h=d.endPoint;c=f.x+"px, "+f.y+"px",u=h.x+"px, "+h.y+"px"}this.adapter.updateCssVariable(i,c),this.adapter.updateCssVariable(r,u),clearTimeout(this.activationTimer_),clearTimeout(this.fgDeactivationRemovalTimer_),this.rmBoundedActivationClasses_(),this.adapter.removeClass(s),this.adapter.computeBoundingRect(),this.adapter.addClass(l),this.activationTimer_=setTimeout((function(){return t.activationTimerCallback_()}),a)},e.prototype.getFgTranslationCoordinates_=function(){var t,e=this.activationState_,n=e.activationEvent;return{startPoint:t={x:(t=e.wasActivatedByPointer?function(t,e,n){if(!t)return{x:0,y:0};var i,r,o=e.x,s=e.y,l=o+n.left,a=s+n.top;if("touchstart"===t.type){var c=t;i=c.changedTouches[0].pageX-l,r=c.changedTouches[0].pageY-a}else{var u=t;i=u.pageX-l,r=u.pageY-a}return{x:i,y:r}}(n,this.adapter.getWindowPageOffset(),this.adapter.computeBoundingRect()):{x:this.frame_.width/2,y:this.frame_.height/2}).x-this.initialSize_/2,y:t.y-this.initialSize_/2},endPoint:{x:this.frame_.width/2-this.initialSize_/2,y:this.frame_.height/2-this.initialSize_/2}}},e.prototype.runDeactivationUXLogicIfReady_=function(){var t=this,n=e.cssClasses.FG_DEACTIVATION,i=this.activationState_,r=i.hasDeactivationUXRun,o=i.isActivated;(r||!o)&&this.activationAnimationHasEnded_&&(this.rmBoundedActivationClasses_(),this.adapter.addClass(n),this.fgDeactivationRemovalTimer_=setTimeout((function(){t.adapter.removeClass(n)}),mi.FG_DEACTIVATION_MS))},e.prototype.rmBoundedActivationClasses_=function(){var t=e.cssClasses.FG_ACTIVATION;this.adapter.removeClass(t),this.activationAnimationHasEnded_=!1,this.adapter.computeBoundingRect()},e.prototype.resetActivationState_=function(){var t=this;this.previousActivationEvent_=this.activationState_.activationEvent,this.activationState_=this.defaultActivationState_(),setTimeout((function(){return t.previousActivationEvent_=void 0}),e.numbers.TAP_DELAY_MS)},e.prototype.deactivate_=function(){var t=this,e=this.activationState_;if(e.isActivated){var n=li({},e);e.isProgrammatic?(requestAnimationFrame((function(){return t.animateDeactivation_(n)})),this.resetActivationState_()):(this.deregisterDeactivationHandlers_(),requestAnimationFrame((function(){t.activationState_.hasDeactivationUXRun=!0,t.animateDeactivation_(n),t.resetActivationState_()})))}},e.prototype.animateDeactivation_=function(t){var e=t.wasActivatedByPointer,n=t.wasElementMadeActive;(e||n)&&this.runDeactivationUXLogicIfReady_()},e.prototype.layoutInternal_=function(){var t=this;this.frame_=this.adapter.computeBoundingRect();var n=Math.max(this.frame_.height,this.frame_.width);this.maxRadius_=this.adapter.isUnbounded()?n:Math.sqrt(Math.pow(t.frame_.width,2)+Math.pow(t.frame_.height,2))+e.numbers.PADDING;var i=Math.floor(n*e.numbers.INITIAL_ORIGIN_SCALE);this.adapter.isUnbounded()&&i%2!=0?this.initialSize_=i-1:this.initialSize_=i,this.fgScale_=""+this.maxRadius_/this.initialSize_,this.updateLayoutCssVars_()},e.prototype.updateLayoutCssVars_=function(){var t=e.strings,n=t.VAR_FG_SIZE,i=t.VAR_LEFT,r=t.VAR_TOP,o=t.VAR_FG_SCALE;this.adapter.updateCssVariable(n,this.initialSize_+"px"),this.adapter.updateCssVariable(o,this.fgScale_),this.adapter.isUnbounded()&&(this.unboundedCoords_={left:Math.round(this.frame_.width/2-this.initialSize_/2),top:Math.round(this.frame_.height/2-this.initialSize_/2)},this.adapter.updateCssVariable(i,this.unboundedCoords_.left+"px"),this.adapter.updateCssVariable(r,this.unboundedCoords_.top+"px"))},e}(ui),wi=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.disabled=!1,e}return si(e,t),e.attachTo=function(t,n){void 0===n&&(n={isUnbounded:void 0});var i=new e(t);return void 0!==n.isUnbounded&&(i.unbounded=n.isUnbounded),i},e.createAdapter=function(t){return{addClass:function(e){return t.root.classList.add(e)},browserSupportsCssVars:function(){return function(t,e){void 0===e&&(e=!1);var n,i=t.CSS;if("boolean"==typeof ri&&!e)return ri;if(!i||"function"!=typeof i.supports)return!1;var r=i.supports("--css-vars","yes"),o=i.supports("(--css-vars: yes)")&&i.supports("color","#00000000");return n=r||o,e||(ri=n),n}(window)},computeBoundingRect:function(){return t.root.getBoundingClientRect()},containsEventTarget:function(e){return t.root.contains(e)},deregisterDocumentInteractionHandler:function(t,e){return document.documentElement.removeEventListener(t,e,fi())},deregisterInteractionHandler:function(e,n){return t.root.removeEventListener(e,n,fi())},deregisterResizeHandler:function(t){return window.removeEventListener("resize",t)},getWindowPageOffset:function(){return{x:window.pageXOffset,y:window.pageYOffset}},isSurfaceActive:function(){return function(t,e){return(t.matches||t.webkitMatchesSelector||t.msMatchesSelector).call(t,e)}(t.root,":active")},isSurfaceDisabled:function(){return Boolean(t.disabled)},isUnbounded:function(){return Boolean(t.unbounded)},registerDocumentInteractionHandler:function(t,e){return document.documentElement.addEventListener(t,e,fi())},registerInteractionHandler:function(e,n){return t.root.addEventListener(e,n,fi())},registerResizeHandler:function(t){return window.addEventListener("resize",t)},removeClass:function(e){return t.root.classList.remove(e)},updateCssVariable:function(e,n){return t.root.style.setProperty(e,n)}}},Object.defineProperty(e.prototype,"unbounded",{get:function(){return Boolean(this.unbounded_)},set:function(t){this.unbounded_=Boolean(t),this.setUnbounded_()},enumerable:!1,configurable:!0}),e.prototype.activate=function(){this.foundation.activate()},e.prototype.deactivate=function(){this.foundation.deactivate()},e.prototype.layout=function(){this.foundation.layout()},e.prototype.getDefaultFoundation=function(){return new _i(e.createAdapter(this))},e.prototype.initialSyncWithDOM=function(){var t=this.root;this.unbounded="mdcRippleIsUnbounded"in t.dataset},e.prototype.setUnbounded_=function(){this.foundation.setUnbounded(Boolean(this.unbounded_))},e}(di);function bi(e){let n,o,s,l,a,c,u,d,f,h,p,y,w,b,k,C,A,S,O,M,I,D,j,L,R,N,U,H,P,F,G,q,B,z,V,W,Y,X,K,Z,J,Q,tt,et,nt,it,rt,ot,st,lt,at;return{c(){n=_("div"),o=_("div"),s=_("div"),l=_("div"),a=_("input"),c=$(),u=_("label"),u.innerHTML='<span aria-hidden="true">1</span> \n                    <span class="sr-only">Digits</span>',d=$(),f=_("div"),h=_("input"),p=$(),y=_("label"),y.innerHTML='<span aria-hidden="true" style="font-size: 50%;"><span style="position: absolute; top:    12%; left:  20%;">1</span> \n                        <span style="position: absolute; top:    12%; right: 20%;">2</span> \n                        <span style="position: absolute; bottom: 12%; left:  20%;">3</span></span> \n                    <span class="sr-only">Corner Marks</span>',w=$(),b=_("div"),k=_("input"),C=$(),A=_("label"),A.innerHTML='<span aria-hidden="true" style="font-size: 50%;">123</span> \n                    <span class="sr-only">Center Marks</span>',S=$(),O=_("div"),M=_("input"),I=$(),D=_("label"),D.innerHTML='<span class="icon icon-inline icon-c-textinv icon-colors svelte-hmnhaq"></span> \n                    <span class="sr-only">Colors</span>',j=$(),L=_("div"),R=_("div"),N=_("div"),U=_("button"),U.textContent="1",H=$(),P=_("button"),P.textContent="2",F=$(),G=_("button"),G.textContent="3",q=$(),B=_("button"),B.textContent="4",z=$(),V=_("button"),V.textContent="5",W=$(),Y=_("button"),Y.textContent="6",X=$(),K=_("button"),K.textContent="7",Z=$(),J=_("button"),J.textContent="8",Q=$(),tt=_("button"),tt.textContent="9",et=$(),nt=_("button"),nt.textContent="0",it=$(),rt=_("button"),rt.innerHTML='<span class="icon icon-inline icon-c-textinv icon-delete"></span>',ot=$(),st=_("div"),st.innerHTML='<button class="mdc-ripple-surface padbutton svelte-hmnhaq" title="Undo" aria-label="Undo"><span class="icon icon-inline icon-c-textinv icon-undo"></span></button> \n                <button class="mdc-ripple-surface padbutton svelte-hmnhaq" title="Redo" aria-label="Redo"><span class="icon icon-inline icon-c-textinv icon-undo redo"></span></button> \n                <button class="mdc-ripple-surface padbutton svelte-hmnhaq" title="Take Screenshot" aria-label="Take Screenshot"><span class="icon icon-inline icon-c-textinv icon-screenshot"></span></button>',T(a,"class","radio-mode-button svelte-hmnhaq"),T(a,"type","radio"),T(a,"name",nn),T(a,"id","mode-radio-digits"),a.__value=e[1],a.value=a.__value,e[11][0].push(a),T(u,"class","mdc-ripple-surface padbutton padbutton-mode svelte-hmnhaq"),T(u,"role","button"),T(u,"for","mode-radio-digits"),T(l,"class","svelte-hmnhaq"),T(h,"class","radio-mode-button svelte-hmnhaq"),T(h,"type","radio"),T(h,"name",nn),T(h,"id","mode-radio-corner"),h.__value=e[3],h.value=h.__value,e[11][0].push(h),T(y,"class","mdc-ripple-surface padbutton padbutton-mode svelte-hmnhaq"),T(y,"role","button"),T(y,"for","mode-radio-corner"),T(f,"class","svelte-hmnhaq"),T(k,"class","radio-mode-button svelte-hmnhaq"),T(k,"type","radio"),T(k,"name",nn),T(k,"id","mode-radio-center"),k.__value=e[4],k.value=k.__value,e[11][0].push(k),T(A,"class","mdc-ripple-surface padbutton padbutton-mode svelte-hmnhaq"),T(A,"role","button"),T(A,"for","mode-radio-center"),T(b,"class","svelte-hmnhaq"),T(M,"class","radio-mode-button svelte-hmnhaq"),T(M,"type","radio"),T(M,"name",nn),T(M,"id","mode-radio-colors"),M.__value=e[5],M.value=M.__value,e[11][0].push(M),T(D,"class","mdc-ripple-surface padbutton padbutton-mode svelte-hmnhaq"),T(D,"role","button"),T(D,"for","mode-radio-colors"),T(O,"class","svelte-hmnhaq"),T(s,"class","mode-pad svelte-hmnhaq"),T(o,"class","mode-pad-container svelte-hmnhaq"),T(U,"class","mdc-ripple-surface padbutton svelte-hmnhaq"),E(U,"grid-area","1 / 1 / 2 / 2"),U.value="1",T(P,"class","mdc-ripple-surface padbutton svelte-hmnhaq"),E(P,"grid-area","1 / 2 / 2 / 3"),P.value="2",T(G,"class","mdc-ripple-surface padbutton svelte-hmnhaq"),E(G,"grid-area","1 / 3 / 2 / 4"),G.value="3",T(B,"class","mdc-ripple-surface padbutton svelte-hmnhaq"),E(B,"grid-area","2 / 1 / 3 / 2"),B.value="4",T(V,"class","mdc-ripple-surface padbutton svelte-hmnhaq"),E(V,"grid-area","2 / 2 / 3 / 3"),V.value="5",T(Y,"class","mdc-ripple-surface padbutton svelte-hmnhaq"),E(Y,"grid-area","2 / 3 / 3 / 4"),Y.value="6",T(K,"class","mdc-ripple-surface padbutton svelte-hmnhaq"),E(K,"grid-area","3 / 1 / 4 / 2"),K.value="7",T(J,"class","mdc-ripple-surface padbutton svelte-hmnhaq"),E(J,"grid-area","3 / 2 / 4 / 3"),J.value="8",T(tt,"class","mdc-ripple-surface padbutton svelte-hmnhaq"),E(tt,"grid-area","3 / 3 / 4 / 4"),tt.value="9",T(nt,"class","mdc-ripple-surface padbutton svelte-hmnhaq"),E(nt,"grid-area","4 / 1 / 5 / 2"),nt.value="0",T(rt,"class","mdc-ripple-surface padbutton svelte-hmnhaq"),E(rt,"grid-area","4 / 2 / 5 / 4"),rt.value="Delete",T(rt,"title","Delete"),T(rt,"aria-label","Delete"),T(N,"class","num-pad svelte-hmnhaq"),T(st,"class","ctrl-pad svelte-hmnhaq"),T(R,"class","right svelte-hmnhaq"),T(L,"class","right-container svelte-hmnhaq"),T(n,"class","container svelte-hmnhaq")},m(t,i){g(t,n,i),m(n,o),m(o,s),m(s,l),m(l,a),a.checked=a.__value===e[2],m(l,c),m(l,u),m(s,d),m(s,f),m(f,h),h.checked=h.__value===e[2],m(f,p),m(f,y),m(s,w),m(s,b),m(b,k),k.checked=k.__value===e[2],m(b,C),m(b,A),m(s,S),m(s,O),m(O,M),M.checked=M.__value===e[2],m(O,I),m(O,D),m(n,j),m(n,L),m(L,R),m(R,N),m(N,U),m(N,H),m(N,P),m(N,F),m(N,G),m(N,q),m(N,B),m(N,z),m(N,V),m(N,W),m(N,Y),m(N,X),m(N,K),m(N,Z),m(N,J),m(N,Q),m(N,tt),m(N,et),m(N,nt),m(N,it),m(N,rt),m(R,ot),m(R,st),lt||(at=[x(window,"keydown",(function(){r(e[0]&&e[0].keydown||void 0)&&(e[0]&&e[0].keydown||void 0).apply(this,arguments)})),x(window,"keyup",(function(){r(e[0]&&e[0].keyup||void 0)&&(e[0]&&e[0].keyup||void 0).apply(this,arguments)})),x(a,"change",e[10]),x(h,"change",e[12]),x(k,"change",e[13]),x(M,"change",e[14]),x(U,"click",(function(){r(e[0]&&e[0].padClick||void 0)&&(e[0]&&e[0].padClick||void 0).apply(this,arguments)})),x(P,"click",(function(){r(e[0]&&e[0].padClick||void 0)&&(e[0]&&e[0].padClick||void 0).apply(this,arguments)})),x(G,"click",(function(){r(e[0]&&e[0].padClick||void 0)&&(e[0]&&e[0].padClick||void 0).apply(this,arguments)})),x(B,"click",(function(){r(e[0]&&e[0].padClick||void 0)&&(e[0]&&e[0].padClick||void 0).apply(this,arguments)})),x(V,"click",(function(){r(e[0]&&e[0].padClick||void 0)&&(e[0]&&e[0].padClick||void 0).apply(this,arguments)})),x(Y,"click",(function(){r(e[0]&&e[0].padClick||void 0)&&(e[0]&&e[0].padClick||void 0).apply(this,arguments)})),x(K,"click",(function(){r(e[0]&&e[0].padClick||void 0)&&(e[0]&&e[0].padClick||void 0).apply(this,arguments)})),x(J,"click",(function(){r(e[0]&&e[0].padClick||void 0)&&(e[0]&&e[0].padClick||void 0).apply(this,arguments)})),x(tt,"click",(function(){r(e[0]&&e[0].padClick||void 0)&&(e[0]&&e[0].padClick||void 0).apply(this,arguments)})),x(nt,"click",(function(){r(e[0]&&e[0].padClick||void 0)&&(e[0]&&e[0].padClick||void 0).apply(this,arguments)})),x(rt,"click",(function(){r(e[0]&&e[0].padClick||void 0)&&(e[0]&&e[0].padClick||void 0).apply(this,arguments)}))],lt=!0)},p(t,[n]){e=t,2&n&&(a.__value=e[1],a.value=a.__value),4&n&&(a.checked=a.__value===e[2]),8&n&&(h.__value=e[3],h.value=h.__value),4&n&&(h.checked=h.__value===e[2]),16&n&&(k.__value=e[4],k.value=k.__value),4&n&&(k.checked=k.__value===e[2]),32&n&&(M.__value=e[5],M.value=M.__value),4&n&&(M.checked=M.__value===e[2])},i:t,o:t,d(t){t&&v(n),e[11][0].splice(e[11][0].indexOf(a),1),e[11][0].splice(e[11][0].indexOf(h),1),e[11][0].splice(e[11][0].indexOf(k),1),e[11][0].splice(e[11][0].indexOf(M),1),lt=!1,i(at)}}}function $i(t,e,n){let i,r,o,s,a,c;var u;l(t,Pn,(t=>n(0,i=t))),l(t,en,(t=>n(2,o=t))),u=()=>Array.prototype.forEach.call(document.getElementsByClassName("mdc-ripple-surface"),(t=>wi.attachTo(t))),I().$$.on_mount.push(u);const d=Je.ref("marks","filled");l(t,d,(t=>n(1,r=t)));const f=Je.ref("marks","corner");l(t,f,(t=>n(3,s=t)));const h=Je.ref("marks","center");l(t,h,(t=>n(4,a=t)));const p=Je.ref("marks","colors");l(t,p,(t=>n(5,c=t)));return[i,r,o,s,a,c,d,f,h,p,function(){o=this.__value,en.set(o)},[[]],function(){o=this.__value,en.set(o)},function(){o=this.__value,en.set(o)},function(){o=this.__value,en.set(o)}]}class ki extends ot{constructor(t){super(),rt(this,t,$i,bi,o,{})}}function xi(e){let n,r,o,s,l,a,c,u,d,f,h,p,y;return o=new ki({}),{c(){n=_("div"),r=_("div"),tt(o.$$.fragment),s=$(),l=_("div"),a=_("input"),c=$(),u=_("input"),d=$(),f=_("textarea"),T(r,"class","entry-pad svelte-fcgi7u"),T(a,"class","info-input title svelte-fcgi7u"),T(a,"type","text"),T(a,"placeholder","Untitled"),a.value="Killer",T(u,"class","info-input setter svelte-fcgi7u"),T(u,"type","text"),T(u,"placeholder","Anonymous"),T(f,"class","rules-text svelte-fcgi7u"),T(f,"spellcheck","false"),f.value="Normal killer sudoku rules apply: digits in cages sum to the number in the cage's top left, and do not repeat.",T(l,"class","entry-info svelte-fcgi7u"),T(n,"class","entry-column svelte-fcgi7u")},m(t,i){g(t,n,i),m(n,r),et(o,r,null),e[1](r),m(n,s),m(n,l),m(l,a),m(l,c),m(l,u),m(l,d),m(l,f),h=!0,p||(y=[x(f,"focus",Ci),x(f,"blur",Ci)],p=!0)},p:t,i(t){h||(X(o.$$.fragment,t),h=!0)},o(t){K(o.$$.fragment,t),h=!1},d(t){t&&v(n),nt(o),e[1](null),p=!1,i(y)}}}function Ci(t){t.currentTarget.setAttribute("spellcheck",`${document.activeElement===t.currentTarget}`)}function Ai(t,e,n){let i;function r(){n(0,i.style.fontSize=.12*i.clientWidth+"px",i)}var o;return window.addEventListener("resize",r),o=()=>window.removeEventListener("resize",r),I().$$.on_destroy.push(o),requestAnimationFrame(r),[i,function(t){L[t?"unshift":"push"]((()=>{i=t,n(0,i)}))}]}class Ti extends ot{constructor(t){super(),rt(this,t,Ai,xi,o,{})}}function Si(e){let n,i,r;return{c(){n=_("div"),n.innerHTML='<ul class="header-buttons left svelte-1gtf4ed"><li>Solving/Setting</li> \n        <li>New Grid</li> \n        <li>Export</li></ul>',i=$(),r=_("div"),r.innerHTML='<ul class="header-buttons right svelte-1gtf4ed"><li>Light/dark</li> \n        <li>Help</li> \n        <li>Settings</li></ul>',T(n,"class","header-left svelte-1gtf4ed"),T(r,"class","header-right svelte-1gtf4ed")},m(t,e){g(t,n,e),g(t,i,e),g(t,r,e)},p:t,i:t,o:t,d(t){t&&v(n),t&&v(i),t&&v(r)}}}class Ei extends ot{constructor(t){super(),rt(this,t,null,Si,o,{})}}function Oi(e){let n,i,r,o,s,l,a,c,u,d,f,h,p,y,w,b,k,x,C,A;return o=new Ei({}),d=new ii({}),p=new qn({}),b=new Ti({}),{c(){n=_("header"),i=_("div"),r=_("div"),tt(o.$$.fragment),s=$(),l=_("main"),a=_("div"),c=_("div"),u=_("div"),tt(d.$$.fragment),f=$(),h=_("div"),tt(p.$$.fragment),y=$(),w=_("div"),tt(b.$$.fragment),k=$(),x=_("footer"),C=_("a"),C.textContent="Sudoku Studio version c4c0f54",T(r,"class","content-row"),T(i,"class","content"),T(n,"class","svelte-uq8vao"),T(u,"class","left-panel svelte-uq8vao"),T(h,"class","center-panel svelte-uq8vao"),T(w,"class","right-panel svelte-uq8vao"),T(c,"class","content-row svelte-uq8vao"),T(a,"class","content svelte-uq8vao"),T(l,"class","svelte-uq8vao"),T(C,"href","https://github.com/SudokuStudio/SudokuStudio"),T(x,"class","svelte-uq8vao")},m(t,e){g(t,n,e),m(n,i),m(i,r),et(o,r,null),g(t,s,e),g(t,l,e),m(l,a),m(a,c),m(c,u),et(d,u,null),m(c,f),m(c,h),et(p,h,null),m(c,y),m(c,w),et(b,w,null),g(t,k,e),g(t,x,e),m(x,C),A=!0},p:t,i(t){A||(X(o.$$.fragment,t),X(d.$$.fragment,t),X(p.$$.fragment,t),X(b.$$.fragment,t),A=!0)},o(t){K(o.$$.fragment,t),K(d.$$.fragment,t),K(p.$$.fragment,t),K(b.$$.fragment,t),A=!1},d(t){t&&v(n),nt(o),t&&v(s),t&&v(l),nt(d),nt(p),nt(b),t&&v(k),t&&v(x)}}}return new class extends ot{constructor(t){super(),rt(this,t,null,Oi,o,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
