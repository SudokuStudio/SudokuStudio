var sudoku_studio_web=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function i(t){return"function"==typeof t}function o(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function s(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function a(t,e,n){t.$$.on_destroy.push(s(e,n))}function l(t,e,n,r){if(t){const i=c(t,e,n,r);return t[0](i)}}function c(t,e,n,r){return t[1]&&r?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](r(e))):n.ctx}function u(t,e,n,r,i,o,s){const a=function(t,e,n,r){if(t[2]&&r){const i=t[2](r(n));if(void 0===e.dirty)return i;if("object"==typeof i){const t=[],n=Math.max(e.dirty.length,i.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|i[r];return t}return e.dirty|i}return e.dirty}(e,r,i,o);if(a){const i=c(e,n,r,s);t.p(i,a)}}function d(t,e,n=e){return t.set(n),e}let h,f=!1;function p(t,e,n,r){for(;t<e;){const i=t+(e-t>>1);n(i)<=r?t=i+1:e=i}return t}function m(t,e){f?(!function(t){if(t.hydrate_init)return;t.hydrate_init=!0;const e=t.childNodes,n=new Int32Array(e.length+1),r=new Int32Array(e.length);n[0]=-1;let i=0;for(let t=0;t<e.length;t++){const o=p(1,i+1,(t=>e[n[t]].claim_order),e[t].claim_order)-1;r[t]=n[o]+1;const s=o+1;n[s]=t,i=Math.max(s,i)}const o=[],s=[];let a=e.length-1;for(let t=n[i]+1;0!=t;t=r[t-1]){for(o.push(e[t-1]);a>=t;a--)s.push(e[a]);a--}for(;a>=0;a--)s.push(e[a]);o.reverse(),s.sort(((t,e)=>t.claim_order-e.claim_order));for(let e=0,n=0;e<s.length;e++){for(;n<o.length&&s[e].claim_order>=o[n].claim_order;)n++;const r=n<o.length?o[n]:null;t.insertBefore(s[e],r)}}(t),(void 0===t.actual_end_child||null!==t.actual_end_child&&t.actual_end_child.parentElement!==t)&&(t.actual_end_child=t.firstChild),e!==t.actual_end_child?t.insertBefore(e,t.actual_end_child):t.actual_end_child=e.nextSibling):e.parentNode!==t&&t.appendChild(e)}function g(t,e,n){f&&!n?m(t,e):(e.parentNode!==t||n&&e.nextSibling!==n)&&t.insertBefore(e,n||null)}function v(t){t.parentNode.removeChild(t)}function _(t){return document.createElement(t)}function y(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function w(t){return document.createTextNode(t)}function b(){return w(" ")}function $(){return w("")}function k(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function x(t){return function(e){return e.preventDefault(),t.call(this,e)}}function A(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function E(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function C(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function T(t,e,n,r){t.style.setProperty(e,n,r?"important":"")}function S(t,e,n){t.classList[n?"add":"remove"](e)}function O(t){h=t}function M(){if(!h)throw new Error("Function called outside component initialization");return h}const j=[],I=[],L=[],R=[],D=Promise.resolve();let N=!1;function U(t){L.push(t)}let H=!1;const P=new Set;function F(){if(!H){H=!0;do{for(let t=0;t<j.length;t+=1){const e=j[t];O(e),q(e.$$)}for(O(null),j.length=0;I.length;)I.pop()();for(let t=0;t<L.length;t+=1){const e=L[t];P.has(e)||(P.add(e),e())}L.length=0}while(j.length);for(;R.length;)R.pop()();N=!1,H=!1,P.clear()}}function q(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(U)}}const G=new Set;let B;function V(){B={r:0,c:[],p:B}}function z(){B.r||r(B.c),B=B.p}function Y(t,e){t&&t.i&&(G.delete(t),t.i(e))}function W(t,e,n,r){if(t&&t.o){if(G.has(t))return;G.add(t),B.c.push((()=>{G.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}function X(t,e){t.d(1),e.delete(t.key)}function K(t,e){W(t,1,1,(()=>{e.delete(t.key)}))}function Z(t,e,n,r,i,o,s,a,l,c,u,d){let h=t.length,f=o.length,p=h;const m={};for(;p--;)m[t[p].key]=p;const g=[],v=new Map,_=new Map;for(p=f;p--;){const t=d(i,o,p),a=n(t);let l=s.get(a);l?r&&l.p(t,e):(l=c(a,t),l.c()),v.set(a,g[p]=l),a in m&&_.set(a,Math.abs(p-m[a]))}const y=new Set,w=new Set;function b(t){Y(t,1),t.m(a,u),s.set(t.key,t),u=t.first,f--}for(;h&&f;){const e=g[f-1],n=t[h-1],r=e.key,i=n.key;e===n?(u=e.first,h--,f--):v.has(i)?!s.has(r)||y.has(r)?b(e):w.has(i)?h--:_.get(r)>_.get(i)?(w.add(r),b(e)):(y.add(i),h--):(l(n,s),h--)}for(;h--;){const e=t[h];v.has(e.key)||l(e,s)}for(;f;)b(g[f-1]);return g}function J(t){t&&t.c()}function Q(t,n,o,s){const{fragment:a,on_mount:l,on_destroy:c,after_update:u}=t.$$;a&&a.m(n,o),s||U((()=>{const n=l.map(e).filter(i);c?c.push(...n):r(n),t.$$.on_mount=[]})),u.forEach(U)}function tt(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function et(t,e){-1===t.$$.dirty[0]&&(j.push(t),N||(N=!0,D.then(F)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function nt(e,i,o,s,a,l,c=[-1]){const u=h;O(e);const d=e.$$={fragment:null,ctx:null,props:l,update:t,not_equal:a,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:i.context||[]),callbacks:n(),dirty:c,skip_bound:!1};let p=!1;if(d.ctx=o?o(e,i.props||{},((t,n,...r)=>{const i=r.length?r[0]:n;return d.ctx&&a(d.ctx[t],d.ctx[t]=i)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](i),p&&et(e,t)),n})):[],d.update(),p=!0,r(d.before_update),d.fragment=!!s&&s(d.ctx),i.target){if(i.hydrate){f=!0;const t=function(t){return Array.from(t.childNodes)}(i.target);d.fragment&&d.fragment.l(t),t.forEach(v)}else d.fragment&&d.fragment.c();i.intro&&Y(e.$$.fragment),Q(e,i.target,i.anchor,i.customElement),f=!1,F()}O(u)}class rt{$destroy(){tt(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const it=[];function ot(t,e){return{subscribe:st(t,e).subscribe}}function st(e,n=t){let r;const i=[];function s(t){if(o(e,t)&&(e=t,r)){const t=!it.length;for(let t=0;t<i.length;t+=1){const n=i[t];n[1](),it.push(n,e)}if(t){for(let t=0;t<it.length;t+=2)it[t][0](it[t+1]);it.length=0}}}return{set:s,update:function(t){s(t(e))},subscribe:function(o,a=t){const l=[o,a];return i.push(l),1===i.length&&(r=n(s)||t),o(e),()=>{const t=i.indexOf(l);-1!==t&&i.splice(t,1),0===i.length&&(r(),r=null)}}}}function at(e,n,o){const a=!Array.isArray(e),l=a?[e]:e,c=n.length<2;return ot(o,(e=>{let o=!1;const u=[];let d=0,h=t;const f=()=>{if(d)return;h();const r=n(a?u[0]:u,e);c?e(r):h=i(r)?r:t},p=l.map(((t,e)=>s(t,(t=>{u[e]=t,d&=~(1<<e),o&&f()}),(()=>{d|=1<<e}))));return o=!0,f(),function(){r(p),h()}}))}const lt=.01,ct=.005,ut=.04;function dt(t){const e=Object.keys(t).length;return Array.from(Object.assign(Object.assign({},t),{length:e}))}function ht(t,{width:e}){return[t%e,Math.floor(t/e)]}function ft([t,e],{width:n}){return e*n+t}function pt([t,e],{width:n}){return e*(n+1)+t}function mt(t,{width:e}){return[t%(e+1),Math.floor(t/(e+1))]}function gt([t,e],{width:n,height:r},i){if(t<0||n<=t||e<0||r<=e)return null;if(i){const n=t%1-.5,r=e%1-.5;if(.5<Math.abs(n)+Math.abs(r))return null}return[Math.floor(t),Math.floor(e)]}function vt(t,e){const n=e.width*e.height;for(let e=0;e<n;e++)if(t[e])return e;return null}function _t(t){return null==t?[]:Object.keys(t).filter((e=>!!t[e])).map(Number)}function yt(t,e,n=0){const r=[];let i,o=0;for(;null!=(i=t[o]);){const[t,n]=ht(i,e);r.push([t+.5,n+.5]),o++}if(1===r.length&&r.push(r[0]),0<n){const t=r.length,e=r[t-1][0]-r[t-2][0],i=r[t-1][1]-r[t-2][1];r[t-1][0]+=-e*n,r[t-1][1]+=-i*n}return"M"+r.map((t=>t.join(","))).join("L")}function wt({offsetX:t,offsetY:e},n){const{width:r,height:i}=n.getBoundingClientRect(),{x:o,y:s,width:a,height:l}=n.viewBox.baseVal;return[a*t/r+o,l*e/i+s]}function bt(t,e,n=0){const r=new Map;{function n(t,e){const n=r.get(e);if(null==n?void 0:n.has(t))n.delete(t),0>=n.size&&r.delete(e);else{let n=r.get(t);null==n&&(n=new Set,r.set(t,n)),n.add(e)}}for(const r of t){const[t,i]=ht(r,e),o=pt([t,i],e),s=pt([1+t,i],e),a=pt([1+t,1+i],e),l=pt([t,1+i],e);n(o,s),n(s,a),n(a,l),n(l,o)}}if(0>=r.size)return null;const i=[];for(;!(0>=r.size);){const[t,o]=Array.from(r.entries()).find((([t,e])=>1===e.size)),s=Array.from(o)[0];let a=mt(t,e),l=mt(s,e),c=s;const u=[];do{const t=r.get(c);let i=Number.NEGATIVE_INFINITY,o=-1,s=null;for(const n of t){const t=mt(n,e),r=(l[0]-a[0])*(t[1]-l[1])-(l[1]-a[1])*(t[0]-l[0]);i<r&&(i=r,o=n,s=t)}if(null==s)throw"UNREACHABLE";if(t.delete(o),0>=t.size&&r.delete(c),0!==i){let[t,e]=l;e+=n*(l[0]-a[0])+i*n*(a[1]-l[1]),t+=n*(l[1]-s[1])+i*n*(s[0]-l[0]),u.push(`${t},${e}`)}a=l,l=s,c=o}while(s!==c);i.push("M"+u.join("L")+"Z")}return i.join("")}function $t(t,e){return 0<=t[0]&&t[0]<e.width&&0<=t[1]&&t[1]<e.height}function kt(e){let n,r,i,o,s,a,l,c,u,d,h,f,p,_,w,$,k,x,A,C,T;return{c(){n=y("filter"),r=y("feGaussianBlur"),i=y("feComponentTransfer"),o=y("feFuncR"),s=y("feFuncG"),a=y("feFuncB"),l=y("feFuncA"),u=b(),d=y("mask"),h=y("rect"),_=y("path"),A=b(),C=y("path"),E(r,"in","SourceGraphic"),E(r,"stdDeviation",xt),E(o,"type","identity"),E(s,"type","identity"),E(a,"type","identity"),E(l,"type","linear"),E(l,"slope","20"),E(l,"intercept","-9.5"),E(n,"id",c="select-"+e[0]+"-blur"),E(h,"x","0"),E(h,"y","0"),E(h,"width",f=e[1].width),E(h,"height",p=e[1].height),E(h,"fill","#fff"),E(_,"d",e[2]),E(_,"fill",At),E(_,"stroke","none"),E(_,"filter",w="url(#select-"+e[0]+"-blur)"),E(d,"id",$="select-"+e[0]+"-mask"),E(d,"maskUnits","userSpaceOnUse"),E(d,"maskContentUnits","userSpaceOnUse"),E(d,"x","0"),E(d,"y","0"),E(d,"width",k=e[1].width),E(d,"height",x=e[1].height),E(C,"id",e[0]),E(C,"d",e[3]),E(C,"fill","#08f"),E(C,"fill-opacity","0.7"),E(C,"stroke","none"),E(C,"mask",T="url(#select-"+e[0]+"-mask)")},m(t,e){g(t,n,e),m(n,r),m(n,i),m(i,o),m(i,s),m(i,a),m(i,l),g(t,u,e),g(t,d,e),m(d,h),m(d,_),g(t,A,e),g(t,C,e)},p(t,[e]){1&e&&c!==(c="select-"+t[0]+"-blur")&&E(n,"id",c),2&e&&f!==(f=t[1].width)&&E(h,"width",f),2&e&&p!==(p=t[1].height)&&E(h,"height",p),4&e&&E(_,"d",t[2]),1&e&&w!==(w="url(#select-"+t[0]+"-blur)")&&E(_,"filter",w),1&e&&$!==($="select-"+t[0]+"-mask")&&E(d,"id",$),2&e&&k!==(k=t[1].width)&&E(d,"width",k),2&e&&x!==(x=t[1].height)&&E(d,"height",x),1&e&&E(C,"id",t[0]),8&e&&E(C,"d",t[3]),1&e&&T!==(T="url(#select-"+t[0]+"-mask)")&&E(C,"mask",T)},i:t,o:t,d(t){t&&v(n),t&&v(u),t&&v(d),t&&v(A),t&&v(C)}}}const xt=.05,At="#080808";function Et(t,e,n){let r,i,{id:o}=e,{ref:s}=e,{grid:l}=e,c=at(s,(t=>bt(_t(t),l,.075)));a(t,c,(t=>n(2,r=t)));let u=at(s,(t=>bt(_t(t),l,0)));return a(t,u,(t=>n(3,i=t))),t.$$set=t=>{"id"in t&&n(0,o=t.id),"ref"in t&&n(6,s=t.ref),"grid"in t&&n(1,l=t.grid)},[o,l,r,i,c,u,s]}class Ct extends rt{constructor(t){super(),nt(this,t,Et,kt,o,{id:0,ref:6,grid:1})}}function Tt(e){let n,r,i,o,s,a,l;return{c(){n=y("g"),r=y("line"),s=y("line"),E(r,"x1","0"),E(r,"y1",i=e[1].height),E(r,"x2",o=e[1].width),E(r,"y2","0"),E(r,"class","svelte-1qd4hgf"),S(r,"hide",!e[2]),E(s,"x1","0"),E(s,"y1","0"),E(s,"x2",a=e[1].width),E(s,"y2",l=e[1].height),E(s,"class","svelte-1qd4hgf"),S(s,"hide",!e[3]),E(n,"id",e[0])},m(t,e){g(t,n,e),m(n,r),m(n,s)},p(t,[e]){2&e&&i!==(i=t[1].height)&&E(r,"y1",i),2&e&&o!==(o=t[1].width)&&E(r,"x2",o),4&e&&S(r,"hide",!t[2]),2&e&&a!==(a=t[1].width)&&E(s,"x2",a),2&e&&l!==(l=t[1].height)&&E(s,"y2",l),8&e&&S(s,"hide",!t[3]),1&e&&E(n,"id",t[0])},i:t,o:t,d(t){t&&v(n)}}}function St(t,e,n){let r,i,{id:o}=e,{ref:s}=e,{grid:l}=e;const c=s.ref("positive");a(t,c,(t=>n(2,r=t)));const u=s.ref("negative");return a(t,u,(t=>n(3,i=t))),t.$$set=t=>{"id"in t&&n(0,o=t.id),"ref"in t&&n(6,s=t.ref),"grid"in t&&n(1,l=t.grid)},[o,l,r,i,c,u,s]}function Ot(t,e,n){const r=t.slice();return r[5]=e[n].idx,r[6]=e[n].x,r[7]=e[n].y,r[8]=e[n].lines,r}function Mt(t,e,n){const r=t.slice();return r[11]=e[n],r[13]=n,r}function jt(t){let e,n,r,i,o=t[11]+"";return{c(){e=y("text"),n=w(o),E(e,"x",r=t[6]),E(e,"y",i=t[7]+Dt*(t[13]-.5*(t[8].length-1))),E(e,"text-anchor","middle"),E(e,"dominant-baseline","central"),E(e,"font-size",Dt),E(e,"font-weight","700")},m(t,r){g(t,e,r),m(e,n)},p(t,s){4&s&&o!==(o=t[11]+"")&&C(n,o),4&s&&r!==(r=t[6])&&E(e,"x",r),4&s&&i!==(i=t[7]+Dt*(t[13]-.5*(t[8].length-1)))&&E(e,"y",i)},d(t){t&&v(e)}}}function It(t,e){let n,r,i,o,s=e[8],a=[];for(let t=0;t<s.length;t+=1)a[t]=jt(Mt(e,s,t));return{key:t,first:null,c(){n=y("circle");for(let t=0;t<a.length;t+=1)a[t].c();o=$(),E(n,"cx",r=e[6]),E(n,"cy",i=e[7]),E(n,"r","0.2125"),E(n,"fill","#fff"),E(n,"stroke","#000"),E(n,"stroke-width","0.02"),this.first=n},m(t,e){g(t,n,e);for(let n=0;n<a.length;n+=1)a[n].m(t,e);g(t,o,e)},p(t,l){if(e=t,4&l&&r!==(r=e[6])&&E(n,"cx",r),4&l&&i!==(i=e[7])&&E(n,"cy",i),12&l){let t;for(s=e[8],t=0;t<s.length;t+=1){const n=Mt(e,s,t);a[t]?a[t].p(n,l):(a[t]=jt(n),a[t].c(),a[t].m(o.parentNode,o))}for(;t<a.length;t+=1)a[t].d(1);a.length=s.length}},d(t){t&&v(n),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(a,t),t&&v(o)}}}function Lt(e){let n,r=[],i=new Map,o=e[3](e[2]);const s=t=>t[5];for(let t=0;t<o.length;t+=1){let n=Ot(e,o,t),a=s(n);i.set(a,r[t]=It(a,n))}return{c(){n=y("g");for(let t=0;t<r.length;t+=1)r[t].c();E(n,"id",e[0])},m(t,e){g(t,n,e);for(let t=0;t<r.length;t+=1)r[t].m(n,null)},p(t,[e]){12&e&&(o=t[3](t[2]),r=Z(r,e,s,1,t,o,i,n,X,It,null,Ot)),1&e&&E(n,"id",t[0])},i:t,o:t,d(t){t&&v(n);for(let t=0;t<r.length;t+=1)r[t].d()}}}const Rt=/.{1,2}/g,Dt=.2;function Nt(e,n,r){let i,o=t,a=()=>(o(),o=s(c,(t=>r(2,i=t))),c);e.$$.on_destroy.push((()=>o()));let{id:l}=n,{ref:c}=n;a();let{grid:u}=n;return e.$$set=t=>{"id"in t&&r(0,l=t.id),"ref"in t&&a(r(1,c=t.ref)),"grid"in t&&r(4,u=t.grid)},[l,c,i,function(t){const e=[];for(const[n,r]of Object.entries(t)){const[t,i]=mt(+n,u),o=Array.from(r).join("").match(Rt)||[];e.push({idx:+n,x:t,y:i,lines:o})}return e},u]}function Ut(t,e,n){const r=t.slice();return r[5]=e[n].cageId,r[6]=e[n].sum,r[7]=e[n].labelPos,r[8]=e[n].d,r}function Ht(t,e,n){const r=t.slice();return r[5]=e[n].cageId,r[6]=e[n].sum,r[7]=e[n].labelPos,r}function Pt(t,e){let n,r,i,o;return{key:t,first:null,c(){n=y("rect"),E(n,"x",r=e[7].x),E(n,"y",i=e[7].y),E(n,"width",o=.7*`${e[6]}`.length*Bt),E(n,"height",1.1*Bt),E(n,"fill","#000"),this.first=n},m(t,e){g(t,n,e)},p(t,s){e=t,8&s&&r!==(r=e[7].x)&&E(n,"x",r),8&s&&i!==(i=e[7].y)&&E(n,"y",i),8&s&&o!==(o=.7*`${e[6]}`.length*Bt)&&E(n,"width",o)},d(t){t&&v(n)}}}function Ft(t,e){let n,r,i,o,s,a,l,c=e[6]+"";return{key:t,first:null,c(){n=y("text"),r=w(c),s=y("path"),E(n,"x",i=e[7].x),E(n,"y",o=e[7].y),E(n,"text-anchor","start"),E(n,"dominant-baseline","hanging"),E(n,"font-size",Bt),E(n,"font-weight","700"),E(s,"d",a=e[8]),E(s,"fill","none"),E(s,"stroke","#000"),E(s,"stroke-width",Vt),E(s,"stroke-dasharray","0.075 0.04"),E(s,"mask",l="url(#killer-"+e[0]+"-mask)"),this.first=n},m(t,e){g(t,n,e),m(n,r),g(t,s,e)},p(t,u){e=t,8&u&&c!==(c=e[6]+"")&&C(r,c),8&u&&i!==(i=e[7].x)&&E(n,"x",i),8&u&&o!==(o=e[7].y)&&E(n,"y",o),8&u&&a!==(a=e[8])&&E(s,"d",a),1&u&&l!==(l="url(#killer-"+e[0]+"-mask)")&&E(s,"mask",l)},d(t){t&&v(n),t&&v(s)}}}function qt(e){let n,r,i,o,s,a,l,c,u,d=[],h=new Map,f=[],p=new Map,_=e[4](e[3]);const w=t=>t[5];for(let t=0;t<_.length;t+=1){let n=Ht(e,_,t),r=w(n);h.set(r,d[t]=Pt(r,n))}let $=e[4](e[3]);const k=t=>t[5];for(let t=0;t<$.length;t+=1){let n=Ut(e,$,t),r=k(n);p.set(r,f[t]=Ft(r,n))}return{c(){n=y("mask"),r=y("rect");for(let t=0;t<d.length;t+=1)d[t].c();c=b(),u=y("g");for(let t=0;t<f.length;t+=1)f[t].c();E(r,"x","0"),E(r,"y","0"),E(r,"width",i=e[2].width),E(r,"height",o=e[2].height),E(r,"fill","#fff"),E(n,"id",s="killer-"+e[0]+"-mask"),E(n,"maskUnits","userSpaceOnUse"),E(n,"maskContentUnits","userSpaceOnUse"),E(n,"x","0"),E(n,"y","0"),E(n,"width",a=e[2].width),E(n,"height",l=e[2].height),E(u,"id",e[0])},m(t,e){g(t,n,e),m(n,r);for(let t=0;t<d.length;t+=1)d[t].m(n,null);g(t,c,e),g(t,u,e);for(let t=0;t<f.length;t+=1)f[t].m(u,null)},p(t,[e]){4&e&&i!==(i=t[2].width)&&E(r,"width",i),4&e&&o!==(o=t[2].height)&&E(r,"height",o),24&e&&(_=t[4](t[3]),d=Z(d,e,w,1,t,_,h,n,X,Pt,null,Ht)),1&e&&s!==(s="killer-"+t[0]+"-mask")&&E(n,"id",s),4&e&&a!==(a=t[2].width)&&E(n,"width",a),4&e&&l!==(l=t[2].height)&&E(n,"height",l),25&e&&($=t[4](t[3]),f=Z(f,e,k,1,t,$,p,u,X,Ft,null,Ut)),1&e&&E(u,"id",t[0])},i:t,o:t,d(t){t&&v(n);for(let t=0;t<d.length;t+=1)d[t].d();t&&v(c),t&&v(u);for(let t=0;t<f.length;t+=1)f[t].d()}}}const Gt=.075,Bt=.2,Vt=.015;function zt(e,n,r){let i,o=t,a=()=>(o(),o=s(c,(t=>r(3,i=t))),c);e.$$.on_destroy.push((()=>o()));let{id:l}=n,{ref:c}=n;a();let{grid:u}=n;return e.$$set=t=>{"id"in t&&r(0,l=t.id),"ref"in t&&a(r(1,c=t.ref)),"grid"in t&&r(2,u=t.grid)},[l,c,u,i,function(t){const e=[];for(const[n,{sum:r,cells:i}]of Object.entries(t)){const t=vt(i,u),o=bt(_t(i),u,Gt);if(null!=o&&null!=t){const i=ht(t,u),s={x:i[0]+Gt-Vt,y:i[1]+Gt-Vt};e.push({cageId:n,sum:r,labelPos:s,d:o})}}return e}]}function Yt(t,e,n){const r=t.slice();return r[4]=e[n][0],r[5]=e[n][1],r}function Wt(t,e,n){const r=t.slice();return r[4]=e[n][0],r[5]=e[n][1],r}function Xt(t,e,n){const r=t.slice();return r[4]=e[n][0],r[5]=e[n][1],r}function Kt(t,e){let n,r,i;return{key:t,first:null,c(){n=y("use"),E(n,"href",r="#max-"+e[0]+"-maskitem"),E(n,"transform",i="translate("+ht(+e[4],e[2])[0]+","+ht(+e[4],e[2])[1]+")"),E(n,"fill","#000"),this.first=n},m(t,e){g(t,n,e)},p(t,o){e=t,1&o&&r!==(r="#max-"+e[0]+"-maskitem")&&E(n,"href",r),12&o&&i!==(i="translate("+ht(+e[4],e[2])[0]+","+ht(+e[4],e[2])[1]+")")&&E(n,"transform",i)},d(t){t&&v(n)}}}function Zt(t,e){let n,r,i;return{key:t,first:null,c(){n=y("rect"),E(n,"x",r=ht(+e[4],e[2])[0]),E(n,"y",i=ht(+e[4],e[2])[1]),E(n,"width","1"),E(n,"height","1"),E(n,"fill","#f2ebeb"),this.first=n},m(t,e){g(t,n,e)},p(t,o){e=t,12&o&&r!==(r=ht(+e[4],e[2])[0])&&E(n,"x",r),12&o&&i!==(i=ht(+e[4],e[2])[1])&&E(n,"y",i)},d(t){t&&v(n)}}}function Jt(t,e){let n,r,i;return{key:t,first:null,c(){n=y("use"),E(n,"href",r="#max-"+e[0]),E(n,"transform",i="translate("+ht(+e[4],e[2])[0]+","+ht(+e[4],e[2])[1]+")"),this.first=n},m(t,e){g(t,n,e)},p(t,o){e=t,1&o&&r!==(r="#max-"+e[0])&&E(n,"href",r),12&o&&i!==(i="translate("+ht(+e[4],e[2])[0]+","+ht(+e[4],e[2])[1]+")")&&E(n,"transform",i)},d(t){t&&v(n)}}}function Qt(e){let n,r,i,o,s,a,l,c,u,d,h,f,p,_,w,$,k,x,A,C,T,S=[],O=new Map,M=[],j=new Map,I=[],L=new Map,R=Object.entries(e[3]);const D=t=>t[4];for(let t=0;t<R.length;t+=1){let n=Xt(e,R,t),r=D(n);O.set(r,S[t]=Kt(r,n))}let N=Object.entries(e[3]);const U=t=>t[4];for(let t=0;t<N.length;t+=1){let n=Wt(e,N,t),r=U(n);j.set(r,M[t]=Zt(r,n))}let H=Object.entries(e[3]);const P=t=>t[4];for(let t=0;t<H.length;t+=1){let n=Yt(e,H,t),r=P(n);L.set(r,I[t]=Jt(r,n))}return{c(){n=y("path"),i=b(),o=y("path"),a=b(),l=y("mask"),c=y("rect");for(let t=0;t<S.length;t+=1)S[t].c();_=b(),w=y("rect"),x=b(),A=y("g");for(let t=0;t<M.length;t+=1)M[t].c();C=y("g");for(let t=0;t<I.length;t+=1)I[t].c();E(n,"id",r="max-"+e[0]),E(n,"d","M 0.12,0.38 L 0.08,0.50 L 0.12,0.62 M 0.38,0.12 L 0.50,0.08 L 0.62,0.12 M 0.88,0.62 L 0.92,0.50 L 0.88,0.38 M 0.62,0.88 L 0.50,0.92 L 0.38,0.88"),E(n,"fill","none"),E(n,"stroke","#000"),E(n,"stroke-width","0.025"),E(n,"stroke-miterlimit","1.5"),E(o,"id",s="max-"+e[0]+"-maskitem"),E(o,"d","M -0.5,0.5 L 0.5,-0.5 L 1.5,0.5 L 0.5,1.5 M 0,0 L 0,1 L 1,1 L 1,0"),E(o,"fill","#000"),E(c,"x","0.25"),E(c,"y","0.25"),E(c,"width",u=e[2].width-.5),E(c,"height",d=e[2].height-.5),E(c,"fill","#fff"),E(l,"id",h="max-"+e[0]+"-mask"),E(l,"maskUnits","userSpaceOnUse"),E(l,"maskContentUnits","userSpaceOnUse"),E(l,"x","0"),E(l,"y","0"),E(l,"width",f=e[2].width),E(l,"height",p=e[2].height),E(w,"width",$=e[2].width),E(w,"height",k=e[2].height),E(w,"fill","#fff"),E(C,"mask",T="url(#max-"+e[0]+"-mask)"),E(A,"id",e[0])},m(t,e){g(t,n,e),g(t,i,e),g(t,o,e),g(t,a,e),g(t,l,e),m(l,c);for(let t=0;t<S.length;t+=1)S[t].m(l,null);g(t,_,e),g(t,w,e),g(t,x,e),g(t,A,e);for(let t=0;t<M.length;t+=1)M[t].m(A,null);m(A,C);for(let t=0;t<I.length;t+=1)I[t].m(C,null)},p(t,[e]){1&e&&r!==(r="max-"+t[0])&&E(n,"id",r),1&e&&s!==(s="max-"+t[0]+"-maskitem")&&E(o,"id",s),4&e&&u!==(u=t[2].width-.5)&&E(c,"width",u),4&e&&d!==(d=t[2].height-.5)&&E(c,"height",d),13&e&&(R=Object.entries(t[3]),S=Z(S,e,D,1,t,R,O,l,X,Kt,null,Xt)),1&e&&h!==(h="max-"+t[0]+"-mask")&&E(l,"id",h),4&e&&f!==(f=t[2].width)&&E(l,"width",f),4&e&&p!==(p=t[2].height)&&E(l,"height",p),4&e&&$!==($=t[2].width)&&E(w,"width",$),4&e&&k!==(k=t[2].height)&&E(w,"height",k),12&e&&(N=Object.entries(t[3]),M=Z(M,e,U,1,t,N,j,A,X,Zt,C,Wt)),13&e&&(H=Object.entries(t[3]),I=Z(I,e,P,1,t,H,L,C,X,Jt,null,Yt)),1&e&&T!==(T="url(#max-"+t[0]+"-mask)")&&E(C,"mask",T),1&e&&E(A,"id",t[0])},i:t,o:t,d(t){t&&v(n),t&&v(i),t&&v(o),t&&v(a),t&&v(l);for(let t=0;t<S.length;t+=1)S[t].d();t&&v(_),t&&v(w),t&&v(x),t&&v(A);for(let t=0;t<M.length;t+=1)M[t].d();for(let t=0;t<I.length;t+=1)I[t].d()}}}function te(e,n,r){let i,o=t,a=()=>(o(),o=s(c,(t=>r(3,i=t))),c);e.$$.on_destroy.push((()=>o()));let{id:l}=n,{ref:c}=n;a();let{grid:u}=n;return e.$$set=t=>{"id"in t&&r(0,l=t.id),"ref"in t&&a(r(1,c=t.ref)),"grid"in t&&r(2,u=t.grid)},[l,c,u,i]}function ee(t,e,n){const r=t.slice();return r[4]=e[n][0],r[5]=e[n][1],r}function ne(t,e,n){const r=t.slice();return r[4]=e[n][0],r[5]=e[n][1],r}function re(t,e,n){const r=t.slice();return r[4]=e[n][0],r[5]=e[n][1],r}function ie(t,e){let n,r,i;return{key:t,first:null,c(){n=y("use"),E(n,"href",r="#min-"+e[0]+"-maskitem"),E(n,"transform",i="translate("+ht(+e[4],e[2])[0]+","+ht(+e[4],e[2])[1]+")"),E(n,"fill","#000"),this.first=n},m(t,e){g(t,n,e)},p(t,o){e=t,1&o&&r!==(r="#min-"+e[0]+"-maskitem")&&E(n,"href",r),12&o&&i!==(i="translate("+ht(+e[4],e[2])[0]+","+ht(+e[4],e[2])[1]+")")&&E(n,"transform",i)},d(t){t&&v(n)}}}function oe(t,e){let n,r,i;return{key:t,first:null,c(){n=y("rect"),E(n,"x",r=ht(+e[4],e[2])[0]),E(n,"y",i=ht(+e[4],e[2])[1]),E(n,"width","1"),E(n,"height","1"),E(n,"fill","#f0edf2"),this.first=n},m(t,e){g(t,n,e)},p(t,o){e=t,12&o&&r!==(r=ht(+e[4],e[2])[0])&&E(n,"x",r),12&o&&i!==(i=ht(+e[4],e[2])[1])&&E(n,"y",i)},d(t){t&&v(n)}}}function se(t,e){let n,r,i;return{key:t,first:null,c(){n=y("use"),E(n,"href",r="#min-"+e[0]),E(n,"transform",i="translate("+ht(+e[4],e[2])[0]+","+ht(+e[4],e[2])[1]+")"),this.first=n},m(t,e){g(t,n,e)},p(t,o){e=t,1&o&&r!==(r="#min-"+e[0])&&E(n,"href",r),12&o&&i!==(i="translate("+ht(+e[4],e[2])[0]+","+ht(+e[4],e[2])[1]+")")&&E(n,"transform",i)},d(t){t&&v(n)}}}function ae(e){let n,r,i,o,s,a,l,c,u,d,h,f,p,_,w,$,k,x,A,C,T,S=[],O=new Map,M=[],j=new Map,I=[],L=new Map,R=Object.entries(e[3]);const D=t=>t[4];for(let t=0;t<R.length;t+=1){let n=re(e,R,t),r=D(n);O.set(r,S[t]=ie(r,n))}let N=Object.entries(e[3]);const U=t=>t[4];for(let t=0;t<N.length;t+=1){let n=ne(e,N,t),r=U(n);j.set(r,M[t]=oe(r,n))}let H=Object.entries(e[3]);const P=t=>t[4];for(let t=0;t<H.length;t+=1){let n=ee(e,H,t),r=P(n);L.set(r,I[t]=se(r,n))}return{c(){n=y("path"),i=b(),o=y("path"),a=b(),l=y("mask"),c=y("rect");for(let t=0;t<S.length;t+=1)S[t].c();_=b(),w=y("rect"),x=b(),A=y("g");for(let t=0;t<M.length;t+=1)M[t].c();C=y("g");for(let t=0;t<I.length;t+=1)I[t].c();E(n,"id",r="min-"+e[0]),E(n,"d","M 0.08,0.38 L 0.12,0.50 L 0.08,0.62 M 0.38,0.08 L 0.50,0.12 L 0.62,0.08 M 0.92,0.62 L 0.88,0.50 L 0.92,0.38 M 0.62,0.92 L 0.50,0.88 L 0.38,0.92"),E(n,"fill","none"),E(n,"stroke","#000"),E(n,"stroke-width","0.025"),E(n,"stroke-miterlimit","1.5"),E(o,"id",s="min-"+e[0]+"-maskitem"),E(o,"d","M -0.5,0.5 L 0.5,-0.5 L 1.5,0.5 L 0.5,1.5 M 0,0 L 0,1 L 1,1 L 1,0"),E(o,"fill","#000"),E(c,"x","0.25"),E(c,"y","0.25"),E(c,"width",u=e[2].width-.5),E(c,"height",d=e[2].height-.5),E(c,"fill","#fff"),E(l,"id",h="min-"+e[0]+"-mask"),E(l,"maskUnits","userSpaceOnUse"),E(l,"maskContentUnits","userSpaceOnUse"),E(l,"x","0"),E(l,"y","0"),E(l,"width",f=e[2].width),E(l,"height",p=e[2].height),E(w,"width",$=e[2].width),E(w,"height",k=e[2].height),E(w,"fill","#fff"),E(C,"mask",T="url(#min-"+e[0]+"-mask)"),E(A,"id",e[0])},m(t,e){g(t,n,e),g(t,i,e),g(t,o,e),g(t,a,e),g(t,l,e),m(l,c);for(let t=0;t<S.length;t+=1)S[t].m(l,null);g(t,_,e),g(t,w,e),g(t,x,e),g(t,A,e);for(let t=0;t<M.length;t+=1)M[t].m(A,null);m(A,C);for(let t=0;t<I.length;t+=1)I[t].m(C,null)},p(t,[e]){1&e&&r!==(r="min-"+t[0])&&E(n,"id",r),1&e&&s!==(s="min-"+t[0]+"-maskitem")&&E(o,"id",s),4&e&&u!==(u=t[2].width-.5)&&E(c,"width",u),4&e&&d!==(d=t[2].height-.5)&&E(c,"height",d),13&e&&(R=Object.entries(t[3]),S=Z(S,e,D,1,t,R,O,l,X,ie,null,re)),1&e&&h!==(h="min-"+t[0]+"-mask")&&E(l,"id",h),4&e&&f!==(f=t[2].width)&&E(l,"width",f),4&e&&p!==(p=t[2].height)&&E(l,"height",p),4&e&&$!==($=t[2].width)&&E(w,"width",$),4&e&&k!==(k=t[2].height)&&E(w,"height",k),12&e&&(N=Object.entries(t[3]),M=Z(M,e,U,1,t,N,j,A,X,oe,C,ne)),13&e&&(H=Object.entries(t[3]),I=Z(I,e,P,1,t,H,L,C,X,se,null,ee)),1&e&&T!==(T="url(#min-"+t[0]+"-mask)")&&E(C,"mask",T),1&e&&E(A,"id",t[0])},i:t,o:t,d(t){t&&v(n),t&&v(i),t&&v(o),t&&v(a),t&&v(l);for(let t=0;t<S.length;t+=1)S[t].d();t&&v(_),t&&v(w),t&&v(x),t&&v(A);for(let t=0;t<M.length;t+=1)M[t].d();for(let t=0;t<I.length;t+=1)I[t].d()}}}function le(e,n,r){let i,o=t,a=()=>(o(),o=s(c,(t=>r(3,i=t))),c);e.$$.on_destroy.push((()=>o()));let{id:l}=n,{ref:c}=n;a();let{grid:u}=n;return e.$$set=t=>{"id"in t&&r(0,l=t.id),"ref"in t&&a(r(1,c=t.ref)),"grid"in t&&r(2,u=t.grid)},[l,c,u,i]}function ce(t,e,n){const r=t.slice();return r[4]=e[n][0],r[5]=e[n][1],r}function ue(t,e){let n,r,i,o,s,a,l,c,u,d,h,f,p,_;return{key:t,first:null,c(){n=y("mask"),r=y("rect"),s=y("path"),c=y("path"),h=y("path"),E(r,"width",i=e[2].width),E(r,"height",o=e[2].height),E(r,"fill","#fff"),E(s,"d",a=yt(e[5].head,e[2])),E(s,"fill","none"),E(s,"stroke","#000"),E(s,"stroke-width","0.75"),E(s,"stroke-linejoin","round"),E(s,"stroke-linecap","round"),E(n,"id",l="arrow-"+e[0]+"-mask-"+e[4]),E(n,"maskUnits","userSpaceOnUse"),E(c,"d",u=yt(e[5].head,e[2])),E(c,"fill","none"),E(c,"stroke","#000"),E(c,"stroke-width","0.8"),E(c,"mask",d="url(#arrow-"+e[0]+"-mask-"+e[4]+")"),E(c,"stroke-linejoin","round"),E(c,"stroke-linecap","round"),E(h,"d",f=yt(e[5].body,e[2],.15)),E(h,"fill","none"),E(h,"stroke","#000"),E(h,"stroke-width","0.025"),E(h,"mask",p="url(#arrow-"+e[0]+"-mask-"+e[4]+")"),E(h,"stroke-miterlimit","1.5"),E(h,"marker-end",_="url(#arrow-head-"+e[0]+")"),this.first=n},m(t,e){g(t,n,e),m(n,r),m(n,s),g(t,c,e),g(t,h,e)},p(t,m){e=t,4&m&&i!==(i=e[2].width)&&E(r,"width",i),4&m&&o!==(o=e[2].height)&&E(r,"height",o),12&m&&a!==(a=yt(e[5].head,e[2]))&&E(s,"d",a),9&m&&l!==(l="arrow-"+e[0]+"-mask-"+e[4])&&E(n,"id",l),12&m&&u!==(u=yt(e[5].head,e[2]))&&E(c,"d",u),9&m&&d!==(d="url(#arrow-"+e[0]+"-mask-"+e[4]+")")&&E(c,"mask",d),12&m&&f!==(f=yt(e[5].body,e[2],.15))&&E(h,"d",f),9&m&&p!==(p="url(#arrow-"+e[0]+"-mask-"+e[4]+")")&&E(h,"mask",p),1&m&&_!==(_="url(#arrow-head-"+e[0]+")")&&E(h,"marker-end",_)},d(t){t&&v(n),t&&v(c),t&&v(h)}}}function de(e){let n,r,i,o,s,a=[],l=new Map,c=Object.entries(e[3]);const u=t=>t[4];for(let t=0;t<c.length;t+=1){let n=ce(e,c,t),r=u(n);l.set(r,a[t]=ue(r,n))}return{c(){n=y("marker"),r=y("path"),o=b(),s=y("g");for(let t=0;t<a.length;t+=1)a[t].c();E(r,"d","M 0.4,0.425 L 0.5,0.5 L 0.4,0.575"),E(r,"fill","none"),E(r,"stroke","#000"),E(r,"stroke-width","0.025"),E(n,"id",i="arrow-head-"+e[0]),E(n,"viewBox","0 0 1 1"),E(n,"refX","0.5"),E(n,"refY","0.5"),E(n,"markerUnits","userSpaceOnUse"),E(n,"markerWidth","1"),E(n,"markerHeight","1"),E(n,"orient","auto"),E(s,"id",e[0])},m(t,e){g(t,n,e),m(n,r),g(t,o,e),g(t,s,e);for(let t=0;t<a.length;t+=1)a[t].m(s,null)},p(t,[e]){1&e&&i!==(i="arrow-head-"+t[0])&&E(n,"id",i),13&e&&(c=Object.entries(t[3]),a=Z(a,e,u,1,t,c,l,s,X,ue,null,ce)),1&e&&E(s,"id",t[0])},i:t,o:t,d(t){t&&v(n),t&&v(o),t&&v(s);for(let t=0;t<a.length;t+=1)a[t].d()}}}function he(e,n,r){let i,o=t,a=()=>(o(),o=s(c,(t=>r(3,i=t))),c);e.$$.on_destroy.push((()=>o()));let{id:l}=n,{ref:c}=n;a();let{grid:u}=n;return e.$$set=t=>{"id"in t&&r(0,l=t.id),"ref"in t&&a(r(1,c=t.ref)),"grid"in t&&r(2,u=t.grid)},[l,c,u,i]}function fe(t,e,n){const r=t.slice();return r[4]=e[n][0],r[5]=e[n][1],r}function pe(t,e){let n,r,i;return{key:t,first:null,c(){n=y("path"),E(n,"d",r=yt(e[5],e[2],.25)),E(n,"fill","none"),E(n,"stroke","#ddd"),E(n,"stroke-width","0.2"),E(n,"marker-start",i="url(#thermo-bulb-"+e[0]+")"),E(n,"stroke-linejoin","round"),E(n,"stroke-linecap","round"),this.first=n},m(t,e){g(t,n,e)},p(t,o){e=t,12&o&&r!==(r=yt(e[5],e[2],.25))&&E(n,"d",r),1&o&&i!==(i="url(#thermo-bulb-"+e[0]+")")&&E(n,"marker-start",i)},d(t){t&&v(n)}}}function me(e){let n,r,i,o,s,a=[],l=new Map,c=Object.entries(e[3]||{});const u=t=>t[4];for(let t=0;t<c.length;t+=1){let n=fe(e,c,t),r=u(n);l.set(r,a[t]=pe(r,n))}return{c(){n=y("marker"),r=y("circle"),o=b(),s=y("g");for(let t=0;t<a.length;t+=1)a[t].c();E(r,"cx","0.5"),E(r,"cy","0.5"),E(r,"r","0.4"),E(r,"fill","#ddd"),E(n,"id",i="thermo-bulb-"+e[0]),E(n,"viewBox","0 0 1 1"),E(n,"refX","0.5"),E(n,"refY","0.5"),E(n,"markerUnits","userSpaceOnUse"),E(n,"markerWidth","1"),E(n,"markerHeight","1"),E(n,"orient","auto"),E(s,"id",e[0])},m(t,e){g(t,n,e),m(n,r),g(t,o,e),g(t,s,e);for(let t=0;t<a.length;t+=1)a[t].m(s,null)},p(t,[e]){1&e&&i!==(i="thermo-bulb-"+t[0])&&E(n,"id",i),13&e&&(c=Object.entries(t[3]||{}),a=Z(a,e,u,1,t,c,l,s,X,pe,null,fe)),1&e&&E(s,"id",t[0])},i:t,o:t,d(t){t&&v(n),t&&v(o),t&&v(s);for(let t=0;t<a.length;t+=1)a[t].d()}}}function ge(e,n,r){let i,o=t,a=()=>(o(),o=s(c,(t=>r(3,i=t))),c);e.$$.on_destroy.push((()=>o()));let{id:l}=n,{ref:c}=n;a();let{grid:u}=n;return e.$$set=t=>{"id"in t&&r(0,l=t.id),"ref"in t&&a(r(1,c=t.ref)),"grid"in t&&r(2,u=t.grid)},[l,c,u,i]}function ve(t,e,n){const r=t.slice();return r[5]=e[n][0],r[6]=e[n][1],r}function _e(t,e){let n,r,i,o,s=e[6]+"";return{key:t,first:null,c(){n=y("text"),r=w(s),E(n,"x",i=ht(+e[5],e[2])[0]+.5),E(n,"y",o=ht(+e[5],e[2])[1]+.5),E(n,"fill",e[3]),E(n,"text-anchor","middle"),E(n,"dominant-baseline","central"),E(n,"font-size","0.6"),E(n,"font-weight","700"),this.first=n},m(t,e){g(t,n,e),m(n,r)},p(t,a){e=t,16&a&&s!==(s=e[6]+"")&&C(r,s),20&a&&i!==(i=ht(+e[5],e[2])[0]+.5)&&E(n,"x",i),20&a&&o!==(o=ht(+e[5],e[2])[1]+.5)&&E(n,"y",o),8&a&&E(n,"fill",e[3])},d(t){t&&v(n)}}}function ye(e){let n,r=[],i=new Map,o=Object.entries(e[4]||{});const s=t=>t[5];for(let t=0;t<o.length;t+=1){let n=ve(e,o,t),a=s(n);i.set(a,r[t]=_e(a,n))}return{c(){n=y("g");for(let t=0;t<r.length;t+=1)r[t].c();E(n,"id",e[0])},m(t,e){g(t,n,e);for(let t=0;t<r.length;t+=1)r[t].m(n,null)},p(t,[e]){28&e&&(o=Object.entries(t[4]||{}),r=Z(r,e,s,1,t,o,i,n,X,_e,null,ve)),1&e&&E(n,"id",t[0])},i:t,o:t,d(t){t&&v(n);for(let t=0;t<r.length;t+=1)r[t].d()}}}function we(e,n,r){let i,o=t,a=()=>(o(),o=s(c,(t=>r(4,i=t))),c);e.$$.on_destroy.push((()=>o()));let{id:l}=n,{ref:c}=n;a();let{grid:u}=n,{color:d="#000"}=n;return e.$$set=t=>{"id"in t&&r(0,l=t.id),"ref"in t&&a(r(1,c=t.ref)),"grid"in t&&r(2,u=t.grid),"color"in t&&r(3,d=t.color)},[l,c,u,d,i]}class be extends rt{constructor(t){super(),nt(this,t,we,ye,o,{id:0,ref:1,grid:2,color:3})}}function $e(e){let n,r,i,o,s,a,l,c,u,d,h,f;return{c(){n=y("pattern"),r=y("rect"),c=b(),u=y("rect"),E(r,"width",i=e[3].width),E(r,"height",o=e[3].height),E(r,"stroke","#000"),E(r,"fill","none"),E(r,"stroke-width",ut),E(n,"id",s="box-"+e[0]),E(n,"width",a=e[3].width),E(n,"height",l=e[3].height),E(n,"patternUnits","userSpaceOnUse"),E(u,"id",e[0]),E(u,"x",-.02),E(u,"y",-.02),E(u,"width",d=e[2].width+ut),E(u,"height",h=e[2].height+ut),E(u,"fill",f="url(#box-"+e[0]+")"),E(u,"stroke","none")},m(t,e){g(t,n,e),m(n,r),g(t,c,e),g(t,u,e)},p(t,[e]){8&e&&i!==(i=t[3].width)&&E(r,"width",i),8&e&&o!==(o=t[3].height)&&E(r,"height",o),1&e&&s!==(s="box-"+t[0])&&E(n,"id",s),8&e&&a!==(a=t[3].width)&&E(n,"width",a),8&e&&l!==(l=t[3].height)&&E(n,"height",l),1&e&&E(u,"id",t[0]),4&e&&d!==(d=t[2].width+ut)&&E(u,"width",d),4&e&&h!==(h=t[2].height+ut)&&E(u,"height",h),1&e&&f!==(f="url(#box-"+t[0]+")")&&E(u,"fill",f)},i:t,o:t,d(t){t&&v(n),t&&v(c),t&&v(u)}}}function ke(e,n,r){let i,o=t,a=()=>(o(),o=s(c,(t=>r(3,i=t))),c);e.$$.on_destroy.push((()=>o()));let{id:l}=n,{ref:c}=n;a();let{grid:u}=n;return e.$$set=t=>{"id"in t&&r(0,l=t.id),"ref"in t&&a(r(1,c=t.ref)),"grid"in t&&r(2,u=t.grid)},[l,c,u,i]}function xe(e){let n,r,i,o,s,a,l,c;return{c(){n=y("pattern"),r=y("rect"),o=b(),s=y("rect"),E(r,"width","1"),E(r,"height","1"),E(r,"stroke","#000"),E(r,"fill","none"),E(r,"stroke-width",lt),E(n,"id",i="grid-"+e[0]),E(n,"width","1"),E(n,"height","1"),E(n,"patternUnits","userSpaceOnUse"),E(s,"id",e[0]),E(s,"x",-.005),E(s,"y",-.005),E(s,"width",a=e[2].width+ct),E(s,"height",l=e[2].height+ct),E(s,"fill",c="url(#grid-"+e[0]+")"),E(s,"stroke","none")},m(t,e){g(t,n,e),m(n,r),g(t,o,e),g(t,s,e)},p(t,[e]){1&e&&i!==(i="grid-"+t[0])&&E(n,"id",i),1&e&&E(s,"id",t[0]),4&e&&a!==(a=t[2].width+ct)&&E(s,"width",a),4&e&&l!==(l=t[2].height+ct)&&E(s,"height",l),1&e&&c!==(c="url(#grid-"+t[0]+")")&&E(s,"fill",c)},i:t,o:t,d(t){t&&v(n),t&&v(o),t&&v(s)}}}function Ae(e,n,r){let i=t,o=()=>(i(),i=s(l,(t=>r(3,t))),l);e.$$.on_destroy.push((()=>i()));let{id:a}=n,{ref:l}=n;o();let{grid:c}=n;return e.$$set=t=>{"id"in t&&r(0,a=t.id),"ref"in t&&o(r(1,l=t.ref)),"grid"in t&&r(2,c=t.grid)},[a,l,c]}function Ee(t,e,n){const r=t.slice();return r[9]=e[n].id,r}function Ce(t,e,n){const r=t.slice();return r[9]=e[n].id,r[12]=e[n].ref,r[13]=e[n].element,r}function Te(t,e){let n,r,i,o;var s=e[13];function a(t){return{props:{id:t[9],ref:t[12],grid:t[3]}}}return s&&(r=new s(a(e))),{key:t,first:null,c(){n=$(),r&&J(r.$$.fragment),i=$(),this.first=n},m(t,e){g(t,n,e),r&&Q(r,t,e),g(t,i,e),o=!0},p(t,n){e=t;const o={};if(2&n&&(o.id=e[9]),2&n&&(o.ref=e[12]),8&n&&(o.grid=e[3]),s!==(s=e[13])){if(r){V();const t=r;W(t.$$.fragment,1,0,(()=>{tt(t,1)})),z()}s?(r=new s(a(e)),J(r.$$.fragment),Y(r.$$.fragment,1),Q(r,i.parentNode,i)):r=null}else s&&r.$set(o)},i(t){o||(r&&Y(r.$$.fragment,t),o=!0)},o(t){r&&W(r.$$.fragment,t),o=!1},d(t){t&&v(n),t&&v(i),r&&tt(r,t)}}}function Se(t,e){let n,r;return{key:t,first:null,c(){n=y("use"),E(n,"href",r="#"+e[9]),this.first=n},m(t,e){g(t,n,e)},p(t,i){e=t,2&i&&r!==(r="#"+e[9])&&E(n,"href",r)},d(t){t&&v(n)}}}function Oe(t){let e,n,r,i,o,s,a=[],l=new Map,c=[],u=new Map,d=t[1];const h=t=>t[9];for(let e=0;e<d.length;e+=1){let n=Ce(t,d,e),r=h(n);l.set(r,a[e]=Te(r,n))}let f=t[1];const p=t=>t[9];for(let e=0;e<f.length;e+=1){let n=Ee(t,f,e),r=p(n);u.set(r,c[e]=Se(r,n))}return{c(){e=y("svg"),n=y("style"),r=w("svg {\n            -webkit-tap-highlight-color: transparent;\n            touch-action: none;\n        }\n        text {\n            -webkit-user-select: none;\n            -moz-user-select: none;\n            -ms-user-select: none;\n            user-select: none;\n        }\n        text::selection {\n            background: none;\n        }\n        svg * {\n            pointer-events: none;\n        }\n        .hide {\n            display: none;\n        }\n    "),i=y("defs");for(let t=0;t<a.length;t+=1)a[t].c();for(let t=0;t<c.length;t+=1)c[t].c();E(e,"viewBox",o=t[2].x+" "+t[2].y+" "+t[2].width+" "+t[2].height),E(e,"xmlns","http://www.w3.org/2000/svg")},m(o,l){g(o,e,l),m(e,n),m(n,r),m(e,i);for(let t=0;t<a.length;t+=1)a[t].m(i,null);for(let t=0;t<c.length;t+=1)c[t].m(e,null);t[8](e),s=!0},p(t,[n]){10&n&&(d=t[1],V(),a=Z(a,n,h,1,t,d,l,i,K,Te,null,Ce),z()),2&n&&(f=t[1],c=Z(c,n,p,1,t,f,u,e,X,Se,null,Ee)),(!s||4&n&&o!==(o=t[2].x+" "+t[2].y+" "+t[2].width+" "+t[2].height))&&E(e,"viewBox",o)},i(t){if(!s){for(let t=0;t<d.length;t+=1)Y(a[t]);s=!0}},o(t){for(let t=0;t<a.length;t+=1)W(a[t]);s=!1},d(n){n&&v(e);for(let t=0;t<a.length;t+=1)a[t].d();for(let t=0;t<c.length;t+=1)c[t].d();t[8](null)}}}const Me={grid:class extends rt{constructor(t){super(),nt(this,t,Ae,xe,o,{id:0,ref:1,grid:2})}},box:class extends rt{constructor(t){super(),nt(this,t,ke,$e,o,{id:0,ref:1,grid:2})}},given:be,filled:function(t){return t.props.color="#4e72b0",new be(t)},thermo:class extends rt{constructor(t){super(),nt(this,t,ge,me,o,{id:0,ref:1,grid:2})}},arrow:class extends rt{constructor(t){super(),nt(this,t,he,de,o,{id:0,ref:1,grid:2})}},sandwich:null,min:class extends rt{constructor(t){super(),nt(this,t,le,ae,o,{id:0,ref:1,grid:2})}},max:class extends rt{constructor(t){super(),nt(this,t,te,Qt,o,{id:0,ref:1,grid:2})}},killer:class extends rt{constructor(t){super(),nt(this,t,zt,qt,o,{id:0,ref:1,grid:2})}},quadruple:class extends rt{constructor(t){super(),nt(this,t,Nt,Lt,o,{id:0,ref:1,grid:4})}},diagonal:class extends rt{constructor(t){super(),nt(this,t,St,Tt,o,{id:0,ref:6,grid:1})}},knight:null,king:null,disjointGroups:null,consecutive:null,select:Ct};function je(t,e,n){let r,i,{userState:o}=e,{boardState:s}=e,{svg:l=null}=e;const c=s.ref("grid");a(t,c,(t=>n(3,i=t)));const u=at(c,(t=>({x:-.005,y:-.005,width:t.width+lt,height:t.height+lt})));a(t,u,(t=>n(2,r=t)));const d=[{id:"select",order:9.5,ref:o.ref("select"),element:Ct}];return s.ref("elements/*").watch((([t,e],r,i)=>{let o=-1;if(null!=r&&(o=d.findIndex((({id:t})=>e===t)),0>o))console.error(`Failed to find renderer for constraint with id ${e}.`);else{if(null==i)delete d[o];else{const a=Me[i.type];if(null==a)return void console.warn(`Cannot render unknown constraint type: ${i.type}.`);const l={id:e,order:i.order,ref:s.ref(t,e,"value"),element:a};null==r?d.push(l):(r.type!==i.type&&console.error("Cannot change type of constraint!"),n(1,d[o]=l,d))}d.sort(((t,e)=>t.order-e.order))}}),!0),t.$$set=t=>{"userState"in t&&n(6,o=t.userState),"boardState"in t&&n(7,s=t.boardState),"svg"in t&&n(0,l=t.svg)},[l,d,r,i,c,u,o,s,function(t){I[t?"unshift":"push"]((()=>{l=t,n(0,l)}))}]}class Ie extends rt{constructor(t){super(),nt(this,t,je,Oe,o,{userState:6,boardState:7,svg:0})}}function Le(t,e,n){var r,i,o,s,a;function l(){var c=Date.now()-s;c<e&&c>=0?r=setTimeout(l,e-c):(r=null,n||(a=t.apply(o,i),o=i=null))}null==e&&(e=100);var c=function(){o=this,i=arguments,s=Date.now();var c=n&&!r;return r||(r=setTimeout(l,e)),c&&(a=t.apply(o,i),o=i=null),a};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(a=t.apply(o,i),o=i=null,clearTimeout(r),r=null)},c}Le.debounce=Le;var Re=Le;function De(t){var e={exports:{}};return t(e,e.exports),e.exports}var Ne=De((function(t){var e=function(){var t=String.fromCharCode,e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",r={};function i(t,e){if(!r[t]){r[t]={};for(var n=0;n<t.length;n++)r[t][t.charAt(n)]=n}return r[t][e]}var o={compressToBase64:function(t){if(null==t)return"";var n=o._compress(t,6,(function(t){return e.charAt(t)}));switch(n.length%4){default:case 0:return n;case 1:return n+"===";case 2:return n+"==";case 3:return n+"="}},decompressFromBase64:function(t){return null==t?"":""==t?null:o._decompress(t.length,32,(function(n){return i(e,t.charAt(n))}))},compressToUTF16:function(e){return null==e?"":o._compress(e,15,(function(e){return t(e+32)}))+" "},decompressFromUTF16:function(t){return null==t?"":""==t?null:o._decompress(t.length,16384,(function(e){return t.charCodeAt(e)-32}))},compressToUint8Array:function(t){for(var e=o.compress(t),n=new Uint8Array(2*e.length),r=0,i=e.length;r<i;r++){var s=e.charCodeAt(r);n[2*r]=s>>>8,n[2*r+1]=s%256}return n},decompressFromUint8Array:function(e){if(null==e)return o.decompress(e);for(var n=new Array(e.length/2),r=0,i=n.length;r<i;r++)n[r]=256*e[2*r]+e[2*r+1];var s=[];return n.forEach((function(e){s.push(t(e))})),o.decompress(s.join(""))},compressToEncodedURIComponent:function(t){return null==t?"":o._compress(t,6,(function(t){return n.charAt(t)}))},decompressFromEncodedURIComponent:function(t){return null==t?"":""==t?null:(t=t.replace(/ /g,"+"),o._decompress(t.length,32,(function(e){return i(n,t.charAt(e))})))},compress:function(e){return o._compress(e,16,(function(e){return t(e)}))},_compress:function(t,e,n){if(null==t)return"";var r,i,o,s={},a={},l="",c="",u="",d=2,h=3,f=2,p=[],m=0,g=0;for(o=0;o<t.length;o+=1)if(l=t.charAt(o),Object.prototype.hasOwnProperty.call(s,l)||(s[l]=h++,a[l]=!0),c=u+l,Object.prototype.hasOwnProperty.call(s,c))u=c;else{if(Object.prototype.hasOwnProperty.call(a,u)){if(u.charCodeAt(0)<256){for(r=0;r<f;r++)m<<=1,g==e-1?(g=0,p.push(n(m)),m=0):g++;for(i=u.charCodeAt(0),r=0;r<8;r++)m=m<<1|1&i,g==e-1?(g=0,p.push(n(m)),m=0):g++,i>>=1}else{for(i=1,r=0;r<f;r++)m=m<<1|i,g==e-1?(g=0,p.push(n(m)),m=0):g++,i=0;for(i=u.charCodeAt(0),r=0;r<16;r++)m=m<<1|1&i,g==e-1?(g=0,p.push(n(m)),m=0):g++,i>>=1}0==--d&&(d=Math.pow(2,f),f++),delete a[u]}else for(i=s[u],r=0;r<f;r++)m=m<<1|1&i,g==e-1?(g=0,p.push(n(m)),m=0):g++,i>>=1;0==--d&&(d=Math.pow(2,f),f++),s[c]=h++,u=String(l)}if(""!==u){if(Object.prototype.hasOwnProperty.call(a,u)){if(u.charCodeAt(0)<256){for(r=0;r<f;r++)m<<=1,g==e-1?(g=0,p.push(n(m)),m=0):g++;for(i=u.charCodeAt(0),r=0;r<8;r++)m=m<<1|1&i,g==e-1?(g=0,p.push(n(m)),m=0):g++,i>>=1}else{for(i=1,r=0;r<f;r++)m=m<<1|i,g==e-1?(g=0,p.push(n(m)),m=0):g++,i=0;for(i=u.charCodeAt(0),r=0;r<16;r++)m=m<<1|1&i,g==e-1?(g=0,p.push(n(m)),m=0):g++,i>>=1}0==--d&&(d=Math.pow(2,f),f++),delete a[u]}else for(i=s[u],r=0;r<f;r++)m=m<<1|1&i,g==e-1?(g=0,p.push(n(m)),m=0):g++,i>>=1;0==--d&&(d=Math.pow(2,f),f++)}for(i=2,r=0;r<f;r++)m=m<<1|1&i,g==e-1?(g=0,p.push(n(m)),m=0):g++,i>>=1;for(;;){if(m<<=1,g==e-1){p.push(n(m));break}g++}return p.join("")},decompress:function(t){return null==t?"":""==t?null:o._decompress(t.length,32768,(function(e){return t.charCodeAt(e)}))},_decompress:function(e,n,r){var i,o,s,a,l,c,u,d=[],h=4,f=4,p=3,m="",g=[],v={val:r(0),position:n,index:1};for(i=0;i<3;i+=1)d[i]=i;for(s=0,l=Math.pow(2,2),c=1;c!=l;)a=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),s|=(a>0?1:0)*c,c<<=1;switch(s){case 0:for(s=0,l=Math.pow(2,8),c=1;c!=l;)a=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),s|=(a>0?1:0)*c,c<<=1;u=t(s);break;case 1:for(s=0,l=Math.pow(2,16),c=1;c!=l;)a=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),s|=(a>0?1:0)*c,c<<=1;u=t(s);break;case 2:return""}for(d[3]=u,o=u,g.push(u);;){if(v.index>e)return"";for(s=0,l=Math.pow(2,p),c=1;c!=l;)a=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),s|=(a>0?1:0)*c,c<<=1;switch(u=s){case 0:for(s=0,l=Math.pow(2,8),c=1;c!=l;)a=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),s|=(a>0?1:0)*c,c<<=1;d[f++]=t(s),u=f-1,h--;break;case 1:for(s=0,l=Math.pow(2,16),c=1;c!=l;)a=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),s|=(a>0?1:0)*c,c<<=1;d[f++]=t(s),u=f-1,h--;break;case 2:return g.join("")}if(0==h&&(h=Math.pow(2,p),p++),d[u])m=d[u];else{if(u!==f)return null;m=o+o.charAt(0)}g.push(m),d[f++]=o+m.charAt(0),o=m,0==--h&&(h=Math.pow(2,p),p++)}}};return o}();null!=t&&(t.exports=e)})),Ue=De((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.StateManager=e.StateRef=void 0;const n="function"==typeof Object.fromEntries?Object.fromEntries:t=>{const e=Object.create(null);for(const[n,r]of t)e[n]=r;return e},r=Symbol("watchers key");function i(t,e){return null==t&&null==e||Object.is(t,e)}function o(t){return null==t?null:t}class s{constructor(t,e){this._path=[],this._stateManager=t;for(const t of e)".."===t?this._path.pop():"."===t||this._path.push(t)}ref(...t){return new s(this._stateManager,[...this._path,...t])}get(){return this._stateManager.get(...this._path)}watch(t,e){return this._stateManager.watch(t,e,this._path.join("/")),t}unwatch(t){this._stateManager.unwatch(t)}replace(t){return this._stateManager.update({[this._path.join("/")]:t})}update(t){const e=this._path.join("/")+"/",r=n(Object.entries(t).map((([t,n])=>[e+t,n])));return this._stateManager.update(r)}subscribe(t){const e=this.watch(((e,n,r)=>t(r)),!0);return()=>this.unwatch(e)}set(t){this.replace(t)}}e.StateRef=s;class a{constructor(){this._data=null,this._watchers=new Map,this._watcherTreeRoot=Object.create(null)}ref(...t){return new s(this,t)}get(...t){let e=this._data;for(const n of t){if(null==e)break;if(n.includes("/"))throw Error('Path cannot contain "/", split into varargs.');e=e[n]}return o(e)}watch(t,e,...n){let r=this._watchers.get(t);null==r&&(r=new Set,this._watchers.set(t,r));for(const r of n)this._watchPattern(t,e,r);return t}unwatch(t){if(!this._watchers.has(t))throw Error("Cannot find watcher.");const e=this._watchers.get(t);this._watchers.delete(t);for(const n of e)if(!a._unwatchPattern(t,this._watcherTreeRoot,n.split("/")))throw Error(`Failed to remove watcher from pattern: ${n}.`)}update(t){if("object"!=typeof t)throw Error(`Invalid update object: ${t}`);let e=!1;const r=[],o=[];for(const[n,s]of Object.entries(t)){if(0>=n.length)throw Error("Update key cannot be empty.");const t=n.split("/"),{data:l,redo:c,undo:u}=a._updateInternal(this._data,s,t,[],[this._watcherTreeRoot]);i(this._data,l)||(e=!0,this._data=l,r.push(...c),o.push(...u))}return e?{redo:n(r),undo:n(o)}:null}_watchPattern(t,e,n){if(!n||0>=n.length)throw Error(`Pattern cannot be empty: ${n}.`);const i=n.split("/");let o=this._watcherTreeRoot;for(const t of i)"."!==t&&(Object.prototype.hasOwnProperty.call(o,t)||(o[t]=Object.create(null)),o=o[t]);(o[r]||(o[r]=new Set)).add(t),e&&a._triggerNow(this._data,i,[],t)}static _unwatchPattern(t,e,n){if(0===n.length){const n=e[r];return null!=n&&(!!n.delete(t)&&(0>=n.size&&delete e[r],!0))}const[i,...o]=n;return!("."===i&&!this._unwatchPattern(t,e,o))&&(!!Object.prototype.hasOwnProperty.call(e,i)&&(!!this._unwatchPattern(t,e[i],o)&&(0>=Object.keys(e[i]).length&&null==e[r]&&delete e[i],!0)))}static _triggerNow(t,e,n,r){if(null==t)return;if(0>=e.length){try{r(n,null,t)}catch(t){console.error("Watcher threw:",t,r)}return}if("object"!=typeof t)return;const[i,...o]=e;if("."===i)this._triggerNow(t,o,n,r);else if("*"===i)for(const[e,i]of Object.entries(t))this._triggerNow(i,o,[...n,e],r);else Object.prototype.hasOwnProperty.call(t,i)&&this._triggerNow(t[i],o,[...n,i],r)}static _updateInternal(t,e,n,s,l){const c=0>=n.length,u="object"==typeof t?t:null,d="object"==typeof e?e:null,{data:h,redo:f,undo:p}=(()=>{if(c){if(null==u&&null==d)return{data:e,undo:[],redo:[]};const n=new Set([...Object.keys(u||{}),...Object.keys(d||{})]);let r=!1;const c=Object.create(null),h=[],f=[];for(const t of n){const e=u?o(u[t]):null,n=d?o(d[t]):null,p=a._nextWatcherTrees(t,l),{data:m,redo:g,undo:v}=a._updateInternal(e,n,[],[...s,t],p);i(e,m)||(r=!0,h.push(...g),f.push(...v),c[t]=m)}if(!r)return{data:t,redo:h,undo:f};const p=Object.assign(Object.create(null),u);for(const[t,e]of Object.entries(c))null==e?delete p[t]:p[t]=e;return 0===Object.keys(p).length?{data:null,redo:h,undo:f}:{data:p,redo:h,undo:f}}const[r,...h]=n,f=u?o(u[r]):null,p=a._nextWatcherTrees(r,l),{data:m,redo:g,undo:v}=a._updateInternal(f,e,h,[...s,r],p);if(i(f,m))return{data:t,redo:g,undo:v};const _=Object.assign(Object.create(null),u);return null==m?delete _[r]:_[r]=m,Object.values(_).every((t=>null==t))?{data:null,redo:g,undo:v}:{data:_,redo:g,undo:v}})();if(!i(t,h)){if(null==t){if(null==h)throw"N/A";"object"==typeof h||(f.length=0,f.push([s.join("/"),h]),p.length=0,p.push([s.join("/"),null]))}else"object"==typeof t?null==h||"object"==typeof h||(f.length=0,f.push([s.join("/"),h])):null==h?(f.length=0,f.push([s.join("/"),null]),p.length=0,p.push([s.join("/"),t])):"object"==typeof h?(p.length=0,p.push([s.join("/"),t])):(f.length=0,f.push([s.join("/"),null]),p.length=0,p.push([s.join("/"),t]));for(const e of l)for(const n of e[r]||[])try{n(s,t,h)}catch(t){console.error("Watcher threw:",t,n)}return{data:h,undo:p,redo:f}}return{data:t,undo:p,redo:f}}static _nextWatcherTrees(t,e){const n=[];for(const r of e)r["*"]&&n.push(r["*"]),r[t]&&n.push(r[t]);return n}}e.StateManager=a}));class He extends EventTarget{constructor(t){super(),this._prevPos=null,this._prevCell=null,this._isDown=!1,this._isTap=!1,this._interpolateOnReender=t}down(t,e,n){this._dispatch("dragStart",{event:t}),this._isDown=!0,this._isTap=!0}move(t,e,n){this._isDown&&this._handle(t,e,n)}up(t,e,n){this._isDown&&(this._dispatch("dragEnd",{event:t}),this._prevPos=null,this._prevCell=null,this._isDown=!1)}leave(t,e,n){this._isDown&&this._handle(t,e,n)}click(t,e,n){if(this._isTap){const r=gt(wt(t,n),e,!1);null!=r&&this._dispatch("tap",{event:t,coord:r,grid:e,svg:n})}}_dispatch(t,e){this.dispatchEvent(new CustomEvent(t,{detail:e}))}_handle(t,e,n){const r=wt(t,n);if(null!=this._prevPos&&1<function(t,e){const n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r}(this._prevPos,r)){for(const i of function(t,e,n){const r=Math.floor(e[0])-Math.floor(t[0]),i=Math.floor(e[1])-Math.floor(t[1]),o=Math.max(Math.abs(r),Math.abs(i)),s=[];for(let r=1;r<=o;r++){const i=r/o,a=(1-i)*t[0]+i*e[0],l=(1-i)*t[1]+i*e[1];0<=a&&a<n.width&&0<=l&&l<n.height&&s.push([Math.floor(a),Math.floor(l)])}return s}(this._prevPos,r,e))this._dispatch("drag",{event:t,coord:i,grid:e,svg:n}),this._prevCell=ft(i,e);this._prevPos=this._interpolateOnReender||$t(r,e)?r:null,this._isTap=!1}else{const i=gt(r,e,!(null==this._prevPos));null!=i?(this._prevCell!==ft(i,e)&&(null!=this._prevCell&&(this._isTap=!1),this._dispatch("drag",{event:t,coord:i,grid:e,svg:n}),this._prevCell=ft(i,e)),this._prevPos=r):this._interpolateOnReender||$t(r,e)||(this._prevCell=null,this._prevPos=null,this._isTap=!1)}}}const Pe=window.userState=new Ue.StateManager;Pe.update({select:{},tool:"120",marks:{filled:"120",corner:"130",center:"140"}});const Fe=Pe.ref("select"),qe=Pe.ref("tool"),Ge="tool";class Be{constructor(t){this.isGlobal=!0,this.MenuComponent=null,this.pointerHandler=new He(!1),this._bindPointerhandler()}getViewBox(t){return null}getConflicts(t){return[]}_bindPointerhandler(){let t;!function(t){t[t.RESETTING=0]="RESETTING",t[t.DYNAMIC=1]="DYNAMIC",t[t.SELECTING=2]="SELECTING",t[t.DESELCTING=3]="DESELCTING"}(t||(t={}));let e=t.RESETTING;function n(n,r){const{coord:i,grid:o}=n.detail,s=ft(i,o);if(t.RESETTING===e){const n=r&&Fe.get()||{};return r&&1===Object.keys(n).length&&n[`${s}`]?Fe.replace({}):Fe.replace({[`${s}`]:!0}),void(e=t.SELECTING)}t.DYNAMIC===e&&(e=Fe.ref(`${s}`).get()?t.DESELCTING:t.SELECTING),Fe.ref(`${s}`).replace(t.SELECTING===e||null)}this.pointerHandler.addEventListener("dragStart",(n=>{var r;r=n.detail.event,e=r.shiftKey?t.SELECTING:r.ctrlKey||r.metaKey?t.DYNAMIC:r.altKey?t.DESELCTING:t.RESETTING})),this.pointerHandler.addEventListener("drag",(t=>{n(t,!1)})),this.pointerHandler.addEventListener("tap",(t=>{n(t,!0)}))}}function Ve(t){let e,n,r,i;return{c(){e=_("input"),E(e,"class","radio-select-button svelte-1xnmwrx"),E(e,"type","radio"),E(e,"id",n="local-radio-"+ ++Xe),e.__value=t[0],e.value=e.__value,E(e,"name",Ge),t[10][0].push(e)},m(n,o){g(n,e,o),e.checked=e.__value===t[6],r||(i=k(e,"change",t[9]),r=!0)},p(t,n){1&n&&(e.__value=t[0],e.value=e.__value),64&n&&(e.checked=e.__value===t[6])},d(n){n&&v(e),t[10][0].splice(t[10][0].indexOf(e),1),r=!1,i()}}}function ze(t){let e,n;return{c(){e=_("span"),n=w(t[1]),E(e,"class","name svelte-1xnmwrx"),S(e,"unused",t[2])},m(t,r){g(t,e,r),m(e,n)},p(t,r){2&r&&C(n,t[1]),4&r&&S(e,"unused",t[2])},d(t){t&&v(e)}}}function Ye(t){let e,n;return{c(){e=_("label"),n=w(t[1]),E(e,"class","name clickable svelte-1xnmwrx"),E(e,"for","local-radio-"+Xe),S(e,"unused",t[2])},m(t,r){g(t,e,r),m(e,n)},p(t,r){2&r&&C(n,t[1]),4&r&&S(e,"unused",t[2])},d(t){t&&v(e)}}}function We(t){let e,n,o,s,a,c,d,h,f,p,y,w=t[3]&&Ve(t);function $(t,e){return t[3]?Ye:ze}let x=$(t),C=x(t);const T=t[8].default,S=l(T,t,t[7],null);return{c(){e=_("div"),w&&w.c(),n=b(),o=_("div"),s=_("div"),a=_("button"),a.innerHTML='<span class="icon icon-inline icon-c-clickable icon-trash"></span>',c=b(),C.c(),d=b(),h=_("div"),S&&S.c(),E(a,"class","nobutton"),E(s,"class","constraint-row-left svelte-1xnmwrx"),E(h,"class","constraint-row-right svelte-1xnmwrx"),E(o,"class","constraint-row svelte-1xnmwrx"),E(o,"role","button"),E(e,"class","constraint-row-container svelte-1xnmwrx")},m(r,l){g(r,e,l),w&&w.m(e,null),m(e,n),m(e,o),m(o,s),m(s,a),m(s,c),C.m(s,null),m(o,d),m(o,h),S&&S.m(h,null),f=!0,p||(y=[k(a,"click",A((function(){i(t[5])&&t[5].apply(this,arguments)}))),k(o,"click",A((function(){i(t[4])&&t[4].apply(this,arguments)})))],p=!0)},p(r,[i]){(t=r)[3]?w?w.p(t,i):(w=Ve(t),w.c(),w.m(e,n)):w&&(w.d(1),w=null),x===(x=$(t))&&C?C.p(t,i):(C.d(1),C=x(t),C&&(C.c(),C.m(s,null))),S&&S.p&&(!f||128&i)&&u(S,T,t,t[7],f?i:-1,null,null)},i(t){f||(Y(S,t),f=!0)},o(t){W(S,t),f=!1},d(t){t&&v(e),w&&w.d(),C.d(),S&&S.d(t),p=!1,r(y)}}}let Xe=0;function Ke(t,e,n){let r;a(t,qe,(t=>n(6,r=t)));let{$$slots:i={},$$scope:o}=e,{id:s}=e,{name:l}=e,{unused:c}=e,{isLocal:u=!1}=e,{onClick:h=(u?()=>d(qe,r=s,r):void 0)}=e,{onTrash:f}=e;return t.$$set=t=>{"id"in t&&n(0,s=t.id),"name"in t&&n(1,l=t.name),"unused"in t&&n(2,c=t.unused),"isLocal"in t&&n(3,u=t.isLocal),"onClick"in t&&n(4,h=t.onClick),"onTrash"in t&&n(5,f=t.onTrash),"$$scope"in t&&n(7,o=t.$$scope)},[s,l,c,u,h,f,r,o,i,function(){r=this.__value,qe.set(r)},[[]]]}class Ze extends rt{constructor(t){super(),nt(this,t,Ke,We,o,{id:0,name:1,unused:2,isLocal:3,onClick:4,onTrash:5})}}function Je(t){let e;return{c(){e=_("span"),E(e,"class","icon icon-inline icon-c-clickable icon-thermo")},m(t,n){g(t,e,n)},d(t){t&&v(e)}}}function Qe(t){let e,n;return e=new Ze({props:{id:t[0],name:"Thermos",unused:!1,isLocal:!0,$$slots:{default:[Je]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(t,r){Q(e,t,r),n=!0},p(t,[n]){const r={};1&n&&(r.id=t[0]),8&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(Y(e.$$.fragment,t),n=!0)},o(t){W(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function tn(e,n,r){let i=t,o=()=>(i(),i=s(l,(t=>r(2,t))),l);e.$$.on_destroy.push((()=>i()));let{id:a}=n,{ref:l}=n;return o(),e.$$set=t=>{"id"in t&&r(0,a=t.id),"ref"in t&&o(r(1,l=t.ref))},[a,l]}class en extends rt{constructor(t){super(),nt(this,t,tn,Qe,o,{id:0,ref:1})}}class nn{constructor(t){this.isGlobal=!1,this.MenuComponent=en,this.pointerHandler=new He(!0),this._thermoState=t,this._bindPointerhandler(t)}getViewBox(t){return null}getConflicts(t){const e=[],n=this._thermoState.get()||{};for(const r of Object.values(n).map(dt)){let n=Number.NEGATIVE_INFINITY;for(const i of r){const r=t[i];null!=r&&r<=n&&e.push(i)}}return e}_bindPointerhandler(t){let e=null,n=0;this.pointerHandler.addEventListener("dragStart",(r=>{n=0,e=t.ref(`${Date.now()}_${Math.random()}`)})),this.pointerHandler.addEventListener("drag",(t=>{if(null==e)throw"UNREACHABLE";const{coord:r,grid:i}=t.detail,o=ft(r,i);for(const[t,r]of Object.entries(e.get()||{}))if(o===r)return n=+t+1,void e.replace(dt(e.get()||{}).slice(0,n));e.ref(`${n}`).replace(o),n++})),this.pointerHandler.addEventListener("dragEnd",(t=>{1>=n&&e.replace(null)})),this.pointerHandler.addEventListener("tap",(e=>{const{coord:n,grid:r}=e.detail,i=ft(n,r);for(const[e,n]of Object.entries(t.get()||{}))if(i===n[0])return void t.ref(`${e}`).replace(null)}))}}nn.TYPE="thermo";const rn={filled:Be,center:Be,corner:Be,grid:null,box:null,given:null,arrow:null,sandwich:null,min:null,max:null,killer:null,quadruple:null,[nn.TYPE]:nn,diagonal:null,knight:null,king:null,disjointGroups:null,consecutive:null},on=window.boardState=new Ue.StateManager,sn=on.ref("elements","120","value"),an=ot([],(t=>{const e=[];on.ref("elements/*").watch((([n,r],i,o)=>{const s=(null==i?void 0:i.type)||o.type,a=rn[s];if(null==a)return void console.warn(`Unknown constraint type: ${s}.`);let l=-1;null!=i&&(l=e.findIndex((({id:t})=>r===t)),0>l)?console.error(`Failed to find constraint with id ${r}.`):(null==o?delete e[l]:null==i?e.push({id:r,valueRef:on.ref(n,r,"value"),handler:new a(on.ref(n,r,"value"))}):i.type!==o.type&&console.error(`Cannot change type of constraint! ${i.type} -> ${o.type}`),t(e))}),!0)})),ln=ot(null,(t=>{let e=[];an.subscribe((t=>e=t)),qe.watch(((n,r,i)=>{const o=i,s=e.find((({id:t})=>o===t))||null;t(s)}),!0)}));(()=>{on.watch(Re.debounce(((t,e,n)=>{const r=new URL(window.location.href);r.searchParams.set("b",Ne.compressToEncodedURIComponent(JSON.stringify(n))),window.history.replaceState(null,"",r.href)}),200),!1,".");const t=new URL(window.location.href);if(t.searchParams.has("b")){const e=t.searchParams.get("b");try{const t=Ne.decompressFromEncodedURIComponent(e);if(null!=t)return void on.update(JSON.parse(t))}catch(t){console.error("Failed to update board from `b` param.")}}on.update({grid:{width:9,height:9},elements:{120:{type:"filled",order:15,value:{}},130:{type:"corner",order:15,value:{}},140:{type:"center",order:15,value:{}},10:{type:"box",order:10,value:{width:3,height:3}},11:{type:"grid",order:10,value:null},10800:{type:"diagonal",value:{positive:!0,negative:!1},order:9.5},10090:{type:"knight",value:!1},10100:{type:"king",value:!1},10110:{type:"disjointGroups",value:!1},10120:{type:"consecutive",value:!1},10130:{type:"given",order:15,value:{12:3,13:4,39:4,40:1,64:3}},10140:{type:"thermo",order:3,value:{110:{length:4,0:3,1:13,2:23},120:{length:4,0:29,1:20,2:21}}},10150:{type:"arrow",order:9,value:{110:{head:{length:1,0:27},body:{length:3,0:27,1:28,2:29}},120:{head:{length:2,0:45,1:46},body:{length:5,0:46,1:47,2:56,3:66,4:57}}}},10160:{type:"min",order:2,value:{56:!0,57:!0,63:!0,64:!0,65:!0}},10170:{type:"max",order:2,value:{58:!0,67:!0,68:!0,77:!0}},10180:{type:"killer",order:12,value:{150:{sum:43,cells:{28:!0,36:!0,37:!0,38:!0,45:!0,47:!0,54:!0,55:!0}},160:{sum:18,cells:{60:!0,61:!0,69:!0}},170:{sum:16,cells:{71:!0,79:!0,80:!0}}}},10190:{type:"quadruple",order:11,value:{12:{length:3,0:1,1:5,2:9},24:{length:2,0:8,1:9},66:{length:4,0:1,1:1,2:2,3:2}}}}})})();const cn=/^Digit(\d)$/,un={Delete:null,Backspace:null},dn=t=>{let e;if(t.code in un)e=un[t.code];else{const n=cn.exec(t.code);n&&(e=Number(n[1]))}if(void 0===e)return;const n=_t(Fe.get()),r={};for(const t of n)r[`${t}`]=e;sn.update(r)};function hn(t){let e,n,i,o,s,a,l;function c(e){t[11](e)}let u={boardState:on,userState:Pe};return void 0!==t[0]&&(u.svg=t[0]),i=new Ie({props:u}),I.push((()=>function(t,e,n){const r=t.$$.props[e];void 0!==r&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}(i,"svg",c))),{c(){e=_("div"),n=b(),J(i.$$.fragment),E(e,"class","overlay svelte-kdd1wn")},m(r,o){g(r,e,o),g(r,n,o),Q(i,r,o),s=!0,a||(l=[k(window,"mouseup",t[5]),k(window,"keydown",dn),k(e,"mousedown",A(x(t[6])),!0),k(e,"mousemove",A(x(t[7])),!0),k(e,"click",A(x(t[8])),!0),k(e,"contextmenu",A(x(t[9])),!0),k(e,"mouseleave",A(x(t[10])),!0)],a=!0)},p(t,[e]){const n={};var r;!o&&1&e&&(o=!0,n.svg=t[0],r=()=>o=!1,R.push(r)),i.$set(n)},i(t){s||(Y(i.$$.fragment,t),s=!0)},o(t){W(i.$$.fragment,t),s=!1},d(t){t&&v(e),t&&v(n),tt(i,t),a=!1,r(l)}}}function fn(t,e,n){let r,i;const o=on.ref("grid");a(t,o,(t=>n(2,i=t)));const s=at(ln,(t=>{var e;return(null===(e=null==t?void 0:t.handler)||void 0===e?void 0:e.pointerHandler)||null}));a(t,s,(t=>n(1,r=t)));let l=null;return[l,r,i,o,s,t=>r&&r.up(t,i,l),t=>r&&r.down(t,i,l),t=>r&&r.move(t,i,l),t=>r&&r.click(t,i,l),t=>r&&r.click(t,i,l),t=>r&&r.leave(t,i,l),function(t){l=t,n(0,l)}]}class pn extends rt{constructor(t){super(),nt(this,t,fn,hn,o,{})}}function mn(t){let e,n,r,i,o,s,a,c,d,h,f;const p=t[4].default,y=l(p,t,t[3],null);return{c(){e=_("div"),n=_("button"),r=w(t[1]),i=b(),o=_("span"),s=b(),a=_("div"),c=_("div"),y&&y.c(),E(o,"class","tree-menu icon icon-inline icon-c-clickable icon-tree-menu svelte-1o8sn12"),E(n,"class","section-title nobutton svelte-1o8sn12"),E(c,"class","panel svelte-1o8sn12"),E(a,"class","panel-wrapper svelte-1o8sn12"),E(e,"class","container svelte-1o8sn12"),S(e,"closed",t[0])},m(l,u){g(l,e,u),m(e,n),m(n,r),m(n,i),m(n,o),m(e,s),m(e,a),m(a,c),y&&y.m(c,null),d=!0,h||(f=k(n,"click",t[2]),h=!0)},p(t,[n]){(!d||2&n)&&C(r,t[1]),y&&y.p&&(!d||8&n)&&u(y,p,t,t[3],d?n:-1,null,null),1&n&&S(e,"closed",t[0])},i(t){d||(Y(y,t),d=!0)},o(t){W(y,t),d=!1},d(t){t&&v(e),y&&y.d(t),h=!1,f()}}}function gn(t,e,n){let{$$slots:r={},$$scope:i}=e,{title:o}=e,{closed:s=!1}=e;return t.$$set=t=>{"title"in t&&n(1,o=t.title),"closed"in t&&n(0,s=t.closed),"$$scope"in t&&n(3,i=t.$$scope)},[s,o,function(){n(0,s=!s)},i,r]}class vn extends rt{constructor(t){super(),nt(this,t,gn,mn,o,{title:1,closed:0})}}function _n(t,e,n){const r=t.slice();return r[4]=e[n].id,r[5]=e[n].valueRef,r[6]=e[n].handler,r}function yn(t,e,n){const r=t.slice();return r[4]=e[n].id,r[5]=e[n].valueRef,r[6]=e[n].handler,r}function wn(t){let e;return{c(){e=_("p"),e.textContent="Nothing Here!",T(e,"margin","0"),T(e,"padding","0.25em 1em")},m(t,n){g(t,e,n)},d(t){t&&v(e)}}}function bn(t,e){let n,r,i,o;var s=e[6].MenuComponent;function a(t){return{props:{id:t[4],ref:t[5]}}}return s&&(r=new s(a(e))),{key:t,first:null,c(){n=_("li"),r&&J(r.$$.fragment),i=b(),this.first=n},m(t,e){g(t,n,e),r&&Q(r,n,null),m(n,i),o=!0},p(t,o){e=t;const l={};if(1&o&&(l.id=e[4]),1&o&&(l.ref=e[5]),s!==(s=e[6].MenuComponent)){if(r){V();const t=r;W(t.$$.fragment,1,0,(()=>{tt(t,1)})),z()}s?(r=new s(a(e)),J(r.$$.fragment),Y(r.$$.fragment,1),Q(r,n,i)):r=null}else s&&r.$set(l)},i(t){o||(r&&Y(r.$$.fragment,t),o=!0)},o(t){r&&W(r.$$.fragment,t),o=!1},d(t){t&&v(n),r&&tt(r)}}}function $n(t){let e,n,r=[],i=new Map,o=t[0];const s=t=>t[4];for(let e=0;e<o.length;e+=1){let n=yn(t,o,e),a=s(n);i.set(a,r[e]=bn(a,n))}return{c(){e=_("ul");for(let t=0;t<r.length;t+=1)r[t].c();E(e,"class","nolist")},m(t,i){g(t,e,i);for(let t=0;t<r.length;t+=1)r[t].m(e,null);n=!0},p(t,n){1&n&&(o=t[0],V(),r=Z(r,n,s,1,t,o,i,e,K,bn,null,yn),z())},i(t){if(!n){for(let t=0;t<o.length;t+=1)Y(r[t]);n=!0}},o(t){for(let t=0;t<r.length;t+=1)W(r[t]);n=!1},d(t){t&&v(e);for(let t=0;t<r.length;t+=1)r[t].d()}}}function kn(t,e){let n,r,i,o;var s=e[6].MenuComponent;function a(t){return{props:{id:t[4],ref:t[5]}}}return s&&(r=new s(a(e))),{key:t,first:null,c(){n=_("li"),r&&J(r.$$.fragment),i=b(),this.first=n},m(t,e){g(t,n,e),r&&Q(r,n,null),m(n,i),o=!0},p(t,o){e=t;const l={};if(2&o&&(l.id=e[4]),2&o&&(l.ref=e[5]),s!==(s=e[6].MenuComponent)){if(r){V();const t=r;W(t.$$.fragment,1,0,(()=>{tt(t,1)})),z()}s?(r=new s(a(e)),J(r.$$.fragment),Y(r.$$.fragment,1),Q(r,n,i)):r=null}else s&&r.$set(l)},i(t){o||(r&&Y(r.$$.fragment,t),o=!0)},o(t){r&&W(r.$$.fragment,t),o=!1},d(t){t&&v(n),r&&tt(r)}}}function xn(t){let e,n,r=[],i=new Map,o=t[1];const s=t=>t[4];for(let e=0;e<o.length;e+=1){let n=_n(t,o,e),a=s(n);i.set(a,r[e]=kn(a,n))}return{c(){e=_("ul");for(let t=0;t<r.length;t+=1)r[t].c();E(e,"class","nolist")},m(t,i){g(t,e,i);for(let t=0;t<r.length;t+=1)r[t].m(e,null);n=!0},p(t,n){2&n&&(o=t[1],V(),r=Z(r,n,s,1,t,o,i,e,K,kn,null,_n),z())},i(t){if(!n){for(let t=0;t<o.length;t+=1)Y(r[t]);n=!0}},o(t){for(let t=0;t<r.length;t+=1)W(r[t]);n=!1},d(t){t&&v(e);for(let t=0;t<r.length;t+=1)r[t].d()}}}function An(t){let e;return{c(){e=_("p"),e.textContent="Nothing Here!",T(e,"margin","0"),T(e,"padding","0.25em 1em")},m(t,n){g(t,e,n)},d(t){t&&v(e)}}}function En(t){let e,n,r,i,o,s,a,l,c,u,d,h,f;return r=new vn({props:{title:"Solver Panel",$$slots:{default:[wn]},$$scope:{ctx:t}}}),s=new vn({props:{title:"Global Constraints",$$slots:{default:[$n]},$$scope:{ctx:t}}}),c=new vn({props:{title:"Local Constraints",$$slots:{default:[xn]},$$scope:{ctx:t}}}),h=new vn({props:{title:"Cosmetic Tools",$$slots:{default:[An]},$$scope:{ctx:t}}}),{c(){e=_("ul"),n=_("li"),J(r.$$.fragment),i=b(),o=_("li"),J(s.$$.fragment),a=b(),l=_("li"),J(c.$$.fragment),u=b(),d=_("li"),J(h.$$.fragment),E(e,"class","nolist")},m(t,p){g(t,e,p),m(e,n),Q(r,n,null),m(e,i),m(e,o),Q(s,o,null),m(e,a),m(e,l),Q(c,l,null),m(e,u),m(e,d),Q(h,d,null),f=!0},p(t,[e]){const n={};2048&e&&(n.$$scope={dirty:e,ctx:t}),r.$set(n);const i={};2049&e&&(i.$$scope={dirty:e,ctx:t}),s.$set(i);const o={};2050&e&&(o.$$scope={dirty:e,ctx:t}),c.$set(o);const a={};2048&e&&(a.$$scope={dirty:e,ctx:t}),h.$set(a)},i(t){f||(Y(r.$$.fragment,t),Y(s.$$.fragment,t),Y(c.$$.fragment,t),Y(h.$$.fragment,t),f=!0)},o(t){W(r.$$.fragment,t),W(s.$$.fragment,t),W(c.$$.fragment,t),W(h.$$.fragment,t),f=!1},d(t){t&&v(e),tt(r),tt(s),tt(c),tt(h)}}}function Cn(t,e,n){let r,i;const o=at(an,(t=>t.filter((({handler:t})=>t.MenuComponent&&t.isGlobal))));a(t,o,(t=>n(0,r=t)));const s=at(an,(t=>t.filter((({handler:t})=>t.MenuComponent&&!t.isGlobal))));return a(t,s,(t=>n(1,i=t))),[r,i,o,s]}class Tn extends rt{constructor(t){super(),nt(this,t,Cn,En,o,{})}}var Sn;
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
var On=function(t,e){return(On=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Mn(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}On(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var jn=function(){return(jn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function In(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function Ln(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||e)}
/**
     * @license
     * Copyright 2016 Google Inc.
     *
     * Permission is hereby granted, free of charge, to any person obtaining a copy
     * of this software and associated documentation files (the "Software"), to deal
     * in the Software without restriction, including without limitation the rights
     * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
     * copies of the Software, and to permit persons to whom the Software is
     * furnished to do so, subject to the following conditions:
     *
     * The above copyright notice and this permission notice shall be included in
     * all copies or substantial portions of the Software.
     *
     * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
     * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
     * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
     * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
     * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
     * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
     * THE SOFTWARE.
     */var Rn=function(){function t(t){void 0===t&&(t={}),this.adapter=t}return Object.defineProperty(t,"cssClasses",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{}},enumerable:!1,configurable:!0}),t.prototype.init=function(){},t.prototype.destroy=function(){},t}(),Dn=function(){function t(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];this.root=t,this.initialize.apply(this,Ln([],In(n))),this.foundation=void 0===e?this.getDefaultFoundation():e,this.foundation.init(),this.initialSyncWithDOM()}return t.attachTo=function(e){return new t(e,new Rn({}))},t.prototype.initialize=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.getDefaultFoundation=function(){throw new Error("Subclasses must override getDefaultFoundation to return a properly configured foundation class")},t.prototype.initialSyncWithDOM=function(){},t.prototype.destroy=function(){this.foundation.destroy()},t.prototype.listen=function(t,e,n){this.root.addEventListener(t,e,n)},t.prototype.unlisten=function(t,e,n){this.root.removeEventListener(t,e,n)},t.prototype.emit=function(t,e,n){var r;void 0===n&&(n=!1),"function"==typeof CustomEvent?r=new CustomEvent(t,{bubbles:n,detail:e}):(r=document.createEvent("CustomEvent")).initCustomEvent(t,n,!1,e),this.root.dispatchEvent(r)},t}();
/**
     * @license
     * Copyright 2016 Google Inc.
     *
     * Permission is hereby granted, free of charge, to any person obtaining a copy
     * of this software and associated documentation files (the "Software"), to deal
     * in the Software without restriction, including without limitation the rights
     * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
     * copies of the Software, and to permit persons to whom the Software is
     * furnished to do so, subject to the following conditions:
     *
     * The above copyright notice and this permission notice shall be included in
     * all copies or substantial portions of the Software.
     *
     * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
     * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
     * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
     * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
     * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
     * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
     * THE SOFTWARE.
     */
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Permission is hereby granted, free of charge, to any person obtaining a copy
     * of this software and associated documentation files (the "Software"), to deal
     * in the Software without restriction, including without limitation the rights
     * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
     * copies of the Software, and to permit persons to whom the Software is
     * furnished to do so, subject to the following conditions:
     *
     * The above copyright notice and this permission notice shall be included in
     * all copies or substantial portions of the Software.
     *
     * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
     * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
     * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
     * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
     * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
     * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
     * THE SOFTWARE.
     */
function Nn(t){return void 0===t&&(t=window),!!function(t){void 0===t&&(t=window);var e=!1;try{var n={get passive(){return e=!0,!1}},r=function(){};t.document.addEventListener("test",r,n),t.document.removeEventListener("test",r,n)}catch(t){e=!1}return e}
/**
     * @license
     * Copyright 2018 Google Inc.
     *
     * Permission is hereby granted, free of charge, to any person obtaining a copy
     * of this software and associated documentation files (the "Software"), to deal
     * in the Software without restriction, including without limitation the rights
     * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
     * copies of the Software, and to permit persons to whom the Software is
     * furnished to do so, subject to the following conditions:
     *
     * The above copyright notice and this permission notice shall be included in
     * all copies or substantial portions of the Software.
     *
     * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
     * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
     * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
     * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
     * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
     * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
     * THE SOFTWARE.
     */(t)&&{passive:!0}}
/**
     * @license
     * Copyright 2016 Google Inc.
     *
     * Permission is hereby granted, free of charge, to any person obtaining a copy
     * of this software and associated documentation files (the "Software"), to deal
     * in the Software without restriction, including without limitation the rights
     * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
     * copies of the Software, and to permit persons to whom the Software is
     * furnished to do so, subject to the following conditions:
     *
     * The above copyright notice and this permission notice shall be included in
     * all copies or substantial portions of the Software.
     *
     * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
     * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
     * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
     * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
     * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
     * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
     * THE SOFTWARE.
     */
var Un={BG_FOCUSED:"mdc-ripple-upgraded--background-focused",FG_ACTIVATION:"mdc-ripple-upgraded--foreground-activation",FG_DEACTIVATION:"mdc-ripple-upgraded--foreground-deactivation",ROOT:"mdc-ripple-upgraded",UNBOUNDED:"mdc-ripple-upgraded--unbounded"},Hn={VAR_FG_SCALE:"--mdc-ripple-fg-scale",VAR_FG_SIZE:"--mdc-ripple-fg-size",VAR_FG_TRANSLATE_END:"--mdc-ripple-fg-translate-end",VAR_FG_TRANSLATE_START:"--mdc-ripple-fg-translate-start",VAR_LEFT:"--mdc-ripple-left",VAR_TOP:"--mdc-ripple-top"},Pn={DEACTIVATION_TIMEOUT_MS:225,FG_DEACTIVATION_MS:150,INITIAL_ORIGIN_SCALE:.6,PADDING:10,TAP_DELAY_MS:300},Fn=["touchstart","pointerdown","mousedown","keydown"],qn=["touchend","pointerup","mouseup","contextmenu"],Gn=[],Bn=function(t){function e(n){var r=t.call(this,jn(jn({},e.defaultAdapter),n))||this;return r.activationAnimationHasEnded_=!1,r.activationTimer_=0,r.fgDeactivationRemovalTimer_=0,r.fgScale_="0",r.frame_={width:0,height:0},r.initialSize_=0,r.layoutFrame_=0,r.maxRadius_=0,r.unboundedCoords_={left:0,top:0},r.activationState_=r.defaultActivationState_(),r.activationTimerCallback_=function(){r.activationAnimationHasEnded_=!0,r.runDeactivationUXLogicIfReady_()},r.activateHandler_=function(t){return r.activate_(t)},r.deactivateHandler_=function(){return r.deactivate_()},r.focusHandler_=function(){return r.handleFocus()},r.blurHandler_=function(){return r.handleBlur()},r.resizeHandler_=function(){return r.layout()},r}return Mn(e,t),Object.defineProperty(e,"cssClasses",{get:function(){return Un},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return Hn},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return Pn},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},browserSupportsCssVars:function(){return!0},computeBoundingRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},containsEventTarget:function(){return!0},deregisterDocumentInteractionHandler:function(){},deregisterInteractionHandler:function(){},deregisterResizeHandler:function(){},getWindowPageOffset:function(){return{x:0,y:0}},isSurfaceActive:function(){return!0},isSurfaceDisabled:function(){return!0},isUnbounded:function(){return!0},registerDocumentInteractionHandler:function(){},registerInteractionHandler:function(){},registerResizeHandler:function(){},removeClass:function(){},updateCssVariable:function(){}}},enumerable:!1,configurable:!0}),e.prototype.init=function(){var t=this,n=this.supportsPressRipple_();if(this.registerRootHandlers_(n),n){var r=e.cssClasses,i=r.ROOT,o=r.UNBOUNDED;requestAnimationFrame((function(){t.adapter.addClass(i),t.adapter.isUnbounded()&&(t.adapter.addClass(o),t.layoutInternal_())}))}},e.prototype.destroy=function(){var t=this;if(this.supportsPressRipple_()){this.activationTimer_&&(clearTimeout(this.activationTimer_),this.activationTimer_=0,this.adapter.removeClass(e.cssClasses.FG_ACTIVATION)),this.fgDeactivationRemovalTimer_&&(clearTimeout(this.fgDeactivationRemovalTimer_),this.fgDeactivationRemovalTimer_=0,this.adapter.removeClass(e.cssClasses.FG_DEACTIVATION));var n=e.cssClasses,r=n.ROOT,i=n.UNBOUNDED;requestAnimationFrame((function(){t.adapter.removeClass(r),t.adapter.removeClass(i),t.removeCssVars_()}))}this.deregisterRootHandlers_(),this.deregisterDeactivationHandlers_()},e.prototype.activate=function(t){this.activate_(t)},e.prototype.deactivate=function(){this.deactivate_()},e.prototype.layout=function(){var t=this;this.layoutFrame_&&cancelAnimationFrame(this.layoutFrame_),this.layoutFrame_=requestAnimationFrame((function(){t.layoutInternal_(),t.layoutFrame_=0}))},e.prototype.setUnbounded=function(t){var n=e.cssClasses.UNBOUNDED;t?this.adapter.addClass(n):this.adapter.removeClass(n)},e.prototype.handleFocus=function(){var t=this;requestAnimationFrame((function(){return t.adapter.addClass(e.cssClasses.BG_FOCUSED)}))},e.prototype.handleBlur=function(){var t=this;requestAnimationFrame((function(){return t.adapter.removeClass(e.cssClasses.BG_FOCUSED)}))},e.prototype.supportsPressRipple_=function(){return this.adapter.browserSupportsCssVars()},e.prototype.defaultActivationState_=function(){return{activationEvent:void 0,hasDeactivationUXRun:!1,isActivated:!1,isProgrammatic:!1,wasActivatedByPointer:!1,wasElementMadeActive:!1}},e.prototype.registerRootHandlers_=function(t){var e=this;t&&(Fn.forEach((function(t){e.adapter.registerInteractionHandler(t,e.activateHandler_)})),this.adapter.isUnbounded()&&this.adapter.registerResizeHandler(this.resizeHandler_)),this.adapter.registerInteractionHandler("focus",this.focusHandler_),this.adapter.registerInteractionHandler("blur",this.blurHandler_)},e.prototype.registerDeactivationHandlers_=function(t){var e=this;"keydown"===t.type?this.adapter.registerInteractionHandler("keyup",this.deactivateHandler_):qn.forEach((function(t){e.adapter.registerDocumentInteractionHandler(t,e.deactivateHandler_)}))},e.prototype.deregisterRootHandlers_=function(){var t=this;Fn.forEach((function(e){t.adapter.deregisterInteractionHandler(e,t.activateHandler_)})),this.adapter.deregisterInteractionHandler("focus",this.focusHandler_),this.adapter.deregisterInteractionHandler("blur",this.blurHandler_),this.adapter.isUnbounded()&&this.adapter.deregisterResizeHandler(this.resizeHandler_)},e.prototype.deregisterDeactivationHandlers_=function(){var t=this;this.adapter.deregisterInteractionHandler("keyup",this.deactivateHandler_),qn.forEach((function(e){t.adapter.deregisterDocumentInteractionHandler(e,t.deactivateHandler_)}))},e.prototype.removeCssVars_=function(){var t=this,n=e.strings;Object.keys(n).forEach((function(e){0===e.indexOf("VAR_")&&t.adapter.updateCssVariable(n[e],null)}))},e.prototype.activate_=function(t){var e=this;if(!this.adapter.isSurfaceDisabled()){var n=this.activationState_;if(!n.isActivated){var r=this.previousActivationEvent_;if(!(r&&void 0!==t&&r.type!==t.type))n.isActivated=!0,n.isProgrammatic=void 0===t,n.activationEvent=t,n.wasActivatedByPointer=!n.isProgrammatic&&(void 0!==t&&("mousedown"===t.type||"touchstart"===t.type||"pointerdown"===t.type)),void 0!==t&&Gn.length>0&&Gn.some((function(t){return e.adapter.containsEventTarget(t)}))?this.resetActivationState_():(void 0!==t&&(Gn.push(t.target),this.registerDeactivationHandlers_(t)),n.wasElementMadeActive=this.checkElementMadeActive_(t),n.wasElementMadeActive&&this.animateActivation_(),requestAnimationFrame((function(){Gn=[],n.wasElementMadeActive||void 0===t||" "!==t.key&&32!==t.keyCode||(n.wasElementMadeActive=e.checkElementMadeActive_(t),n.wasElementMadeActive&&e.animateActivation_()),n.wasElementMadeActive||(e.activationState_=e.defaultActivationState_())})))}}},e.prototype.checkElementMadeActive_=function(t){return void 0===t||"keydown"!==t.type||this.adapter.isSurfaceActive()},e.prototype.animateActivation_=function(){var t=this,n=e.strings,r=n.VAR_FG_TRANSLATE_START,i=n.VAR_FG_TRANSLATE_END,o=e.cssClasses,s=o.FG_DEACTIVATION,a=o.FG_ACTIVATION,l=e.numbers.DEACTIVATION_TIMEOUT_MS;this.layoutInternal_();var c="",u="";if(!this.adapter.isUnbounded()){var d=this.getFgTranslationCoordinates_(),h=d.startPoint,f=d.endPoint;c=h.x+"px, "+h.y+"px",u=f.x+"px, "+f.y+"px"}this.adapter.updateCssVariable(r,c),this.adapter.updateCssVariable(i,u),clearTimeout(this.activationTimer_),clearTimeout(this.fgDeactivationRemovalTimer_),this.rmBoundedActivationClasses_(),this.adapter.removeClass(s),this.adapter.computeBoundingRect(),this.adapter.addClass(a),this.activationTimer_=setTimeout((function(){return t.activationTimerCallback_()}),l)},e.prototype.getFgTranslationCoordinates_=function(){var t,e=this.activationState_,n=e.activationEvent;return{startPoint:t={x:(t=e.wasActivatedByPointer?function(t,e,n){if(!t)return{x:0,y:0};var r,i,o=e.x,s=e.y,a=o+n.left,l=s+n.top;if("touchstart"===t.type){var c=t;r=c.changedTouches[0].pageX-a,i=c.changedTouches[0].pageY-l}else{var u=t;r=u.pageX-a,i=u.pageY-l}return{x:r,y:i}}(n,this.adapter.getWindowPageOffset(),this.adapter.computeBoundingRect()):{x:this.frame_.width/2,y:this.frame_.height/2}).x-this.initialSize_/2,y:t.y-this.initialSize_/2},endPoint:{x:this.frame_.width/2-this.initialSize_/2,y:this.frame_.height/2-this.initialSize_/2}}},e.prototype.runDeactivationUXLogicIfReady_=function(){var t=this,n=e.cssClasses.FG_DEACTIVATION,r=this.activationState_,i=r.hasDeactivationUXRun,o=r.isActivated;(i||!o)&&this.activationAnimationHasEnded_&&(this.rmBoundedActivationClasses_(),this.adapter.addClass(n),this.fgDeactivationRemovalTimer_=setTimeout((function(){t.adapter.removeClass(n)}),Pn.FG_DEACTIVATION_MS))},e.prototype.rmBoundedActivationClasses_=function(){var t=e.cssClasses.FG_ACTIVATION;this.adapter.removeClass(t),this.activationAnimationHasEnded_=!1,this.adapter.computeBoundingRect()},e.prototype.resetActivationState_=function(){var t=this;this.previousActivationEvent_=this.activationState_.activationEvent,this.activationState_=this.defaultActivationState_(),setTimeout((function(){return t.previousActivationEvent_=void 0}),e.numbers.TAP_DELAY_MS)},e.prototype.deactivate_=function(){var t=this,e=this.activationState_;if(e.isActivated){var n=jn({},e);e.isProgrammatic?(requestAnimationFrame((function(){return t.animateDeactivation_(n)})),this.resetActivationState_()):(this.deregisterDeactivationHandlers_(),requestAnimationFrame((function(){t.activationState_.hasDeactivationUXRun=!0,t.animateDeactivation_(n),t.resetActivationState_()})))}},e.prototype.animateDeactivation_=function(t){var e=t.wasActivatedByPointer,n=t.wasElementMadeActive;(e||n)&&this.runDeactivationUXLogicIfReady_()},e.prototype.layoutInternal_=function(){var t=this;this.frame_=this.adapter.computeBoundingRect();var n=Math.max(this.frame_.height,this.frame_.width);this.maxRadius_=this.adapter.isUnbounded()?n:Math.sqrt(Math.pow(t.frame_.width,2)+Math.pow(t.frame_.height,2))+e.numbers.PADDING;var r=Math.floor(n*e.numbers.INITIAL_ORIGIN_SCALE);this.adapter.isUnbounded()&&r%2!=0?this.initialSize_=r-1:this.initialSize_=r,this.fgScale_=""+this.maxRadius_/this.initialSize_,this.updateLayoutCssVars_()},e.prototype.updateLayoutCssVars_=function(){var t=e.strings,n=t.VAR_FG_SIZE,r=t.VAR_LEFT,i=t.VAR_TOP,o=t.VAR_FG_SCALE;this.adapter.updateCssVariable(n,this.initialSize_+"px"),this.adapter.updateCssVariable(o,this.fgScale_),this.adapter.isUnbounded()&&(this.unboundedCoords_={left:Math.round(this.frame_.width/2-this.initialSize_/2),top:Math.round(this.frame_.height/2-this.initialSize_/2)},this.adapter.updateCssVariable(r,this.unboundedCoords_.left+"px"),this.adapter.updateCssVariable(i,this.unboundedCoords_.top+"px"))},e}(Rn),Vn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.disabled=!1,e}return Mn(e,t),e.attachTo=function(t,n){void 0===n&&(n={isUnbounded:void 0});var r=new e(t);return void 0!==n.isUnbounded&&(r.unbounded=n.isUnbounded),r},e.createAdapter=function(t){return{addClass:function(e){return t.root.classList.add(e)},browserSupportsCssVars:function(){return function(t,e){void 0===e&&(e=!1);var n,r=t.CSS;if("boolean"==typeof Sn&&!e)return Sn;if(!r||"function"!=typeof r.supports)return!1;var i=r.supports("--css-vars","yes"),o=r.supports("(--css-vars: yes)")&&r.supports("color","#00000000");return n=i||o,e||(Sn=n),n}(window)},computeBoundingRect:function(){return t.root.getBoundingClientRect()},containsEventTarget:function(e){return t.root.contains(e)},deregisterDocumentInteractionHandler:function(t,e){return document.documentElement.removeEventListener(t,e,Nn())},deregisterInteractionHandler:function(e,n){return t.root.removeEventListener(e,n,Nn())},deregisterResizeHandler:function(t){return window.removeEventListener("resize",t)},getWindowPageOffset:function(){return{x:window.pageXOffset,y:window.pageYOffset}},isSurfaceActive:function(){return function(t,e){return(t.matches||t.webkitMatchesSelector||t.msMatchesSelector).call(t,e)}(t.root,":active")},isSurfaceDisabled:function(){return Boolean(t.disabled)},isUnbounded:function(){return Boolean(t.unbounded)},registerDocumentInteractionHandler:function(t,e){return document.documentElement.addEventListener(t,e,Nn())},registerInteractionHandler:function(e,n){return t.root.addEventListener(e,n,Nn())},registerResizeHandler:function(t){return window.addEventListener("resize",t)},removeClass:function(e){return t.root.classList.remove(e)},updateCssVariable:function(e,n){return t.root.style.setProperty(e,n)}}},Object.defineProperty(e.prototype,"unbounded",{get:function(){return Boolean(this.unbounded_)},set:function(t){this.unbounded_=Boolean(t),this.setUnbounded_()},enumerable:!1,configurable:!0}),e.prototype.activate=function(){this.foundation.activate()},e.prototype.deactivate=function(){this.foundation.deactivate()},e.prototype.layout=function(){this.foundation.layout()},e.prototype.getDefaultFoundation=function(){return new Bn(e.createAdapter(this))},e.prototype.initialSyncWithDOM=function(){var t=this.root;this.unbounded="mdcRippleIsUnbounded"in t.dataset},e.prototype.setUnbounded_=function(){this.foundation.setUnbounded(Boolean(this.unbounded_))},e}(Dn);function zn(e){let n,i,o,s,a,l,c,u,d,h,f,p,y,w,$,x,A,C,T,S,O,M,j,I,L,R;return{c(){n=_("div"),i=_("div"),o=_("div"),s=_("div"),a=_("input"),l=b(),c=_("label"),c.innerHTML='<span aria-hidden="true">1</span> \n                    <span class="sr-only">Digits</span>',u=b(),d=_("div"),h=_("input"),f=b(),p=_("label"),p.innerHTML='<span aria-hidden="true" style="font-size: 50%;"><span style="position: absolute; top:    12%; left:  20%;">1</span> \n                        <span style="position: absolute; top:    12%; right: 20%;">2</span> \n                        <span style="position: absolute; bottom: 12%; left:  20%;">3</span></span> \n                    <span class="sr-only">Corner Marks</span>',y=b(),w=_("div"),$=_("input"),x=b(),A=_("label"),A.innerHTML='<span aria-hidden="true" style="font-size: 50%;">123</span> \n                    <span class="sr-only">Center Marks</span>',C=b(),T=_("div"),S=_("input"),O=b(),M=_("label"),M.innerHTML='<span class="icon icon-inline icon-c-textinv icon-colors svelte-hmnhaq"></span> \n                    <span class="sr-only">Colors</span>',j=b(),I=_("div"),I.innerHTML='<div class="right svelte-hmnhaq"><div class="num-pad svelte-hmnhaq"><button class="mdc-ripple-surface padbutton svelte-hmnhaq" style="grid-area: 1 / 1 / 2 / 2">1</button> \n                <button class="mdc-ripple-surface padbutton svelte-hmnhaq" style="grid-area: 1 / 2 / 2 / 3">2</button> \n                <button class="mdc-ripple-surface padbutton svelte-hmnhaq" style="grid-area: 1 / 3 / 2 / 4">3</button> \n\n                <button class="mdc-ripple-surface padbutton svelte-hmnhaq" style="grid-area: 2 / 1 / 3 / 2">4</button> \n                <button class="mdc-ripple-surface padbutton svelte-hmnhaq" style="grid-area: 2 / 2 / 3 / 3">5</button> \n                <button class="mdc-ripple-surface padbutton svelte-hmnhaq" style="grid-area: 2 / 3 / 3 / 4">6</button> \n\n                <button class="mdc-ripple-surface padbutton svelte-hmnhaq" style="grid-area: 3 / 1 / 4 / 2">7</button> \n                <button class="mdc-ripple-surface padbutton svelte-hmnhaq" style="grid-area: 3 / 2 / 4 / 3">8</button> \n                <button class="mdc-ripple-surface padbutton svelte-hmnhaq" style="grid-area: 3 / 3 / 4 / 4">9</button> \n\n                <button class="mdc-ripple-surface padbutton svelte-hmnhaq" style="grid-area: 4 / 1 / 5 / 2">0</button> \n                <button class="mdc-ripple-surface padbutton svelte-hmnhaq" style="grid-area: 4 / 2 / 5 / 4" title="Delete" aria-label="Delete"><span class="icon icon-inline icon-c-textinv icon-delete"></span></button></div> \n            <div class="ctrl-pad svelte-hmnhaq"><button class="mdc-ripple-surface padbutton svelte-hmnhaq" title="Undo" aria-label="Undo"><span class="icon icon-inline icon-c-textinv icon-undo"></span></button> \n                <button class="mdc-ripple-surface padbutton svelte-hmnhaq" title="Redo" aria-label="Redo"><span class="icon icon-inline icon-c-textinv icon-undo redo"></span></button> \n                <button class="mdc-ripple-surface padbutton svelte-hmnhaq" title="Take Screenshot" aria-label="Take Screenshot"><span class="icon icon-inline icon-c-textinv icon-screenshot"></span></button></div></div>',E(a,"class","radio-mode-button svelte-hmnhaq"),E(a,"type","radio"),E(a,"name",Ge),E(a,"id","mode-radio-digits"),a.__value=e[0],a.value=a.__value,e[8][0].push(a),E(c,"class","mdc-ripple-surface padbutton padbutton-mode svelte-hmnhaq"),E(c,"role","button"),E(c,"for","mode-radio-digits"),E(s,"class","svelte-hmnhaq"),E(h,"class","radio-mode-button svelte-hmnhaq"),E(h,"type","radio"),E(h,"name",Ge),E(h,"id","mode-radio-corner"),h.__value=e[2],h.value=h.__value,e[8][0].push(h),E(p,"class","mdc-ripple-surface padbutton padbutton-mode svelte-hmnhaq"),E(p,"role","button"),E(p,"for","mode-radio-corner"),E(d,"class","svelte-hmnhaq"),E($,"class","radio-mode-button svelte-hmnhaq"),E($,"type","radio"),E($,"name",Ge),E($,"id","mode-radio-center"),$.__value=e[3],$.value=$.__value,e[8][0].push($),E(A,"class","mdc-ripple-surface padbutton padbutton-mode svelte-hmnhaq"),E(A,"role","button"),E(A,"for","mode-radio-center"),E(w,"class","svelte-hmnhaq"),E(S,"class","radio-mode-button svelte-hmnhaq"),E(S,"type","radio"),E(S,"name",Ge),E(S,"id","mode-radio-colors"),S.__value="colors",S.value=S.__value,e[8][0].push(S),E(M,"class","mdc-ripple-surface padbutton padbutton-mode svelte-hmnhaq"),E(M,"role","button"),E(M,"for","mode-radio-colors"),E(T,"class","svelte-hmnhaq"),E(o,"class","mode-pad svelte-hmnhaq"),E(i,"class","mode-pad-container svelte-hmnhaq"),E(I,"class","right-container svelte-hmnhaq"),E(n,"class","container svelte-hmnhaq")},m(t,r){g(t,n,r),m(n,i),m(i,o),m(o,s),m(s,a),a.checked=a.__value===e[1],m(s,l),m(s,c),m(o,u),m(o,d),m(d,h),h.checked=h.__value===e[1],m(d,f),m(d,p),m(o,y),m(o,w),m(w,$),$.checked=$.__value===e[1],m(w,x),m(w,A),m(o,C),m(o,T),m(T,S),S.checked=S.__value===e[1],m(T,O),m(T,M),m(n,j),m(n,I),L||(R=[k(a,"change",e[7]),k(h,"change",e[9]),k($,"change",e[10]),k(S,"change",e[11])],L=!0)},p(t,[e]){1&e&&(a.__value=t[0],a.value=a.__value),2&e&&(a.checked=a.__value===t[1]),4&e&&(h.__value=t[2],h.value=h.__value),2&e&&(h.checked=h.__value===t[1]),8&e&&($.__value=t[3],$.value=$.__value),2&e&&($.checked=$.__value===t[1]),2&e&&(S.checked=S.__value===t[1])},i:t,o:t,d(t){t&&v(n),e[8][0].splice(e[8][0].indexOf(a),1),e[8][0].splice(e[8][0].indexOf(h),1),e[8][0].splice(e[8][0].indexOf($),1),e[8][0].splice(e[8][0].indexOf(S),1),L=!1,r(R)}}}function Yn(t,e,n){let r,i,o,s;var l;a(t,qe,(t=>n(1,i=t))),l=()=>Array.prototype.forEach.call(document.getElementsByClassName("mdc-ripple-surface"),(t=>Vn.attachTo(t))),M().$$.on_mount.push(l);const c=Pe.ref("marks","filled");a(t,c,(t=>n(0,r=t)));const u=Pe.ref("marks","corner");a(t,u,(t=>n(2,o=t)));const d=Pe.ref("marks","center");a(t,d,(t=>n(3,s=t)));return[r,i,o,s,c,u,d,function(){i=this.__value,qe.set(i)},[[]],function(){i=this.__value,qe.set(i)},function(){i=this.__value,qe.set(i)},function(){i=this.__value,qe.set(i)}]}class Wn extends rt{constructor(t){super(),nt(this,t,Yn,zn,o,{})}}function Xn(e){let n,i,o,s,a,l,c,u,d,h,f,p,y;return o=new Wn({}),{c(){n=_("div"),i=_("div"),J(o.$$.fragment),s=b(),a=_("div"),l=_("input"),c=b(),u=_("input"),d=b(),h=_("textarea"),E(i,"class","entry-pad svelte-fcgi7u"),E(l,"class","info-input title svelte-fcgi7u"),E(l,"type","text"),E(l,"placeholder","Untitled"),l.value="Killer",E(u,"class","info-input setter svelte-fcgi7u"),E(u,"type","text"),E(u,"placeholder","Anonymous"),E(h,"class","rules-text svelte-fcgi7u"),E(h,"spellcheck","false"),h.value="Normal killer sudoku rules apply: digits in cages sum to the number in the cage's top left, and do not repeat.",E(a,"class","entry-info svelte-fcgi7u"),E(n,"class","entry-column svelte-fcgi7u")},m(t,r){g(t,n,r),m(n,i),Q(o,i,null),e[1](i),m(n,s),m(n,a),m(a,l),m(a,c),m(a,u),m(a,d),m(a,h),f=!0,p||(y=[k(h,"focus",Kn),k(h,"blur",Kn)],p=!0)},p:t,i(t){f||(Y(o.$$.fragment,t),f=!0)},o(t){W(o.$$.fragment,t),f=!1},d(t){t&&v(n),tt(o),e[1](null),p=!1,r(y)}}}function Kn(t){t.currentTarget.setAttribute("spellcheck",`${document.activeElement===t.currentTarget}`)}function Zn(t,e,n){let r;function i(){n(0,r.style.fontSize=.12*r.clientWidth+"px",r)}var o;return window.addEventListener("resize",i),o=()=>window.removeEventListener("resize",i),M().$$.on_destroy.push(o),requestAnimationFrame(i),[r,function(t){I[t?"unshift":"push"]((()=>{r=t,n(0,r)}))}]}class Jn extends rt{constructor(t){super(),nt(this,t,Zn,Xn,o,{})}}function Qn(e){let n,r,i;return{c(){n=_("div"),n.innerHTML='<ul class="header-buttons left svelte-1gtf4ed"><li>Solving/Setting</li> \n        <li>New Grid</li> \n        <li>Export</li></ul>',r=b(),i=_("div"),i.innerHTML='<ul class="header-buttons right svelte-1gtf4ed"><li>Light/dark</li> \n        <li>Help</li> \n        <li>Settings</li></ul>',E(n,"class","header-left svelte-1gtf4ed"),E(i,"class","header-right svelte-1gtf4ed")},m(t,e){g(t,n,e),g(t,r,e),g(t,i,e)},p:t,i:t,o:t,d(t){t&&v(n),t&&v(r),t&&v(i)}}}class tr extends rt{constructor(t){super(),nt(this,t,null,Qn,o,{})}}function er(e){let n,r,i,o,s,a,l,c,u,d,h,f,p,y,w,$,k,x,A,C;return o=new tr({}),d=new Tn({}),p=new pn({}),$=new Jn({}),{c(){n=_("header"),r=_("div"),i=_("div"),J(o.$$.fragment),s=b(),a=_("main"),l=_("div"),c=_("div"),u=_("div"),J(d.$$.fragment),h=b(),f=_("div"),J(p.$$.fragment),y=b(),w=_("div"),J($.$$.fragment),k=b(),x=_("footer"),A=_("a"),A.textContent="Sudoku Studio version 9e629cb",E(i,"class","content-row"),E(r,"class","content"),E(n,"class","svelte-uq8vao"),E(u,"class","left-panel svelte-uq8vao"),E(f,"class","center-panel svelte-uq8vao"),E(w,"class","right-panel svelte-uq8vao"),E(c,"class","content-row svelte-uq8vao"),E(l,"class","content svelte-uq8vao"),E(a,"class","svelte-uq8vao"),E(A,"href","https://github.com/SudokuStudio/SudokuStudio"),E(x,"class","svelte-uq8vao")},m(t,e){g(t,n,e),m(n,r),m(r,i),Q(o,i,null),g(t,s,e),g(t,a,e),m(a,l),m(l,c),m(c,u),Q(d,u,null),m(c,h),m(c,f),Q(p,f,null),m(c,y),m(c,w),Q($,w,null),g(t,k,e),g(t,x,e),m(x,A),C=!0},p:t,i(t){C||(Y(o.$$.fragment,t),Y(d.$$.fragment,t),Y(p.$$.fragment,t),Y($.$$.fragment,t),C=!0)},o(t){W(o.$$.fragment,t),W(d.$$.fragment,t),W(p.$$.fragment,t),W($.$$.fragment,t),C=!1},d(t){t&&v(n),tt(o),t&&v(s),t&&v(a),tt(d),tt(p),tt($),t&&v(k),t&&v(x)}}}return new class extends rt{constructor(t){super(),nt(this,t,null,er,o,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
