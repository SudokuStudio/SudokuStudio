var sudoku_studio_web=function(){"use strict";function e(e,t,n){var r,i,o,l,s;function a(){var c=Date.now()-l;c<t&&c>=0?r=setTimeout(a,t-c):(r=null,n||(s=e.apply(o,i),o=i=null))}null==t&&(t=100);var c=function(){o=this,i=arguments,l=Date.now();var c=n&&!r;return r||(r=setTimeout(a,t)),c&&(s=e.apply(o,i),o=i=null),s};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(s=e.apply(o,i),o=i=null,clearTimeout(r),r=null)},c}e.debounce=e;var t=e;function n(e){var t={exports:{}};return e(t,t.exports),t.exports}var r=n((function(e){var t=function(){var e=String.fromCharCode,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",r={};function i(e,t){if(!r[e]){r[e]={};for(var n=0;n<e.length;n++)r[e][e.charAt(n)]=n}return r[e][t]}var o={compressToBase64:function(e){if(null==e)return"";var n=o._compress(e,6,(function(e){return t.charAt(e)}));switch(n.length%4){default:case 0:return n;case 1:return n+"===";case 2:return n+"==";case 3:return n+"="}},decompressFromBase64:function(e){return null==e?"":""==e?null:o._decompress(e.length,32,(function(n){return i(t,e.charAt(n))}))},compressToUTF16:function(t){return null==t?"":o._compress(t,15,(function(t){return e(t+32)}))+" "},decompressFromUTF16:function(e){return null==e?"":""==e?null:o._decompress(e.length,16384,(function(t){return e.charCodeAt(t)-32}))},compressToUint8Array:function(e){for(var t=o.compress(e),n=new Uint8Array(2*t.length),r=0,i=t.length;r<i;r++){var l=t.charCodeAt(r);n[2*r]=l>>>8,n[2*r+1]=l%256}return n},decompressFromUint8Array:function(t){if(null==t)return o.decompress(t);for(var n=new Array(t.length/2),r=0,i=n.length;r<i;r++)n[r]=256*t[2*r]+t[2*r+1];var l=[];return n.forEach((function(t){l.push(e(t))})),o.decompress(l.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":o._compress(e,6,(function(e){return n.charAt(e)}))},decompressFromEncodedURIComponent:function(e){return null==e?"":""==e?null:(e=e.replace(/ /g,"+"),o._decompress(e.length,32,(function(t){return i(n,e.charAt(t))})))},compress:function(t){return o._compress(t,16,(function(t){return e(t)}))},_compress:function(e,t,n){if(null==e)return"";var r,i,o,l={},s={},a="",c="",u="",d=2,h=3,f=2,p=[],m=0,g=0;for(o=0;o<e.length;o+=1)if(a=e.charAt(o),Object.prototype.hasOwnProperty.call(l,a)||(l[a]=h++,s[a]=!0),c=u+a,Object.prototype.hasOwnProperty.call(l,c))u=c;else{if(Object.prototype.hasOwnProperty.call(s,u)){if(u.charCodeAt(0)<256){for(r=0;r<f;r++)m<<=1,g==t-1?(g=0,p.push(n(m)),m=0):g++;for(i=u.charCodeAt(0),r=0;r<8;r++)m=m<<1|1&i,g==t-1?(g=0,p.push(n(m)),m=0):g++,i>>=1}else{for(i=1,r=0;r<f;r++)m=m<<1|i,g==t-1?(g=0,p.push(n(m)),m=0):g++,i=0;for(i=u.charCodeAt(0),r=0;r<16;r++)m=m<<1|1&i,g==t-1?(g=0,p.push(n(m)),m=0):g++,i>>=1}0==--d&&(d=Math.pow(2,f),f++),delete s[u]}else for(i=l[u],r=0;r<f;r++)m=m<<1|1&i,g==t-1?(g=0,p.push(n(m)),m=0):g++,i>>=1;0==--d&&(d=Math.pow(2,f),f++),l[c]=h++,u=String(a)}if(""!==u){if(Object.prototype.hasOwnProperty.call(s,u)){if(u.charCodeAt(0)<256){for(r=0;r<f;r++)m<<=1,g==t-1?(g=0,p.push(n(m)),m=0):g++;for(i=u.charCodeAt(0),r=0;r<8;r++)m=m<<1|1&i,g==t-1?(g=0,p.push(n(m)),m=0):g++,i>>=1}else{for(i=1,r=0;r<f;r++)m=m<<1|i,g==t-1?(g=0,p.push(n(m)),m=0):g++,i=0;for(i=u.charCodeAt(0),r=0;r<16;r++)m=m<<1|1&i,g==t-1?(g=0,p.push(n(m)),m=0):g++,i>>=1}0==--d&&(d=Math.pow(2,f),f++),delete s[u]}else for(i=l[u],r=0;r<f;r++)m=m<<1|1&i,g==t-1?(g=0,p.push(n(m)),m=0):g++,i>>=1;0==--d&&(d=Math.pow(2,f),f++)}for(i=2,r=0;r<f;r++)m=m<<1|1&i,g==t-1?(g=0,p.push(n(m)),m=0):g++,i>>=1;for(;;){if(m<<=1,g==t-1){p.push(n(m));break}g++}return p.join("")},decompress:function(e){return null==e?"":""==e?null:o._decompress(e.length,32768,(function(t){return e.charCodeAt(t)}))},_decompress:function(t,n,r){var i,o,l,s,a,c,u,d=[],h=4,f=4,p=3,m="",g=[],v={val:r(0),position:n,index:1};for(i=0;i<3;i+=1)d[i]=i;for(l=0,a=Math.pow(2,2),c=1;c!=a;)s=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),l|=(s>0?1:0)*c,c<<=1;switch(l){case 0:for(l=0,a=Math.pow(2,8),c=1;c!=a;)s=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),l|=(s>0?1:0)*c,c<<=1;u=e(l);break;case 1:for(l=0,a=Math.pow(2,16),c=1;c!=a;)s=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),l|=(s>0?1:0)*c,c<<=1;u=e(l);break;case 2:return""}for(d[3]=u,o=u,g.push(u);;){if(v.index>t)return"";for(l=0,a=Math.pow(2,p),c=1;c!=a;)s=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),l|=(s>0?1:0)*c,c<<=1;switch(u=l){case 0:for(l=0,a=Math.pow(2,8),c=1;c!=a;)s=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),l|=(s>0?1:0)*c,c<<=1;d[f++]=e(l),u=f-1,h--;break;case 1:for(l=0,a=Math.pow(2,16),c=1;c!=a;)s=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),l|=(s>0?1:0)*c,c<<=1;d[f++]=e(l),u=f-1,h--;break;case 2:return g.join("")}if(0==h&&(h=Math.pow(2,p),p++),d[u])m=d[u];else{if(u!==f)return null;m=o+o.charAt(0)}g.push(m),d[f++]=o+m.charAt(0),o=m,0==--h&&(h=Math.pow(2,p),p++)}}};return o}();null!=e&&(e.exports=t)})),i=n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.StateManager=t.StateRef=void 0;const n="function"==typeof Object.fromEntries?Object.fromEntries:e=>{const t=Object.create(null);for(const[n,r]of e)t[n]=r;return t},r=Symbol("watchers key");function i(e,t){return null==e&&null==t||Object.is(e,t)}function o(e){return null==e?null:e}class l{constructor(e,t){this._path=[],this._stateManager=e;for(const e of t)".."===e?this._path.pop():"."===e||this._path.push(e)}path(){return[...this._path]}ref(...e){return new l(this._stateManager,[...this._path,...e])}get(){return this._stateManager.get(...this._path)}watch(e,t){return this._stateManager.watch(e,t,this._path.join("/")),e}unwatch(e){this._stateManager.unwatch(e)}replace(e){return this._stateManager.update({[this._path.join("/")]:e})}update(e){const t=this._path.join("/")+"/",r=n(Object.entries(e).map((([e,n])=>[t+e,n])));return this._stateManager.update(r)}subscribe(e){const t=this.watch(((t,n,r)=>e(r)),!0);return()=>this.unwatch(t)}set(e){this.replace(e)}}t.StateRef=l;class s{constructor(){this._data=null,this._watchers=new Map,this._watcherTreeRoot=Object.create(null)}ref(...e){return new l(this,e)}get(...e){let t=this._data;for(const n of e){if(null==t)break;if(n.includes("/"))throw Error('Path cannot contain "/", split into varargs.');t=t[n]}return o(t)}watch(e,t,...n){let r=this._watchers.get(e);null==r&&(r=new Set,this._watchers.set(e,r));for(const r of n)this._watchPattern(e,t,r);return e}unwatch(e){if(!this._watchers.has(e))throw Error("Cannot find watcher.");const t=this._watchers.get(e);this._watchers.delete(e);for(const n of t)if(!s._unwatchPattern(e,this._watcherTreeRoot,n.split("/")))throw Error(`Failed to remove watcher from pattern: ${n}.`)}update(e){if("object"!=typeof e)throw Error(`Invalid update object: ${e}`);let t=!1;const r=[],o=[];for(const[n,l]of Object.entries(e)){if(0>=n.length)throw Error("Update key cannot be empty.");const e=n.split("/"),{data:a,redo:c,undo:u}=s._updateInternal(this._data,l,e,[],[this._watcherTreeRoot]);i(this._data,a)||(t=!0,this._data=a,r.push(...c),o.push(...u))}return t?{redo:n(r),undo:n(o)}:null}_watchPattern(e,t,n){if(!n||0>=n.length)throw Error(`Pattern cannot be empty: ${n}.`);const i=n.split("/");let o=this._watcherTreeRoot;for(const e of i)"."!==e&&(Object.prototype.hasOwnProperty.call(o,e)||(o[e]=Object.create(null)),o=o[e]);(o[r]||(o[r]=new Set)).add(e),t&&s._triggerNow(this._data,i,[],e)}static _unwatchPattern(e,t,n){if(0===n.length){const n=t[r];return null!=n&&(!!n.delete(e)&&(0>=n.size&&delete t[r],!0))}const[i,...o]=n;return!("."===i&&!this._unwatchPattern(e,t,o))&&(!!Object.prototype.hasOwnProperty.call(t,i)&&(!!this._unwatchPattern(e,t[i],o)&&(0>=Object.keys(t[i]).length&&null==t[r]&&delete t[i],!0)))}static _triggerNow(e,t,n,r){if(null==e)return;if(0>=t.length){try{r(n,null,e)}catch(e){console.error("Watcher threw:",e,r)}return}if("object"!=typeof e)return;const[i,...o]=t;if("."===i)this._triggerNow(e,o,n,r);else if("*"===i)for(const[t,i]of Object.entries(e))this._triggerNow(i,o,[...n,t],r);else Object.prototype.hasOwnProperty.call(e,i)&&this._triggerNow(e[i],o,[...n,i],r)}static _updateInternal(e,t,n,l,a){const c=0>=n.length,u="object"==typeof e?e:null,d="object"==typeof t?t:null,{data:h,redo:f,undo:p}=(()=>{if(c){if(null==u&&null==d)return{data:t,undo:[],redo:[]};const n=new Set([...Object.keys(u||{}),...Object.keys(d||{})]);let r=!1;const c=Object.create(null),h=[],f=[];for(const e of n){const t=u?o(u[e]):null,n=d?o(d[e]):null,p=s._nextWatcherTrees(e,a),{data:m,redo:g,undo:v}=s._updateInternal(t,n,[],[...l,e],p);i(t,m)||(r=!0,h.push(...g),f.push(...v),c[e]=m)}if(!r)return{data:e,redo:h,undo:f};const p=Object.assign(Object.create(null),u);for(const[e,t]of Object.entries(c))null==t?delete p[e]:p[e]=t;return 0===Object.keys(p).length?{data:d||t,redo:h,undo:f}:{data:p,redo:h,undo:f}}const[r,...h]=n,f=u?o(u[r]):null,p=s._nextWatcherTrees(r,a),{data:m,redo:g,undo:v}=s._updateInternal(f,t,h,[...l,r],p);if(i(f,m))return{data:e,redo:g,undo:v};const y=Object.assign(Object.create(null),u);return null==m?delete y[r]:y[r]=m,Object.values(y).every((e=>null==e))?{data:null,redo:g,undo:v}:{data:y,redo:g,undo:v}})();if(!i(e,h)){if(null==e){if(null==h)throw"N/A";"object"==typeof h||(f.length=0,f.push([l.join("/"),h]),p.length=0,p.push([l.join("/"),null]))}else"object"==typeof e?null==h||"object"==typeof h||(f.length=0,f.push([l.join("/"),h])):null==h?(f.length=0,f.push([l.join("/"),null]),p.length=0,p.push([l.join("/"),e])):"object"==typeof h?(p.length=0,p.push([l.join("/"),e])):(f.length=0,f.push([l.join("/"),h]),p.length=0,p.push([l.join("/"),e]));for(const t of a)for(const n of t[r]||[])try{n(l,e,h)}catch(e){console.error("Watcher threw:",e,n)}return{data:h,undo:p,redo:f}}return{data:e,undo:p,redo:f}}static _nextWatcherTrees(e,t){const n=[];for(const r of t)r["*"]&&n.push(r["*"]),r[e]&&n.push(r[e]);return n}}t.StateManager=s}));const o=.01,l=.005,s=.04,a=.02;function c(e){const t=[];for(let n=0;null!=e[n];n++)t.push(e[n]);return t}function u(e,{width:t}){return[e%t,Math.floor(e/t)]}function d([e,t],{width:n}){return t*n+e}function h([e,t],{width:n,height:r},i){if(e<0||n<=e||t<0||r<=t)return null;if(i){const n=e%1-.5,r=t%1-.5;if(.5<Math.abs(n)+Math.abs(r))return null}return[Math.floor(e),Math.floor(t)]}function f([e,t],{width:n}){return t*(n+1)+e}function p(e,{width:t}){return[e%(t+1),Math.floor(e/(t+1))]}function m(e,t){const[n,r]=function(e,t){if(1==e%2){const n=.5*(e-1);return[n,n+t.width]}{const n=.5*e+Math.floor(.5*e/(t.width-1));return[n,n+1]}}(e,t),[i,o]=u(n,t),[l,s]=u(r,t);return[.5*(i+l+1),.5*(o+s+1)]}function g(e,t){const n=t.width*t.height;for(let t=0;t<n;t++)if(e[t])return t;return null}function v(e){return null==e?[]:Object.keys(e).filter((t=>null!=e[t]&&0!=e[t])).map(Number).sort()}function y(e,t,n=0){if(0>=e.length)return"";const r=[];for(const n of e){const[e,i]=u(n,t);r.push([e+.5,i+.5])}if(1===r.length&&r.push(r[0]),0<n){const e=r.length,t=r[e-1][0]-r[e-2][0],i=r[e-1][1]-r[e-2][1];r[e-1][0]+=-t*n,r[e-1][1]+=-i*n}return"M"+r.map((e=>e.join(","))).join("L")}function b({offsetX:e,offsetY:t},n){const{width:r,height:i}=n.getBoundingClientRect(),{x:o,y:l,width:s,height:a}=n.viewBox.baseVal;return[s*e/r+o,a*t/i+l]}function w(e,t,n=0){const r=new Map;{function n(e,t){const n=r.get(t);if(null==n?void 0:n.has(e))n.delete(e),0>=n.size&&r.delete(t);else{let n=r.get(e);null==n&&(n=new Set,r.set(e,n)),n.add(t)}}for(const r of e){const[e,i]=u(r,t),o=f([e,i],t),l=f([1+e,i],t),s=f([1+e,1+i],t),a=f([e,1+i],t);n(o,l),n(l,s),n(s,a),n(a,o)}}if(0>=r.size)return null;const i=[];for(;!(0>=r.size);){const[e,o]=Array.from(r.entries()).find((([e,t])=>1===t.size)),l=Array.from(o)[0];let s=p(e,t),a=p(l,t),c=l;const u=[];do{const e=r.get(c);let i=Number.NEGATIVE_INFINITY,o=-1,l=null;for(const n of e){const e=p(n,t),r=(a[0]-s[0])*(e[1]-a[1])-(a[1]-s[1])*(e[0]-a[0]);i<r&&(i=r,o=n,l=e)}if(null==l)throw"UNREACHABLE";if(e.delete(o),0>=e.size&&r.delete(c),0!==i){let[e,t]=a;t+=n*(a[0]-s[0])+i*n*(s[1]-a[1]),e+=n*(a[1]-l[1])+i*n*(l[0]-a[0]),u.push(`${e},${t}`)}s=a,a=l,c=o}while(l!==c);i.push("M"+u.join("L")+"Z")}return i.join("")}function k(e,t){return 0<=e[0]&&e[0]<t.width&&0<=e[1]&&e[1]<t.height}function _(e,t){let n,r;if(t<=4)n=e%2*.6-.3,r=.6*(e/2|0)-.3;else{const i=t/2|0;if(e<i){n=e*(.6/(i-1))-.3,r=-.3}else{n=(e-i)*(.6/(t-i-1))-.3,r=.3}}return[n,r]}const x=2*Math.PI;function $(e,t,n,r,i=.2){if(n>=r)throw Error(`INDEX ${n} must be less than SLICES ${r}.`);if(0>n)throw Error(`INDEX ${n} must be positive`);const[o,l]=u(e,t);if(1===r)return`M${o},${l}L${o+1},${l}L${o+1},${l+1}L${o},${l+1}Z`;const s=((i+n/r)%1+1)%1,a=((i+(n+1)/r)%1+1)%1,c=[.125,.375,.625,.875];let d,h;for(d=0;d<c.length&&c[d]<s;d++);for(h=0;h<c.length&&c[h]<a;h++);d%=c.length,h%=c.length;const f=[s];for(;d!==h;)f.push(c[d]),d++,d%=c.length;return f.push(a),`M${o+.5},${l+.5}L`+f.map((e=>[Math.cos(x*e),Math.sin(x*e)])).map((([e,t])=>{const n=Math.max(Math.abs(e),Math.abs(t));return[e/n,t/n]})).map((([e,t])=>[o+.5*(e+1),l+.5*(t+1)])).map((([e,t])=>`${e},${t}`)).join("L")+"Z"}function T(e,t=!0,n=!0){const r={};if(!t&&!n)return r;for(const t of Object.values(e))n&&"filled"===t.type&&Object.assign(r,t.value);for(const n of Object.values(e))if("givens"===n.type)if(t)Object.assign(r,n.value);else for(const e of Object.keys(n.value))delete r[e];return r}const H=(()=>{const e=[["M",1e3],["CM",900],["D",500],["CD",400],["C",100],["XC",90],["L",50],["XL",40],["X",10],["IX",9],["V",5],["IV",4],["I",1]];return function(t){if(0>=t)return`${t}`;let n="";for(const[i,o]of e){var r=Math.floor(t/o);t-=r*o,n+=i.repeat(r)}return n}})();function C(){}function M(e){return e()}function S(){return Object.create(null)}function A(e){e.forEach(M)}function O(e){return"function"==typeof e}function E(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function L(e,...t){if(null==e)return C;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function I(e,t,n){e.$$.on_destroy.push(L(t,n))}function D(e,t,n,r){if(e){const i=j(e,t,n,r);return e[0](i)}}function j(e,t,n,r){return e[1]&&r?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](r(t))):n.ctx}function R(e,t,n,r,i,o,l){const s=function(e,t,n,r){if(e[2]&&r){const i=e[2](r(n));if(void 0===t.dirty)return i;if("object"==typeof i){const e=[],n=Math.max(t.dirty.length,i.length);for(let r=0;r<n;r+=1)e[r]=t.dirty[r]|i[r];return e}return t.dirty|i}return t.dirty}(t,r,i,o);if(s){const i=j(t,n,r,l);e.p(i,s)}}function U(e,t,n=t){return e.set(n),t}let P,N=!1;function G(e,t,n,r){for(;e<t;){const i=e+(t-e>>1);n(i)<=r?e=i+1:t=i}return e}function F(e,t){N?(!function(e){if(e.hydrate_init)return;e.hydrate_init=!0;const t=e.childNodes,n=new Int32Array(t.length+1),r=new Int32Array(t.length);n[0]=-1;let i=0;for(let e=0;e<t.length;e++){const o=G(1,i+1,(e=>t[n[e]].claim_order),t[e].claim_order)-1;r[e]=n[o]+1;const l=o+1;n[l]=e,i=Math.max(l,i)}const o=[],l=[];let s=t.length-1;for(let e=n[i]+1;0!=e;e=r[e-1]){for(o.push(t[e-1]);s>=e;s--)l.push(t[s]);s--}for(;s>=0;s--)l.push(t[s]);o.reverse(),l.sort(((e,t)=>e.claim_order-t.claim_order));for(let t=0,n=0;t<l.length;t++){for(;n<o.length&&l[t].claim_order>=o[n].claim_order;)n++;const r=n<o.length?o[n]:null;e.insertBefore(l[t],r)}}(e),(void 0===e.actual_end_child||null!==e.actual_end_child&&e.actual_end_child.parentElement!==e)&&(e.actual_end_child=e.firstChild),t!==e.actual_end_child?e.insertBefore(t,e.actual_end_child):e.actual_end_child=t.nextSibling):t.parentNode!==e&&e.appendChild(t)}function B(e,t,n){N&&!n?F(e,t):(t.parentNode!==e||n&&t.nextSibling!==n)&&e.insertBefore(t,n||null)}function z(e){e.parentNode.removeChild(e)}function q(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function V(e){return document.createElement(e)}function X(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function K(e){return document.createTextNode(e)}function Y(){return K(" ")}function W(){return K("")}function J(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function Z(e){return function(t){return t.preventDefault(),e.call(this,t)}}function Q(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function ee(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function te(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function ne(e,t){e.value=null==t?"":t}function re(e,t,n,r){e.style.setProperty(t,n,r?"important":"")}function ie(e,t,n){e.classList[n?"add":"remove"](t)}function oe(e){P=e}function le(){if(!P)throw new Error("Function called outside component initialization");return P}function se(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach((e=>e.call(this,t)))}const ae=[],ce=[],ue=[],de=[],he=Promise.resolve();let fe=!1;function pe(e){ue.push(e)}let me=!1;const ge=new Set;function ve(){if(!me){me=!0;do{for(let e=0;e<ae.length;e+=1){const t=ae[e];oe(t),ye(t.$$)}for(oe(null),ae.length=0;ce.length;)ce.pop()();for(let e=0;e<ue.length;e+=1){const t=ue[e];ge.has(t)||(ge.add(t),t())}ue.length=0}while(ae.length);for(;de.length;)de.pop()();fe=!1,me=!1,ge.clear()}}function ye(e){if(null!==e.fragment){e.update(),A(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(pe)}}const be=new Set;let we;function ke(){we={r:0,c:[],p:we}}function _e(){we.r||A(we.c),we=we.p}function xe(e,t){e&&e.i&&(be.delete(e),e.i(t))}function $e(e,t,n,r){if(e&&e.o){if(be.has(e))return;be.add(e),we.c.push((()=>{be.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}}function Te(e,t){e.d(1),t.delete(e.key)}function He(e,t){$e(e,1,1,(()=>{t.delete(e.key)}))}function Ce(e,t,n,r,i,o,l,s,a,c,u,d){let h=e.length,f=o.length,p=h;const m={};for(;p--;)m[e[p].key]=p;const g=[],v=new Map,y=new Map;for(p=f;p--;){const e=d(i,o,p),s=n(e);let a=l.get(s);a?r&&a.p(e,t):(a=c(s,e),a.c()),v.set(s,g[p]=a),s in m&&y.set(s,Math.abs(p-m[s]))}const b=new Set,w=new Set;function k(e){xe(e,1),e.m(s,u),l.set(e.key,e),u=e.first,f--}for(;h&&f;){const t=g[f-1],n=e[h-1],r=t.key,i=n.key;t===n?(u=t.first,h--,f--):v.has(i)?!l.has(r)||b.has(r)?k(t):w.has(i)?h--:y.get(r)>y.get(i)?(w.add(r),k(t)):(b.add(i),h--):(a(n,l),h--)}for(;h--;){const t=e[h];v.has(t.key)||a(t,l)}for(;f;)k(g[f-1]);return g}function Me(e){e&&e.c()}function Se(e,t,n,r){const{fragment:i,on_mount:o,on_destroy:l,after_update:s}=e.$$;i&&i.m(t,n),r||pe((()=>{const t=o.map(M).filter(O);l?l.push(...t):A(t),e.$$.on_mount=[]})),s.forEach(pe)}function Ae(e,t){const n=e.$$;null!==n.fragment&&(A(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Oe(e,t){-1===e.$$.dirty[0]&&(ae.push(e),fe||(fe=!0,he.then(ve)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Ee(e,t,n,r,i,o,l=[-1]){const s=P;oe(e);const a=e.$$={fragment:null,ctx:null,props:o,update:C,not_equal:i,bound:S(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(s?s.$$.context:t.context||[]),callbacks:S(),dirty:l,skip_bound:!1};let c=!1;if(a.ctx=n?n(e,t.props||{},((t,n,...r)=>{const o=r.length?r[0]:n;return a.ctx&&i(a.ctx[t],a.ctx[t]=o)&&(!a.skip_bound&&a.bound[t]&&a.bound[t](o),c&&Oe(e,t)),n})):[],a.update(),c=!0,A(a.before_update),a.fragment=!!r&&r(a.ctx),t.target){if(t.hydrate){N=!0;const e=function(e){return Array.from(e.childNodes)}(t.target);a.fragment&&a.fragment.l(e),e.forEach(z)}else a.fragment&&a.fragment.c();t.intro&&xe(e.$$.fragment),Se(e,t.target,t.anchor,t.customElement),N=!1,ve()}oe(s)}class Le{$destroy(){Ae(this,1),this.$destroy=C}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Ie=[];function De(e,t){return{subscribe:je(e,t).subscribe}}function je(e,t=C){let n;const r=[];function i(t){if(E(e,t)&&(e=t,n)){const t=!Ie.length;for(let t=0;t<r.length;t+=1){const n=r[t];n[1](),Ie.push(n,e)}if(t){for(let e=0;e<Ie.length;e+=2)Ie[e][0](Ie[e+1]);Ie.length=0}}}return{set:i,update:function(t){i(t(e))},subscribe:function(o,l=C){const s=[o,l];return r.push(s),1===r.length&&(n=t(i)||C),o(e),()=>{const e=r.indexOf(s);-1!==e&&r.splice(e,1),0===r.length&&(n(),n=null)}}}}function Re(e,t,n){const r=!Array.isArray(e),i=r?[e]:e,o=t.length<2;return De(n,(e=>{let n=!1;const l=[];let s=0,a=C;const c=()=>{if(s)return;a();const n=t(r?l[0]:l,e);o?e(n):a=O(n)?n:C},u=i.map(((e,t)=>L(e,(e=>{l[t]=e,s&=~(1<<t),n&&c()}),(()=>{s|=1<<t}))));return n=!0,c(),function(){A(u),a()}}))}const Ue=je(),Pe=je(),Ne=window.boardState=new i.StateManager,Ge=Ne.ref("grid");const Fe=["filled","corner","center","colors"],Be=window.userState=new i.StateManager;Be.update({select:{},cursor:null,tool:"120",prevTool:"120",marks:{filled:"120",corner:"130",center:"140",colors:"150"},history:{},historyUndone:{}});const ze=Be.ref("select"),qe=Be.ref("cursor"),Ve=Be.ref("prevTool"),Xe=Be.ref("tool"),Ke="tool";function Ye(e){return!!e&&((0!==Object.keys(e.redo).length||0!==Object.keys(e.undo).length)&&(Be.update({[`history/${Date.now()}`]:JSON.stringify(e),historyUndone:null}),!0))}function We(e){const t=Be.get(e?"historyUndone":"history")||{},n=Object.keys(t);if(0===n.length)return!1;const r=n.reduce(((t,n)=>e!==+t>+n?t:n)),i=t[`${r}`];null==i&&(console.warn("EMPTY HISTORY ENTRY",r,i),Be.update({[`${e?"historyUndone":"history"}/${r}`]:null}),We(e));const o=JSON.parse(i);return Ne.update(e?o.redo:o.undo),Be.update({[`history/${r}`]:e?i:null,[`historyUndone/${r}`]:e?null:i}),!0}window.changeHistory=We,window.addEventListener("keydown",(e=>{if("KeyZ"===e.code&&e.ctrlKey)We(e.shiftKey);else{if("KeyY"!==e.code||!e.ctrlKey)return;We(!0)}e.preventDefault(),e.stopImmediatePropagation()}));class Je{constructor(e){this.onTap=null,this.onDrag=null,this.onDragStart=null,this.onDragEnd=null,this._prevPos=null,this._prevCell=null,this._isDown=!1,this._isTap=!1,this._interpolateOnReender=e}down(e){this.onDragStart&&this.onDragStart(e),this._isDown=!0,this._isTap=!0}move(e,t,n){this._isDown&&this._handle(e,t,n)}up(){this._isDown&&(this.onDragEnd&&this.onDragEnd(),this._prevPos=null,this._prevCell=null,this._isDown=!1)}leave(e,t,n){this._isDown&&this._handle(e,t,n)}click(e,t,n){if(this._isTap){const r=h(b(e,n),t,!1);null!=r&&this.onTap&&this.onTap({event:e,coord:r,grid:t})}}_handle(e,t,n){const r=b(e,n);if(null!=this._prevPos&&1<function(e,t){const n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}(this._prevPos,r)){for(const n of function(e,t,n){const r=Math.floor(t[0])-Math.floor(e[0]),i=Math.floor(t[1])-Math.floor(e[1]),o=Math.max(Math.abs(r),Math.abs(i)),l=[];for(let r=1;r<=o;r++){const i=r/o,s=(1-i)*e[0]+i*t[0],a=(1-i)*e[1]+i*t[1];0<=s&&s<n.width&&0<=a&&a<n.height&&l.push([Math.floor(s),Math.floor(a)])}return l}(this._prevPos,r,t))this.onDrag&&this.onDrag({event:e,coord:n,grid:t}),this._prevCell=d(n,t);this._prevPos=this._interpolateOnReender||k(r,t)?r:null,this._isTap=!1}else{const n=h(r,t,!(null==this._prevPos));null!=n?(this._prevCell!==d(n,t)&&(null!=this._prevCell&&(this._isTap=!1),this.onDrag&&this.onDrag({event:e,coord:n,grid:t}),this._prevCell=d(n,t)),this._prevPos=r):this._interpolateOnReender||k(r,t)||(this._prevCell=null,this._prevPos=null,this._isTap=!1)}}}const Ze=/^(?:Digit|Numpad)?(\d)$/,Qe={Delete:null,Backspace:null,NumpadDecimal:null};function et(e){if(e in Qe)return Qe[e];const t=Ze.exec(e);return t?Number(t[1]):void 0}const tt=new Je(!1);function nt(e,t,n,r){const{multipleDigits:i,blockedByGivens:o,blockedByFilled:l,digitMapping:s,nextMode:a}=r,c=["filled","corner","center","colors"];function h(t){let n=et(t);if(s&&null!=n&&n in s&&(n=s[n]),void 0===n)return!1;if(f(e,n))for(const e of c){const t=Be.get("marks",e);if(null==t)continue;if(!f(Ne.ref("elements",`${t}`,"value"),n))break}return!0}function f(e,t){const n=function(e=!0,t=!0){return T(Ne.get("elements")||{},e,t)}(o,l),r={};let s=!0;for(const o of v(ze.get()))null==n[o]&&(i&&null!=t?(r[`${o}/${t}`]=!0,s&&(s=!!e.ref(`${o}`,`${t}`).get())):(r[`${o}`]=t,s&&(s=t==e.ref(`${o}`).get())));if(s){if(null==t)return!0;for(const e of Object.keys(r))r[e]=null}return Ye(e.update(r)),!1}const p=new Set(["Shift","Control","Alt","Meta"]);function m(e){if("Space"===e.code)return"keydown"===e.type&&Xe.replace(Be.get("marks",a)),!0;if(!p.has(e.key))return!1;const t=Xe.get();if(e.shiftKey)e.ctrlKey||e.metaKey?Xe.replace(Be.get("marks","colors")):Xe.replace(Be.get("marks","corner"));else if(e.ctrlKey||e.metaKey)Xe.replace(Be.get("marks","center"));else{if(!e.altKey)return Xe.replace(Ve.get()),!0;Xe.replace(Be.get("marks","colors"))}return null==Ve.get()&&(Ve.replace(t),!0)}const g={ArrowLeft:[-1,0],ArrowUp:[0,-1],ArrowRight:[1,0],ArrowDown:[0,1]};return{load(){},unload(){tt.up()},blur(e){Xe.replace(Ve.get())},keydown(e){(h(e.code)||m(e)||function(e){if(!(e.code in g))return!1;const[n,r]=g[e.code];let[i,o]=u(qe.get()||0,t);i+=n+t.width,o+=r+t.height,i%=t.width,o%=t.height;const l=d([i,o],t);qe.replace(l),e.shiftKey?ze.ref(`${l}`).replace(!0):e.ctrlKey?ze.ref(`${l}`).replace(null):ze.replace({[l]:!0})}(e))&&(e.stopImmediatePropagation(),e.preventDefault())},keyup(e){m(e)&&(e.stopImmediatePropagation(),e.preventDefault())},padClick(e){h(e.currentTarget.value)},down(e){tt.down(e)},move(e){tt.move(e,t,n)},up(e){tt.up()},leave(e){tt.leave(e,t,n)},click(e){tt.click(e,t,n)}}}(()=>{let e;!function(e){e[e.RESETTING=0]="RESETTING",e[e.DYNAMIC=1]="DYNAMIC",e[e.SELECTING=2]="SELECTING",e[e.DESELCTING=3]="DESELCTING"}(e||(e={}));let t=e.RESETTING;function n(n,r){const{coord:i,grid:o}=n,l=d(i,o);if(qe.replace(l),e.RESETTING===t){const n=r&&ze.get()||{};return r&&1===Object.keys(n).length&&n[`${l}`]?ze.replace({}):ze.replace({[`${l}`]:!0}),void(t=e.SELECTING)}e.DYNAMIC===t&&(t=ze.ref(`${l}`).get()?e.DESELCTING:e.SELECTING),ze.ref(`${l}`).replace(e.SELECTING===t||null)}tt.onDragStart=n=>{var r;t=(r=n).shiftKey?e.SELECTING:r.ctrlKey||r.metaKey?e.DYNAMIC:r.altKey?e.DESELCTING:e.RESETTING},tt.onDrag=e=>{n(e,!1)},tt.onTap=e=>{n(e,!0)}})();var rt=rt||{};rt.Geometry=function(){},rt.Geometry.intersectLineLine=function(e,t){var n=(e.intercept-t.intercept)/(t.slope-e.slope);return{x:n,y:e.slope*n+e.intercept}},rt.Geometry.distanceFromOrigin=function(e){return Math.sqrt(Math.pow(e.x,2)+Math.pow(e.y,2))},rt.Geometry.distanceLineFromOrigin=function(e){return Math.abs(e.intercept)/Math.sqrt(Math.pow(e.slope,2)+1)},rt.Geometry.perpendicularThroughPoint=function(e,t){var n=-1/e.slope;return{slope:n,intercept:t.y-n*t.x}},rt.Geometry.angleFromOrigin=function(e){return Math.atan2(e.y,e.x)},rt.Geometry.normalizeAngle=function(e){var t=2*Math.PI;return(e%t+t)%t},rt.Geometry.lengthOfRayUntilIntersect=function(e,t){return t.intercept/(Math.sin(e)-t.slope*Math.cos(e))},rt.Hsluv=function(){},rt.Hsluv.getBounds=function(e){for(var t=[],n=Math.pow(e+16,3)/1560896,r=n>rt.Hsluv.epsilon?n:e/rt.Hsluv.kappa,i=0;i<3;)for(var o=i++,l=rt.Hsluv.m[o][0],s=rt.Hsluv.m[o][1],a=rt.Hsluv.m[o][2],c=0;c<2;){var u=c++,d=(284517*l-94839*a)*r,h=(838422*a+769860*s+731718*l)*e*r-769860*u*e,f=(632260*a-126452*s)*r+126452*u;t.push({slope:d/f,intercept:h/f})}return t},rt.Hsluv.maxSafeChromaForL=function(e){for(var t=rt.Hsluv.getBounds(e),n=1/0,r=0;r<t.length;){var i=t[r];++r;var o=rt.Geometry.distanceLineFromOrigin(i);n=Math.min(n,o)}return n},rt.Hsluv.maxChromaForLH=function(e,t){for(var n=t/360*Math.PI*2,r=rt.Hsluv.getBounds(e),i=1/0,o=0;o<r.length;){var l=r[o];++o;var s=rt.Geometry.lengthOfRayUntilIntersect(n,l);s>=0&&(i=Math.min(i,s))}return i},rt.Hsluv.dotProduct=function(e,t){for(var n=0,r=0,i=e.length;r<i;){var o=r++;n+=e[o]*t[o]}return n},rt.Hsluv.fromLinear=function(e){return e<=.0031308?12.92*e:1.055*Math.pow(e,.4166666666666667)-.055},rt.Hsluv.toLinear=function(e){return e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92},rt.Hsluv.xyzToRgb=function(e){return[rt.Hsluv.fromLinear(rt.Hsluv.dotProduct(rt.Hsluv.m[0],e)),rt.Hsluv.fromLinear(rt.Hsluv.dotProduct(rt.Hsluv.m[1],e)),rt.Hsluv.fromLinear(rt.Hsluv.dotProduct(rt.Hsluv.m[2],e))]},rt.Hsluv.rgbToXyz=function(e){var t=[rt.Hsluv.toLinear(e[0]),rt.Hsluv.toLinear(e[1]),rt.Hsluv.toLinear(e[2])];return[rt.Hsluv.dotProduct(rt.Hsluv.minv[0],t),rt.Hsluv.dotProduct(rt.Hsluv.minv[1],t),rt.Hsluv.dotProduct(rt.Hsluv.minv[2],t)]},rt.Hsluv.yToL=function(e){return e<=rt.Hsluv.epsilon?e/rt.Hsluv.refY*rt.Hsluv.kappa:116*Math.pow(e/rt.Hsluv.refY,.3333333333333333)-16},rt.Hsluv.lToY=function(e){return e<=8?rt.Hsluv.refY*e/rt.Hsluv.kappa:rt.Hsluv.refY*Math.pow((e+16)/116,3)},rt.Hsluv.xyzToLuv=function(e){var t=e[0],n=e[1],r=t+15*n+3*e[2],i=4*t,o=9*n;0!=r?(i/=r,o/=r):(i=NaN,o=NaN);var l=rt.Hsluv.yToL(n);return 0==l?[0,0,0]:[l,13*l*(i-rt.Hsluv.refU),13*l*(o-rt.Hsluv.refV)]},rt.Hsluv.luvToXyz=function(e){var t=e[0],n=e[1],r=e[2];if(0==t)return[0,0,0];var i=n/(13*t)+rt.Hsluv.refU,o=r/(13*t)+rt.Hsluv.refV,l=rt.Hsluv.lToY(t),s=0-9*l*i/((i-4)*o-i*o);return[s,l,(9*l-15*o*l-o*s)/(3*o)]},rt.Hsluv.luvToLch=function(e){var t,n=e[0],r=e[1],i=e[2],o=Math.sqrt(r*r+i*i);o<1e-8?t=0:(t=180*Math.atan2(i,r)/Math.PI)<0&&(t=360+t);return[n,o,t]},rt.Hsluv.lchToLuv=function(e){var t=e[0],n=e[1],r=e[2]/360*2*Math.PI;return[t,Math.cos(r)*n,Math.sin(r)*n]},rt.Hsluv.hsluvToLch=function(e){var t=e[0],n=e[1],r=e[2];return r>99.9999999?[100,0,t]:r<1e-8?[0,0,t]:[r,rt.Hsluv.maxChromaForLH(r,t)/100*n,t]},rt.Hsluv.lchToHsluv=function(e){var t=e[0],n=e[1],r=e[2];return t>99.9999999?[r,0,100]:t<1e-8?[r,0,0]:[r,n/rt.Hsluv.maxChromaForLH(t,r)*100,t]},rt.Hsluv.hpluvToLch=function(e){var t=e[0],n=e[1],r=e[2];return r>99.9999999?[100,0,t]:r<1e-8?[0,0,t]:[r,rt.Hsluv.maxSafeChromaForL(r)/100*n,t]},rt.Hsluv.lchToHpluv=function(e){var t=e[0],n=e[1],r=e[2];return t>99.9999999?[r,0,100]:t<1e-8?[r,0,0]:[r,n/rt.Hsluv.maxSafeChromaForL(t)*100,t]},rt.Hsluv.rgbToHex=function(e){for(var t="#",n=0;n<3;){var r=e[n++],i=Math.round(255*r),o=i%16,l=(i-o)/16|0;t+=rt.Hsluv.hexChars.charAt(l)+rt.Hsluv.hexChars.charAt(o)}return t},rt.Hsluv.hexToRgb=function(e){e=e.toLowerCase();for(var t=[],n=0;n<3;){var r=n++,i=16*rt.Hsluv.hexChars.indexOf(e.charAt(2*r+1))+rt.Hsluv.hexChars.indexOf(e.charAt(2*r+2));t.push(i/255)}return t},rt.Hsluv.lchToRgb=function(e){return rt.Hsluv.xyzToRgb(rt.Hsluv.luvToXyz(rt.Hsluv.lchToLuv(e)))},rt.Hsluv.rgbToLch=function(e){return rt.Hsluv.luvToLch(rt.Hsluv.xyzToLuv(rt.Hsluv.rgbToXyz(e)))},rt.Hsluv.hsluvToRgb=function(e){return rt.Hsluv.lchToRgb(rt.Hsluv.hsluvToLch(e))},rt.Hsluv.rgbToHsluv=function(e){return rt.Hsluv.lchToHsluv(rt.Hsluv.rgbToLch(e))},rt.Hsluv.hpluvToRgb=function(e){return rt.Hsluv.lchToRgb(rt.Hsluv.hpluvToLch(e))},rt.Hsluv.rgbToHpluv=function(e){return rt.Hsluv.lchToHpluv(rt.Hsluv.rgbToLch(e))},rt.Hsluv.hsluvToHex=function(e){return rt.Hsluv.rgbToHex(rt.Hsluv.hsluvToRgb(e))},rt.Hsluv.hpluvToHex=function(e){return rt.Hsluv.rgbToHex(rt.Hsluv.hpluvToRgb(e))},rt.Hsluv.hexToHsluv=function(e){return rt.Hsluv.rgbToHsluv(rt.Hsluv.hexToRgb(e))},rt.Hsluv.hexToHpluv=function(e){return rt.Hsluv.rgbToHpluv(rt.Hsluv.hexToRgb(e))},rt.Hsluv.m=[[3.240969941904521,-1.537383177570093,-.498610760293],[-.96924363628087,1.87596750150772,.041555057407175],[.055630079696993,-.20397695888897,1.056971514242878]],rt.Hsluv.minv=[[.41239079926595,.35758433938387,.18048078840183],[.21263900587151,.71516867876775,.072192315360733],[.019330818715591,.11919477979462,.95053215224966]],rt.Hsluv.refY=1,rt.Hsluv.refU=.19783000664283,rt.Hsluv.refV=.46831999493879,rt.Hsluv.kappa=903.2962962,rt.Hsluv.epsilon=.0088564516,rt.Hsluv.hexChars="0123456789abcdef";var it={hsluvToRgb:rt.Hsluv.hsluvToRgb,rgbToHsluv:rt.Hsluv.rgbToHsluv,hpluvToRgb:rt.Hsluv.hpluvToRgb,rgbToHpluv:rt.Hsluv.rgbToHpluv,hsluvToHex:rt.Hsluv.hsluvToHex,hexToHsluv:rt.Hsluv.hexToHsluv,hpluvToHex:rt.Hsluv.hpluvToHex,hexToHpluv:rt.Hsluv.hexToHpluv,lchToHpluv:rt.Hsluv.lchToHpluv,hpluvToLch:rt.Hsluv.hpluvToLch,lchToHsluv:rt.Hsluv.lchToHsluv,hsluvToLch:rt.Hsluv.hsluvToLch,lchToLuv:rt.Hsluv.lchToLuv,luvToLch:rt.Hsluv.luvToLch,xyzToLuv:rt.Hsluv.xyzToLuv,luvToXyz:rt.Hsluv.luvToXyz,xyzToRgb:rt.Hsluv.xyzToRgb,rgbToXyz:rt.Hsluv.rgbToXyz,lchToRgb:rt.Hsluv.lchToRgb,rgbToLch:rt.Hsluv.rgbToLch};function ot(e,t,n,r){const{deletePrioritizeHead:i,deletePrioritizeTail:o}=r,l=new Je(!0);let s=null;const a=[];return l.onDragStart=t=>{a.length=0,s=e.ref(`${Date.now()}_${Math.random()}`)},l.onDrag=e=>{if(null==s)throw"UNREACHABLE";const{coord:t,grid:n}=e,r=d(t,n),i=a.indexOf(r);0<=i?a.length=i+1:a.push(r),s.replace(a.length>1?a:null)},l.onDragEnd=()=>{if(null==s)throw new Error("Line handler, onDragEnd NULL lineRef.");if(1>=a.length)s.replace(null);else{const e=s.path().join("/"),t={redo:{},undo:{[e]:null}};for(let n=0;n<a.length;n++)t.redo[`${e}/${n}`]=a[n];Ye(t)}s=null},l.onTap=t=>{const{coord:n,grid:r}=t,l=d(n,r);let s=null;for(const[t,n]of Object.entries(e.get()||{})){const e=c(n);if(i&&l===e[0]){s=t;break}if(o&&l===e[e.length-1]){s=t;break}e.includes(l)&&(s=t)}null==s||Ye(e.ref(`${s}`).replace(null))},{load(){ze.replace(null),qe.replace(null)},unload(){l.up()},blur(e){},keydown(e){},keyup(e){},padClick(e){},down(e){l.down(e)},move(e){l.move(e,t,n)},up(e){l.up()},leave(e){l.leave(e,t,n)},click(e){l.click(e,t,n)}}}function lt(e,t,n){const r=new Je(!0);let i;function o(t){return void 0===i&&(i=!e.ref(`${t}`).get()||null),i}const l={redo:{},undo:{}};return r.onDragStart=e=>{i=void 0},r.onDrag=t=>{const{coord:n,grid:r}=t,i=d(n,r),s=e.ref(`${i}`).replace(o(i));null!=s&&(Object.assign(l.redo,s.redo),Object.assign(l.undo,s.undo))},r.onDragEnd=()=>{Ye(l),l.redo={},l.undo={}},r.onTap=t=>{const{coord:n,grid:r}=t,i=d(n,r);Ye(e.ref(`${i}`).replace(o(i)))},{load(){ze.replace(null),qe.replace(null)},unload(){r.up()},blur(e){},keydown(e){},keyup(e){},padClick(e){},down(e){r.down(e)},move(e){r.move(e,t,n)},up(e){r.up()},leave(e){r.leave(e,t,n)},click(e){r.click(e,t,n)}}}function st(e,t,n,r={max:10}){const i=r.keymap||{},{max:o}=r;let l=null;function s(e){if(null==l)return!1;let t;if(t=e in i?i[e]:et(e),void 0===t)return!1;const n=l.get();if(null!=t&&"number"==typeof n){const e=10*n+t;e<o&&(t=e)}return Ye(l.replace(null!=t?t:!0!==n||null)),!0}return{load(){ze.replace(null),qe.replace(null)},unload(){},blur(e){},keydown(e){s(e.code)&&(e.stopImmediatePropagation(),e.preventDefault())},keyup(e){},padClick(e){s(e.currentTarget.value)&&(e.stopImmediatePropagation(),e.preventDefault())},down(e){},move(e){},up(e){},leave(e){},click(r){const i=function([e,t],{width:n,height:r}){const i=Math.abs(t%1-.5)>=Math.abs(e%1-.5),o=n-+!i,l=r-+i,s=Math.floor(t-.5*+i),a=Math.floor(e-.5*+!i);return a<0||o<=a||s<0||l<=s?null:2*(o*s+a)+ +i}(b(r,n),t);if(null==i)return;const o=e.ref(`${i}`);!0!==o.get()?(l=o,s("Delete")):o.replace(null)}}}const at={givens:{getInputHandler:(e,t,n)=>nt(e,t,n,{multipleDigits:!1,blockedByGivens:!1,blockedByFilled:!1,nextMode:"corner"}),order:220,permanent:!0,inGlobalMenu:!1,menu:{type:"select",name:"Given",icon:"given"}},filled:{getInputHandler:(e,t,n)=>nt(e,t,n,{multipleDigits:!1,blockedByGivens:!0,blockedByFilled:!1,nextMode:"corner"}),order:210},center:{getInputHandler:(e,t,n)=>nt(e,t,n,{multipleDigits:!0,blockedByGivens:!0,blockedByFilled:!0,nextMode:"colors"}),order:200},corner:{getInputHandler:(e,t,n)=>nt(e,t,n,{multipleDigits:!0,blockedByGivens:!0,blockedByFilled:!0,nextMode:"center"}),order:200},colors:{getInputHandler:(e,t,n)=>nt(e,t,n,{multipleDigits:!0,blockedByGivens:!1,blockedByFilled:!1,nextMode:"filled",digitMapping:["#111111","#666666","#b2b2b2",it.hsluvToHex([10,100,60]),it.hsluvToHex([40,100,65]),it.hsluvToHex([70,100,92]),it.hsluvToHex([120,100,80]),it.hsluvToHex([230,100,85]),it.hsluvToHex([260,100,55]),it.hsluvToHex([300,100,70])]}),order:15},grid:{order:101,permanent:!0},box:{order:100,permanent:!0},thermo:{getInputHandler:(e,t,n)=>ot(e,t,n,{deletePrioritizeHead:!0,deletePrioritizeTail:!1}),order:30,inGlobalMenu:!1,menu:{type:"select",name:"Thermo",icon:"thermo"}},between:{getInputHandler:(e,t,n)=>ot(e,t,n,{deletePrioritizeHead:!0,deletePrioritizeTail:!0}),order:50,inGlobalMenu:!1,menu:{type:"select",name:"Between",icon:"between"}},diagonal:{inGlobalMenu:!0,order:0,menu:{type:"checkbox",name:"Diagonals",checkbox:[{name:"Positive Diagonal",icon:"positive-diagonal",refPath:"positive"},{name:"Negative Diagonal",icon:"negative-diagonal",refPath:"negative"}]}},arrow:null,sandwich:null,min:{getInputHandler:lt,order:20,inGlobalMenu:!1,menu:{type:"select",name:"Min",icon:"min"}},max:{getInputHandler:lt,order:21,inGlobalMenu:!1,menu:{type:"select",name:"Max",icon:"max"}},killer:null,quadruple:{getInputHandler:function(e,t,n){const r=[];let i=null;function o(e){if(null==i)return!1;const t=et(e);if(void 0===t)return!1;if(null==t){if(!0===i.get()){return Ye(i.replace(null)),!0}r.length=0}else{if(4<=r.length)return!1;r.push(t),r.sort()}return Ye(i.replace(!(0<r.length)||r)),!0}return{load(){ze.replace(null),qe.replace(null)},unload(){},blur(e){},keydown(e){o(e.code)&&(e.stopImmediatePropagation(),e.preventDefault())},keyup(e){},padClick(e){o(e.currentTarget.value)&&(e.stopImmediatePropagation(),e.preventDefault())},down(e){},move(e){},up(e){},leave(e){},click(r){const l=function([e,t],{width:n,height:r}){const i=Math.round(e),o=Math.round(t);return i<0||n<i||o<0||r<o?null:[i,o]}(b(r,n),t);if(null==l)return;const s=f(l,t),a=e.ref(`${s}`);!0!==a.get()?(i=a,o("Delete")):a.replace(null)}}},order:110,inGlobalMenu:!1,menu:{type:"select",name:"Quadruple",icon:"quadruple"}},difference:{getInputHandler:st,order:140,inGlobalMenu:!1,menu:{type:"select",name:"Difference",icon:"kropki"}},ratio:{getInputHandler:st,order:141,inGlobalMenu:!1,menu:{type:"select",name:"Ratio",icon:"kropki"}},xv:{getInputHandler:(e,t,n)=>st(e,t,n,{keymap:{KeyX:10,KeyV:5},max:100}),order:130,inGlobalMenu:!1,menu:{type:"select",name:"XV Sum",icon:"xv"}},knight:{inGlobalMenu:!0,order:0,menu:{type:"checkbox",name:"Antiknight",checkbox:{name:"Antiknight",icon:"knight"}}},king:{inGlobalMenu:!0,order:0,menu:{type:"checkbox",name:"Antiking",checkbox:{name:"Antiking",icon:"king"}}},disjointGroups:{inGlobalMenu:!0,order:0,menu:{type:"checkbox",name:"Disjoint Groups",checkbox:{name:"Disjoint Groups",icon:"disjoint"}}},consecutive:{inGlobalMenu:!0,order:0,menu:{type:"checkbox",name:"Nonconsecutive",checkbox:[{name:"Nonconsecutive Orthogonal Neighbors",icon:"consec-orth",refPath:"orth"},{name:"Nonconsecutive Diagonal Neighbors",icon:"consec-diag",refPath:"diag"}]}},selfTaxicab:{inGlobalMenu:!0,order:0,menu:{type:"checkbox",name:"Self-Taxicab",checkbox:{name:"Self-Taxicab",icon:"cityblock"}}}};function ct(e,t){if(!(e in at))throw Error(`Cannot add unknown element type: ${e}.`);const n=at[e];if(null==n)throw Error(`Cannot add unimplmeneted element type: ${e}.`);return{type:e,order:n.order,value:t}}function ut(e){for(const[t,{type:n}]of Object.entries(e.elements))Fe.includes(n)&&(Be.ref("marks",n).replace(t),"filled"===n&&(Be.ref("tool").replace(t),Be.ref("prevTool").replace(t)))}function dt(e){var t;console.log(e);const n=encodeURIComponent((null===(t=/^title:\s*['"](.*?)['"]?$/m.exec(e))||void 0===t?void 0:t[1])||"");let r=e.slice(3+e.lastIndexOf("---"));return r=r.replace("Sudoku Studio version:","Sudoku Studio version: 398794a"),r=r.replace("Browser version:",`Browser version: ${navigator.userAgent}`),r=r.replace("Operating system:",`Operating system: ${navigator.platform}`),r=encodeURIComponent(r),`https://github.com/SudokuStudio/SudokuStudio/issues/new?title=${n}&body=${r}`}const ht=dt("---\nname: Bug report\nabout: Create a report to help us improve\ntitle: \"[ðŸ› Bug] \"\nlabels: bug\nassignees: ''\n---\n### Bug Description\n\n### Steps To Reproduce\n1.\n\n### Screenshots\n\x3c!-- if applicable --\x3e\n\n### Version info\nSudoku Studio version:\nBrowser version:\nOperating system:\n"),ft=dt("---\nname: Feature request\nabout: Suggest an idea for this project\ntitle: \"[âœ¨ Feature Request] \"\nlabels: enhancement\nassignees: ''\n---\n### Request Description\n\n### Related Features & Alternatives Considered\n\x3c!-- If any --\x3e\n");function pt(e,t,n){let{id:r}=t,{ref:i}=t,{grid:o}=t;return e.$$set=e=>{"id"in e&&n(0,r=e.id),"ref"in e&&n(1,i=e.ref),"grid"in e&&n(2,o=e.grid)},[r,i,o]}console.log(ht),console.log(ft);class mt extends Le{constructor(e){super(),Ee(this,e,pt,null,E,{id:0,ref:1,grid:2})}}function gt(e,t,n){const r=e.slice();return r[5]=t[n].idx,r[6]=t[n].slices,r}function vt(e,t,n){const r=e.slice();return r[9]=t[n].d,r[10]=t[n].fill,r}function yt(e){let t,n,r;return{c(){t=X("path"),ee(t,"d",n=e[9]),ee(t,"fill",r=e[10]),ee(t,"fill-opacity","0.6"),ee(t,"stroke","none")},m(e,n){B(e,t,n)},p(e,i){4&i&&n!==(n=e[9])&&ee(t,"d",n),4&i&&r!==(r=e[10])&&ee(t,"fill",r)},d(e){e&&z(t)}}}function bt(e,t){let n,r,i=t[6],o=[];for(let e=0;e<i.length;e+=1)o[e]=yt(vt(t,i,e));return{key:e,first:null,c(){n=X("g");for(let e=0;e<o.length;e+=1)o[e].c();ee(n,"id",r="colors-"+t[0]+"-"+t[5]),this.first=n},m(e,t){B(e,n,t);for(let e=0;e<o.length;e+=1)o[e].m(n,null)},p(e,l){if(t=e,12&l){let e;for(i=t[6],e=0;e<i.length;e+=1){const r=vt(t,i,e);o[e]?o[e].p(r,l):(o[e]=yt(r),o[e].c(),o[e].m(n,null))}for(;e<o.length;e+=1)o[e].d(1);o.length=i.length}5&l&&r!==(r="colors-"+t[0]+"-"+t[5])&&ee(n,"id",r)},d(e){e&&z(n),q(o,e)}}}function wt(e){let t,n=[],r=new Map,i=e[3](e[2]||{});const o=e=>e[5];for(let t=0;t<i.length;t+=1){let l=gt(e,i,t),s=o(l);r.set(s,n[t]=bt(s,l))}return{c(){t=X("g");for(let e=0;e<n.length;e+=1)n[e].c();ee(t,"id",e[0])},m(e,r){B(e,t,r);for(let e=0;e<n.length;e+=1)n[e].m(t,null)},p(e,[l]){13&l&&(i=e[3](e[2]||{}),n=Ce(n,l,o,1,e,i,r,t,Te,bt,null,gt)),1&l&&ee(t,"id",e[0])},i:C,o:C,d(e){e&&z(t);for(let e=0;e<n.length;e+=1)n[e].d()}}}function kt(e,t,n){let r,i=C,o=()=>(i(),i=L(s,(e=>n(2,r=e))),s);e.$$.on_destroy.push((()=>i()));let{id:l}=t,{ref:s}=t;o();let{grid:a}=t;return e.$$set=e=>{"id"in e&&n(0,l=e.id),"ref"in e&&o(n(1,s=e.ref)),"grid"in e&&n(4,a=e.grid)},[l,s,r,function(e){const t=[];for(const[n,r]of Object.entries(e)){const e=Object.keys(r||{});e.sort(((e,t)=>{const n=it.hexToHsluv(e),r=it.hexToHsluv(t);return Math.round(.06*(n[0]-r[0]))||n[2]-r[2]}));const i=e.map(((e,t,r)=>({fill:e,d:$(+n,a,t,r.length)})));t.push({idx:+n,slices:i})}return t},a]}function _t(e,t,n){const r=e.slice();return r[5]=t[n].idx,r[6]=t[n].x,r[7]=t[n].y,r[8]=t[n].nums,r}function xt(e,t){let n,r,i,o,l,s=t[8].join("")+"";return{key:e,first:null,c(){n=X("text"),r=K(s),ee(n,"x",i=t[6]),ee(n,"y",o=t[7]),ee(n,"fill","#4e72b0"),ee(n,"text-anchor","middle"),ee(n,"dominant-baseline","central"),ee(n,"font-size","0.3"),ee(n,"font-weight","600"),ee(n,"textLength",l=t[8].length>5?"0.9":void 0),ee(n,"lengthAdjust","spacingAndGlyphs"),this.first=n},m(e,t){B(e,n,t),F(n,r)},p(e,a){t=e,4&a&&s!==(s=t[8].join("")+"")&&te(r,s),4&a&&i!==(i=t[6])&&ee(n,"x",i),4&a&&o!==(o=t[7])&&ee(n,"y",o),4&a&&l!==(l=t[8].length>5?"0.9":void 0)&&ee(n,"textLength",l)},d(e){e&&z(n)}}}function $t(e){let t,n=[],r=new Map,i=e[3](e[2]||{});const o=e=>e[5];for(let t=0;t<i.length;t+=1){let l=_t(e,i,t),s=o(l);r.set(s,n[t]=xt(s,l))}return{c(){t=X("g");for(let e=0;e<n.length;e+=1)n[e].c();ee(t,"id",e[0]),ee(t,"mask","url(#SUDOKU_MASK_GIVENS_FILLED)")},m(e,r){B(e,t,r);for(let e=0;e<n.length;e+=1)n[e].m(t,null)},p(e,[l]){12&l&&(i=e[3](e[2]||{}),n=Ce(n,l,o,1,e,i,r,t,Te,xt,null,_t)),1&l&&ee(t,"id",e[0])},i:C,o:C,d(e){e&&z(t);for(let e=0;e<n.length;e+=1)n[e].d()}}}function Tt(e,t,n){let r,i=C,o=()=>(i(),i=L(s,(e=>n(2,r=e))),s);e.$$.on_destroy.push((()=>i()));let{id:l}=t,{ref:s}=t;o();let{grid:a}=t;return e.$$set=e=>{"id"in e&&n(0,l=e.id),"ref"in e&&o(n(1,s=e.ref)),"grid"in e&&n(4,a=e.grid)},[l,s,r,function(e){const t=[];for(const[n,r]of Object.entries(e)){const[e,i]=u(+n,a).map((e=>e+.5));t.push({idx:+n,x:e,y:i,nums:v(r)})}return t},a]}function Ht(e,t,n){const r=e.slice();return r[5]=t[n].idx,r[6]=t[n].nums,r}function Ct(e,t,n){const r=e.slice();return r[9]=t[n].x,r[10]=t[n].y,r[11]=t[n].num,r}function Mt(e){let t,n,r,i,o=e[11]+"";return{c(){t=X("text"),n=K(o),ee(t,"x",r=e[9]),ee(t,"y",i=e[10]),ee(t,"fill","#4e72b0"),ee(t,"text-anchor","middle"),ee(t,"dominant-baseline","central"),ee(t,"font-size","0.3"),ee(t,"font-weight","600")},m(e,r){B(e,t,r),F(t,n)},p(e,l){4&l&&o!==(o=e[11]+"")&&te(n,o),4&l&&r!==(r=e[9])&&ee(t,"x",r),4&l&&i!==(i=e[10])&&ee(t,"y",i)},d(e){e&&z(t)}}}function St(e,t){let n,r,i=t[6],o=[];for(let e=0;e<i.length;e+=1)o[e]=Mt(Ct(t,i,e));return{key:e,first:null,c(){n=W();for(let e=0;e<o.length;e+=1)o[e].c();r=W(),this.first=n},m(e,t){B(e,n,t);for(let n=0;n<o.length;n+=1)o[n].m(e,t);B(e,r,t)},p(e,n){if(t=e,12&n){let e;for(i=t[6],e=0;e<i.length;e+=1){const l=Ct(t,i,e);o[e]?o[e].p(l,n):(o[e]=Mt(l),o[e].c(),o[e].m(r.parentNode,r))}for(;e<o.length;e+=1)o[e].d(1);o.length=i.length}},d(e){e&&z(n),q(o,e),e&&z(r)}}}function At(e){let t,n=[],r=new Map,i=e[3](e[2]||{});const o=e=>e[5];for(let t=0;t<i.length;t+=1){let l=Ht(e,i,t),s=o(l);r.set(s,n[t]=St(s,l))}return{c(){t=X("g");for(let e=0;e<n.length;e+=1)n[e].c();ee(t,"id",e[0]),ee(t,"mask","url(#SUDOKU_MASK_GIVENS_FILLED)")},m(e,r){B(e,t,r);for(let e=0;e<n.length;e+=1)n[e].m(t,null)},p(e,[l]){12&l&&(i=e[3](e[2]||{}),n=Ce(n,l,o,1,e,i,r,t,Te,St,null,Ht)),1&l&&ee(t,"id",e[0])},i:C,o:C,d(e){e&&z(t);for(let e=0;e<n.length;e+=1)n[e].d()}}}function Ot(e,t,n){let r,i=C,o=()=>(i(),i=L(s,(e=>n(2,r=e))),s);e.$$.on_destroy.push((()=>i()));let{id:l}=t,{ref:s}=t;o();let{grid:a}=t;return e.$$set=e=>{"id"in e&&n(0,l=e.id),"ref"in e&&o(n(1,s=e.ref)),"grid"in e&&n(4,a=e.grid)},[l,s,r,function(e){const t=[];for(const[n,r]of Object.entries(e)){const e=u(+n,a)[0]+.5,i=u(+n,a)[1]+.5,o=!0===r?[]:v(r).map(((t,n,r)=>{const[o,l]=_(n,r.length);return{x:e+o,y:i+l,num:t}}));t.push({idx:+n,nums:o})}return t},a]}function Et(e){let t,n,r,i,o,l,s,a,c,u,d,h,f,p,m,g,v,y,b,w,k,_,x;return{c(){t=X("filter"),n=X("feGaussianBlur"),r=X("feComponentTransfer"),i=X("feFuncR"),o=X("feFuncG"),l=X("feFuncB"),s=X("feFuncA"),c=Y(),u=X("mask"),d=X("rect"),p=X("path"),b=Y(),w=X("g"),k=X("path"),_=X("path"),ee(n,"in","SourceGraphic"),ee(n,"stdDeviation",It),ee(i,"type","identity"),ee(o,"type","identity"),ee(l,"type","identity"),ee(s,"type","linear"),ee(s,"slope","20"),ee(s,"intercept","-9.5"),ee(t,"id",a="select-"+e[0]+"-blur"),ee(d,"x","0"),ee(d,"y","0"),ee(d,"width",h=e[1].width),ee(d,"height",f=e[1].height),ee(d,"fill",Dt),ee(p,"d",e[2]),ee(p,"fill",jt),ee(p,"stroke","none"),ee(p,"filter",m="url(#select-"+e[0]+"-blur)"),ee(u,"id",g="select-"+e[0]+"-mask"),ee(u,"maskUnits","userSpaceOnUse"),ee(u,"x","0"),ee(u,"y","0"),ee(u,"width",v=e[1].width),ee(u,"height",y=e[1].height),ee(k,"d",e[3]),ee(k,"fill",Lt),ee(k,"stroke","none"),ee(_,"d",e[4]),ee(_,"fill",Lt),ee(_,"stroke","none"),ee(_,"mask",x="url(#select-"+e[0]+"-mask)"),ee(w,"id",e[0])},m(e,a){B(e,t,a),F(t,n),F(t,r),F(r,i),F(r,o),F(r,l),F(r,s),B(e,c,a),B(e,u,a),F(u,d),F(u,p),B(e,b,a),B(e,w,a),F(w,k),F(w,_)},p(e,[n]){1&n&&a!==(a="select-"+e[0]+"-blur")&&ee(t,"id",a),2&n&&h!==(h=e[1].width)&&ee(d,"width",h),2&n&&f!==(f=e[1].height)&&ee(d,"height",f),4&n&&ee(p,"d",e[2]),1&n&&m!==(m="url(#select-"+e[0]+"-blur)")&&ee(p,"filter",m),1&n&&g!==(g="select-"+e[0]+"-mask")&&ee(u,"id",g),2&n&&v!==(v=e[1].width)&&ee(u,"width",v),2&n&&y!==(y=e[1].height)&&ee(u,"height",y),8&n&&ee(k,"d",e[3]),16&n&&ee(_,"d",e[4]),1&n&&x!==(x="url(#select-"+e[0]+"-mask)")&&ee(_,"mask",x),1&n&&ee(w,"id",e[0])},i:C,o:C,d(e){e&&z(t),e&&z(c),e&&z(u),e&&z(b),e&&z(w)}}}const Lt="#08f",It=.05,Dt="#b2b2b2",jt="#080808";function Rt(e,t,n){let r,i,o,{id:l}=t,{ref:s}=t,{grid:a}=t;const c=Re(s.ref("cursor"),(e=>{if(null==e)return"";const[t,n]=u(e,a);return`M${t},${n}L${t+.2},${n}L${t},${n+.2}Z`}));I(e,c,(e=>n(3,i=e)));const d=s.ref("select"),h=Re(d,(e=>w(v(e),a,.075)||void 0));I(e,h,(e=>n(2,r=e)));const f=Re(d,(e=>w(v(e),a,0)||void 0));return I(e,f,(e=>n(4,o=e))),e.$$set=e=>{"id"in e&&n(0,l=e.id),"ref"in e&&n(8,s=e.ref),"grid"in e&&n(1,a=e.grid)},[l,a,r,i,o,c,h,f,s]}class Ut extends Le{constructor(e){super(),Ee(this,e,Rt,Et,E,{id:0,ref:8,grid:1})}}function Pt(e){let t,n,r,i,o,l,s;return{c(){t=X("g"),n=X("line"),o=X("line"),ee(n,"x1","0"),ee(n,"y1",r=e[1].height),ee(n,"x2",i=e[1].width),ee(n,"y2","0"),ee(n,"class","svelte-1qd4hgf"),ie(n,"hide",!e[2]),ee(o,"x1","0"),ee(o,"y1","0"),ee(o,"x2",l=e[1].width),ee(o,"y2",s=e[1].height),ee(o,"class","svelte-1qd4hgf"),ie(o,"hide",!e[3]),ee(t,"id",e[0])},m(e,r){B(e,t,r),F(t,n),F(t,o)},p(e,[a]){2&a&&r!==(r=e[1].height)&&ee(n,"y1",r),2&a&&i!==(i=e[1].width)&&ee(n,"x2",i),4&a&&ie(n,"hide",!e[2]),2&a&&l!==(l=e[1].width)&&ee(o,"x2",l),2&a&&s!==(s=e[1].height)&&ee(o,"y2",s),8&a&&ie(o,"hide",!e[3]),1&a&&ee(t,"id",e[0])},i:C,o:C,d(e){e&&z(t)}}}function Nt(e,t,n){let r,i,{id:o}=t,{ref:l}=t,{grid:s}=t;const a=l.ref("positive");I(e,a,(e=>n(2,r=e)));const c=l.ref("negative");return I(e,c,(e=>n(3,i=e))),e.$$set=e=>{"id"in e&&n(0,o=e.id),"ref"in e&&n(6,l=e.ref),"grid"in e&&n(1,s=e.grid)},[o,s,r,i,a,c,l]}function Gt(e,t,n){const r=e.slice();return r[13]=t[n].idx,r[14]=t[n].x,r[15]=t[n].y,r[16]=t[n].text,r}function Ft(e,t){let n,r,i,o,l,s,a,c=t[16]+"";return{key:e,first:null,c(){n=X("circle"),o=X("text"),l=K(c),ee(n,"cx",r=t[14]),ee(n,"cy",i=t[15]),ee(n,"r",t[5]),ee(n,"fill",t[3]),ee(n,"stroke",t[2]),ee(n,"stroke-width",t[6]),ee(o,"x",s=t[14]),ee(o,"y",a=t[15]),ee(o,"text-anchor","middle"),ee(o,"dominant-baseline","central"),ee(o,"fill",t[4]),ee(o,"font-size",t[7]),ee(o,"font-weight",t[8]),this.first=n},m(e,t){B(e,n,t),B(e,o,t),F(o,l)},p(e,u){t=e,512&u&&r!==(r=t[14])&&ee(n,"cx",r),512&u&&i!==(i=t[15])&&ee(n,"cy",i),32&u&&ee(n,"r",t[5]),8&u&&ee(n,"fill",t[3]),4&u&&ee(n,"stroke",t[2]),64&u&&ee(n,"stroke-width",t[6]),512&u&&c!==(c=t[16]+"")&&te(l,c),512&u&&s!==(s=t[14])&&ee(o,"x",s),512&u&&a!==(a=t[15])&&ee(o,"y",a),16&u&&ee(o,"fill",t[4]),128&u&&ee(o,"font-size",t[7]),256&u&&ee(o,"font-weight",t[8])},d(e){e&&z(n),e&&z(o)}}}function Bt(e){let t,n=[],r=new Map,i=e[10](e[9]||{});const o=e=>e[13];for(let t=0;t<i.length;t+=1){let l=Gt(e,i,t),s=o(l);r.set(s,n[t]=Ft(s,l))}return{c(){t=X("g");for(let e=0;e<n.length;e+=1)n[e].c();ee(t,"id",e[0])},m(e,r){B(e,t,r);for(let e=0;e<n.length;e+=1)n[e].m(t,null)},p(e,[l]){2044&l&&(i=e[10](e[9]||{}),n=Ce(n,l,o,1,e,i,r,t,Te,Ft,null,Gt)),1&l&&ee(t,"id",e[0])},i:C,o:C,d(e){e&&z(t);for(let e=0;e<n.length;e+=1)n[e].d()}}}function zt(e,t,n){let r,i=C,o=()=>(i(),i=L(s,(e=>n(9,r=e))),s);e.$$.on_destroy.push((()=>i()));let{id:l}=t,{ref:s}=t;o();let{grid:a}=t,{stroke:c="#242424"}=t,{fill:u="#fff"}=t,{textColor:d="#000"}=t,{radius:h=.15}=t,{strokeWidth:f=.02}=t,{fontSize:p=.25}=t,{fontWeight:g=600}=t,{mapDigits:v=(e=>!0!==e?`${e}`:"")}=t;return e.$$set=e=>{"id"in e&&n(0,l=e.id),"ref"in e&&o(n(1,s=e.ref)),"grid"in e&&n(11,a=e.grid),"stroke"in e&&n(2,c=e.stroke),"fill"in e&&n(3,u=e.fill),"textColor"in e&&n(4,d=e.textColor),"radius"in e&&n(5,h=e.radius),"strokeWidth"in e&&n(6,f=e.strokeWidth),"fontSize"in e&&n(7,p=e.fontSize),"fontWeight"in e&&n(8,g=e.fontWeight),"mapDigits"in e&&n(12,v=e.mapDigits)},[l,s,c,u,d,h,f,p,g,r,function(e){const t=[];for(const[n,r]of Object.entries(e)){const e=v(r),[i,o]=m(+n,a);t.push({idx:+n,x:i,y:o,text:e})}return t},a,v]}class qt extends Le{constructor(e){super(),Ee(this,e,zt,Bt,E,{id:0,ref:1,grid:11,stroke:2,fill:3,textColor:4,radius:5,strokeWidth:6,fontSize:7,fontWeight:8,mapDigits:12})}}function Vt(e,t,n){const r=e.slice();return r[5]=t[n].idx,r[6]=t[n].x,r[7]=t[n].y,r[8]=t[n].lines,r}function Xt(e,t,n){const r=e.slice();return r[11]=t[n],r[13]=n,r}function Kt(e){let t,n,r,i,o=e[11]+"";return{c(){t=X("text"),n=K(o),ee(t,"x",r=e[6]),ee(t,"y",i=e[7]+.9*en*(e[13]-.5*(e[8].length-1))),ee(t,"text-anchor","middle"),ee(t,"dominant-baseline","central"),ee(t,"font-size",en),ee(t,"font-weight","600")},m(e,r){B(e,t,r),F(t,n)},p(e,l){4&l&&o!==(o=e[11]+"")&&te(n,o),4&l&&r!==(r=e[6])&&ee(t,"x",r),4&l&&i!==(i=e[7]+.9*en*(e[13]-.5*(e[8].length-1)))&&ee(t,"y",i)},d(e){e&&z(t)}}}function Yt(e,t){let n,r,i,o,l=t[8],s=[];for(let e=0;e<l.length;e+=1)s[e]=Kt(Xt(t,l,e));return{key:e,first:null,c(){n=X("circle");for(let e=0;e<s.length;e+=1)s[e].c();o=W(),ee(n,"cx",r=t[6]),ee(n,"cy",i=t[7]),ee(n,"r",Jt),ee(n,"fill","#fff"),ee(n,"stroke","#000"),ee(n,"stroke-width",Zt),this.first=n},m(e,t){B(e,n,t);for(let n=0;n<s.length;n+=1)s[n].m(e,t);B(e,o,t)},p(e,a){if(t=e,4&a&&r!==(r=t[6])&&ee(n,"cx",r),4&a&&i!==(i=t[7])&&ee(n,"cy",i),12&a){let e;for(l=t[8],e=0;e<l.length;e+=1){const n=Xt(t,l,e);s[e]?s[e].p(n,a):(s[e]=Kt(n),s[e].c(),s[e].m(o.parentNode,o))}for(;e<s.length;e+=1)s[e].d(1);s.length=l.length}},d(e){e&&z(n),q(s,e),e&&z(o)}}}function Wt(e){let t,n=[],r=new Map,i=e[3](e[2]||{});const o=e=>e[5];for(let t=0;t<i.length;t+=1){let l=Vt(e,i,t),s=o(l);r.set(s,n[t]=Yt(s,l))}return{c(){t=X("g");for(let e=0;e<n.length;e+=1)n[e].c();ee(t,"id",e[0])},m(e,r){B(e,t,r);for(let e=0;e<n.length;e+=1)n[e].m(t,null)},p(e,[l]){12&l&&(i=e[3](e[2]||{}),n=Ce(n,l,o,1,e,i,r,t,Te,Yt,null,Vt)),1&l&&ee(t,"id",e[0])},i:C,o:C,d(e){e&&z(t);for(let e=0;e<n.length;e+=1)n[e].d()}}}const Jt=.2125,Zt=.02,Qt=/.{1,2}/g,en=.2;function tn(e,t,n){let r,i=C,o=()=>(i(),i=L(s,(e=>n(2,r=e))),s);e.$$.on_destroy.push((()=>i()));let{id:l}=t,{ref:s}=t;o();let{grid:a}=t;return e.$$set=e=>{"id"in e&&n(0,l=e.id),"ref"in e&&o(n(1,s=e.ref)),"grid"in e&&n(4,a=e.grid)},[l,s,r,function(e){const t=[];for(const[n,r]of Object.entries(e)){const[e,i]=p(+n,a),o=c(r).join("").match(Qt)||[];t.push({idx:+n,x:e,y:i,lines:o})}return t},a]}function nn(e,t,n){const r=e.slice();return r[5]=t[n].cageId,r[6]=t[n].sum,r[7]=t[n].labelPos,r[8]=t[n].d,r}function rn(e,t,n){const r=e.slice();return r[5]=t[n].cageId,r[6]=t[n].sum,r[7]=t[n].labelPos,r}function on(e,t){let n,r,i,o;return{key:e,first:null,c(){n=X("rect"),ee(n,"x",r=t[7].x),ee(n,"y",i=t[7].y),ee(n,"width",o=.7*`${t[6]}`.length*cn),ee(n,"height",1.1*cn),ee(n,"fill","#000"),this.first=n},m(e,t){B(e,n,t)},p(e,l){t=e,8&l&&r!==(r=t[7].x)&&ee(n,"x",r),8&l&&i!==(i=t[7].y)&&ee(n,"y",i),8&l&&o!==(o=.7*`${t[6]}`.length*cn)&&ee(n,"width",o)},d(e){e&&z(n)}}}function ln(e,t){let n,r,i,o,l,s,a,c=t[6]+"";return{key:e,first:null,c(){n=X("text"),r=K(c),l=X("path"),ee(n,"x",i=t[7].x),ee(n,"y",o=t[7].y),ee(n,"text-anchor","start"),ee(n,"dominant-baseline","hanging"),ee(n,"font-size",cn),ee(n,"font-weight","600"),ee(l,"d",s=t[8]),ee(l,"fill","none"),ee(l,"stroke","#000"),ee(l,"stroke-width",un),ee(l,"stroke-dasharray","0.075 0.04"),ee(l,"mask",a="url(#killer-"+t[0]+"-mask)"),this.first=n},m(e,t){B(e,n,t),F(n,r),B(e,l,t)},p(e,u){t=e,8&u&&c!==(c=t[6]+"")&&te(r,c),8&u&&i!==(i=t[7].x)&&ee(n,"x",i),8&u&&o!==(o=t[7].y)&&ee(n,"y",o),8&u&&s!==(s=t[8])&&ee(l,"d",s),1&u&&a!==(a="url(#killer-"+t[0]+"-mask)")&&ee(l,"mask",a)},d(e){e&&z(n),e&&z(l)}}}function sn(e){let t,n,r,i,o,l,s,a,c,u=[],d=new Map,h=[],f=new Map,p=e[4](e[3]||{});const m=e=>e[5];for(let t=0;t<p.length;t+=1){let n=rn(e,p,t),r=m(n);d.set(r,u[t]=on(r,n))}let g=e[4](e[3]||{});const v=e=>e[5];for(let t=0;t<g.length;t+=1){let n=nn(e,g,t),r=v(n);f.set(r,h[t]=ln(r,n))}return{c(){t=X("mask"),n=X("rect");for(let e=0;e<u.length;e+=1)u[e].c();a=Y(),c=X("g");for(let e=0;e<h.length;e+=1)h[e].c();ee(n,"x","0"),ee(n,"y","0"),ee(n,"width",r=e[2].width),ee(n,"height",i=e[2].height),ee(n,"fill","#fff"),ee(t,"id",o="killer-"+e[0]+"-mask"),ee(t,"maskUnits","userSpaceOnUse"),ee(t,"maskContentUnits","userSpaceOnUse"),ee(t,"x","0"),ee(t,"y","0"),ee(t,"width",l=e[2].width),ee(t,"height",s=e[2].height),ee(c,"id",e[0])},m(e,r){B(e,t,r),F(t,n);for(let e=0;e<u.length;e+=1)u[e].m(t,null);B(e,a,r),B(e,c,r);for(let e=0;e<h.length;e+=1)h[e].m(c,null)},p(e,[a]){4&a&&r!==(r=e[2].width)&&ee(n,"width",r),4&a&&i!==(i=e[2].height)&&ee(n,"height",i),24&a&&(p=e[4](e[3]||{}),u=Ce(u,a,m,1,e,p,d,t,Te,on,null,rn)),1&a&&o!==(o="killer-"+e[0]+"-mask")&&ee(t,"id",o),4&a&&l!==(l=e[2].width)&&ee(t,"width",l),4&a&&s!==(s=e[2].height)&&ee(t,"height",s),25&a&&(g=e[4](e[3]||{}),h=Ce(h,a,v,1,e,g,f,c,Te,ln,null,nn)),1&a&&ee(c,"id",e[0])},i:C,o:C,d(e){e&&z(t);for(let e=0;e<u.length;e+=1)u[e].d();e&&z(a),e&&z(c);for(let e=0;e<h.length;e+=1)h[e].d()}}}const an=.075,cn=.2,un=.015;function dn(e,t,n){let r,i=C,o=()=>(i(),i=L(s,(e=>n(3,r=e))),s);e.$$.on_destroy.push((()=>i()));let{id:l}=t,{ref:s}=t;o();let{grid:a}=t;return e.$$set=e=>{"id"in e&&n(0,l=e.id),"ref"in e&&o(n(1,s=e.ref)),"grid"in e&&n(2,a=e.grid)},[l,s,a,r,function(e){const t=[];for(const[n,{sum:r,cells:i}]of Object.entries(e)){const e=g(i,a),o=w(v(i),a,an);if(null!=o&&null!=e){const i=u(e,a),l={x:i[0]+an-un,y:i[1]+an-un};t.push({cageId:n,sum:r,labelPos:l,d:o})}}return t}]}function hn(e,t,n){const r=e.slice();return r[4]=t[n][0],r[5]=t[n][1],r}function fn(e,t,n){const r=e.slice();return r[4]=t[n][0],r[5]=t[n][1],r}function pn(e,t,n){const r=e.slice();return r[4]=t[n][0],r[5]=t[n][1],r}function mn(e,t){let n,r,i;return{key:e,first:null,c(){n=X("use"),ee(n,"href",r="#max-"+t[0]+"-maskitem"),ee(n,"transform",i="translate("+u(+t[4],t[2])[0]+","+u(+t[4],t[2])[1]+")"),ee(n,"fill","#000"),this.first=n},m(e,t){B(e,n,t)},p(e,o){t=e,1&o&&r!==(r="#max-"+t[0]+"-maskitem")&&ee(n,"href",r),12&o&&i!==(i="translate("+u(+t[4],t[2])[0]+","+u(+t[4],t[2])[1]+")")&&ee(n,"transform",i)},d(e){e&&z(n)}}}function gn(e,t){let n,r,i;return{key:e,first:null,c(){n=X("rect"),ee(n,"x",r=u(+t[4],t[2])[0]),ee(n,"y",i=u(+t[4],t[2])[1]),ee(n,"width","1"),ee(n,"height","1"),ee(n,"fill","#7d3737"),ee(n,"fill-opacity","0.1"),this.first=n},m(e,t){B(e,n,t)},p(e,o){t=e,12&o&&r!==(r=u(+t[4],t[2])[0])&&ee(n,"x",r),12&o&&i!==(i=u(+t[4],t[2])[1])&&ee(n,"y",i)},d(e){e&&z(n)}}}function vn(e,t){let n,r,i;return{key:e,first:null,c(){n=X("use"),ee(n,"href",r="#max-"+t[0]),ee(n,"transform",i="translate("+u(+t[4],t[2])[0]+","+u(+t[4],t[2])[1]+")"),this.first=n},m(e,t){B(e,n,t)},p(e,o){t=e,1&o&&r!==(r="#max-"+t[0])&&ee(n,"href",r),12&o&&i!==(i="translate("+u(+t[4],t[2])[0]+","+u(+t[4],t[2])[1]+")")&&ee(n,"transform",i)},d(e){e&&z(n)}}}function yn(e){let t,n,r,i,o,l,s,a,c,u,d,h,f,p,m,g,v,y,b,w,k,_=[],x=new Map,$=[],T=new Map,H=[],M=new Map,S=Object.entries(e[3]||{});const A=e=>e[4];for(let t=0;t<S.length;t+=1){let n=pn(e,S,t),r=A(n);x.set(r,_[t]=mn(r,n))}let O=Object.entries(e[3]||{});const E=e=>e[4];for(let t=0;t<O.length;t+=1){let n=fn(e,O,t),r=E(n);T.set(r,$[t]=gn(r,n))}let L=Object.entries(e[3]||{});const I=e=>e[4];for(let t=0;t<L.length;t+=1){let n=hn(e,L,t),r=I(n);M.set(r,H[t]=vn(r,n))}return{c(){t=X("path"),r=Y(),i=X("path"),l=Y(),s=X("mask"),a=X("rect");for(let e=0;e<_.length;e+=1)_[e].c();p=Y(),m=X("rect"),y=Y(),b=X("g");for(let e=0;e<$.length;e+=1)$[e].c();w=X("g");for(let e=0;e<H.length;e+=1)H[e].c();ee(t,"id",n="max-"+e[0]),ee(t,"d","M 0.12,0.38 L 0.08,0.50 L 0.12,0.62 M 0.38,0.12 L 0.50,0.08 L 0.62,0.12 M 0.88,0.62 L 0.92,0.50 L 0.88,0.38 M 0.62,0.88 L 0.50,0.92 L 0.38,0.88"),ee(t,"fill","none"),ee(t,"stroke","#000"),ee(t,"stroke-width","0.025"),ee(t,"stroke-miterlimit","1.5"),ee(i,"id",o="max-"+e[0]+"-maskitem"),ee(i,"d","M -0.5,0.5 L 0.5,-0.5 L 1.5,0.5 L 0.5,1.5 M 0,0 L 0,1 L 1,1 L 1,0"),ee(i,"fill","#000"),ee(a,"x","0.25"),ee(a,"y","0.25"),ee(a,"width",c=e[2].width-.5),ee(a,"height",u=e[2].height-.5),ee(a,"fill","#fff"),ee(s,"id",d="max-"+e[0]+"-mask"),ee(s,"maskUnits","userSpaceOnUse"),ee(s,"maskContentUnits","userSpaceOnUse"),ee(s,"x","0"),ee(s,"y","0"),ee(s,"width",h=e[2].width),ee(s,"height",f=e[2].height),ee(m,"width",g=e[2].width),ee(m,"height",v=e[2].height),ee(m,"fill","#fff"),ee(w,"mask",k="url(#max-"+e[0]+"-mask)"),ee(b,"id",e[0])},m(e,n){B(e,t,n),B(e,r,n),B(e,i,n),B(e,l,n),B(e,s,n),F(s,a);for(let e=0;e<_.length;e+=1)_[e].m(s,null);B(e,p,n),B(e,m,n),B(e,y,n),B(e,b,n);for(let e=0;e<$.length;e+=1)$[e].m(b,null);F(b,w);for(let e=0;e<H.length;e+=1)H[e].m(w,null)},p(e,[r]){1&r&&n!==(n="max-"+e[0])&&ee(t,"id",n),1&r&&o!==(o="max-"+e[0]+"-maskitem")&&ee(i,"id",o),4&r&&c!==(c=e[2].width-.5)&&ee(a,"width",c),4&r&&u!==(u=e[2].height-.5)&&ee(a,"height",u),13&r&&(S=Object.entries(e[3]||{}),_=Ce(_,r,A,1,e,S,x,s,Te,mn,null,pn)),1&r&&d!==(d="max-"+e[0]+"-mask")&&ee(s,"id",d),4&r&&h!==(h=e[2].width)&&ee(s,"width",h),4&r&&f!==(f=e[2].height)&&ee(s,"height",f),4&r&&g!==(g=e[2].width)&&ee(m,"width",g),4&r&&v!==(v=e[2].height)&&ee(m,"height",v),12&r&&(O=Object.entries(e[3]||{}),$=Ce($,r,E,1,e,O,T,b,Te,gn,w,fn)),13&r&&(L=Object.entries(e[3]||{}),H=Ce(H,r,I,1,e,L,M,w,Te,vn,null,hn)),1&r&&k!==(k="url(#max-"+e[0]+"-mask)")&&ee(w,"mask",k),1&r&&ee(b,"id",e[0])},i:C,o:C,d(e){e&&z(t),e&&z(r),e&&z(i),e&&z(l),e&&z(s);for(let e=0;e<_.length;e+=1)_[e].d();e&&z(p),e&&z(m),e&&z(y),e&&z(b);for(let e=0;e<$.length;e+=1)$[e].d();for(let e=0;e<H.length;e+=1)H[e].d()}}}function bn(e,t,n){let r,i=C,o=()=>(i(),i=L(s,(e=>n(3,r=e))),s);e.$$.on_destroy.push((()=>i()));let{id:l}=t,{ref:s}=t;o();let{grid:a}=t;return e.$$set=e=>{"id"in e&&n(0,l=e.id),"ref"in e&&o(n(1,s=e.ref)),"grid"in e&&n(2,a=e.grid)},[l,s,a,r]}function wn(e,t,n){const r=e.slice();return r[4]=t[n][0],r[5]=t[n][1],r}function kn(e,t,n){const r=e.slice();return r[4]=t[n][0],r[5]=t[n][1],r}function _n(e,t,n){const r=e.slice();return r[4]=t[n][0],r[5]=t[n][1],r}function xn(e,t){let n,r,i;return{key:e,first:null,c(){n=X("use"),ee(n,"href",r="#min-"+t[0]+"-maskitem"),ee(n,"transform",i="translate("+u(+t[4],t[2])[0]+","+u(+t[4],t[2])[1]+")"),ee(n,"fill","#000"),this.first=n},m(e,t){B(e,n,t)},p(e,o){t=e,1&o&&r!==(r="#min-"+t[0]+"-maskitem")&&ee(n,"href",r),12&o&&i!==(i="translate("+u(+t[4],t[2])[0]+","+u(+t[4],t[2])[1]+")")&&ee(n,"transform",i)},d(e){e&&z(n)}}}function $n(e,t){let n,r,i;return{key:e,first:null,c(){n=X("rect"),ee(n,"x",r=u(+t[4],t[2])[0]),ee(n,"y",i=u(+t[4],t[2])[1]),ee(n,"width","1"),ee(n,"height","1"),ee(n,"fill","#694b7d"),ee(n,"fill-opacity","0.1"),this.first=n},m(e,t){B(e,n,t)},p(e,o){t=e,12&o&&r!==(r=u(+t[4],t[2])[0])&&ee(n,"x",r),12&o&&i!==(i=u(+t[4],t[2])[1])&&ee(n,"y",i)},d(e){e&&z(n)}}}function Tn(e,t){let n,r,i;return{key:e,first:null,c(){n=X("use"),ee(n,"href",r="#min-"+t[0]),ee(n,"transform",i="translate("+u(+t[4],t[2])[0]+","+u(+t[4],t[2])[1]+")"),this.first=n},m(e,t){B(e,n,t)},p(e,o){t=e,1&o&&r!==(r="#min-"+t[0])&&ee(n,"href",r),12&o&&i!==(i="translate("+u(+t[4],t[2])[0]+","+u(+t[4],t[2])[1]+")")&&ee(n,"transform",i)},d(e){e&&z(n)}}}function Hn(e){let t,n,r,i,o,l,s,a,c,u,d,h,f,p,m,g,v,y,b,w,k,_=[],x=new Map,$=[],T=new Map,H=[],M=new Map,S=Object.entries(e[3]||{});const A=e=>e[4];for(let t=0;t<S.length;t+=1){let n=_n(e,S,t),r=A(n);x.set(r,_[t]=xn(r,n))}let O=Object.entries(e[3]||{});const E=e=>e[4];for(let t=0;t<O.length;t+=1){let n=kn(e,O,t),r=E(n);T.set(r,$[t]=$n(r,n))}let L=Object.entries(e[3]||{});const I=e=>e[4];for(let t=0;t<L.length;t+=1){let n=wn(e,L,t),r=I(n);M.set(r,H[t]=Tn(r,n))}return{c(){t=X("path"),r=Y(),i=X("path"),l=Y(),s=X("mask"),a=X("rect");for(let e=0;e<_.length;e+=1)_[e].c();p=Y(),m=X("rect"),y=Y(),b=X("g");for(let e=0;e<$.length;e+=1)$[e].c();w=X("g");for(let e=0;e<H.length;e+=1)H[e].c();ee(t,"id",n="min-"+e[0]),ee(t,"d","M 0.08,0.38 L 0.12,0.50 L 0.08,0.62 M 0.38,0.08 L 0.50,0.12 L 0.62,0.08 M 0.92,0.62 L 0.88,0.50 L 0.92,0.38 M 0.62,0.92 L 0.50,0.88 L 0.38,0.92"),ee(t,"fill","none"),ee(t,"stroke","#000"),ee(t,"stroke-width","0.025"),ee(t,"stroke-miterlimit","1.5"),ee(i,"id",o="min-"+e[0]+"-maskitem"),ee(i,"d","M -0.5,0.5 L 0.5,-0.5 L 1.5,0.5 L 0.5,1.5 M 0,0 L 0,1 L 1,1 L 1,0"),ee(i,"fill","#000"),ee(a,"x","0.25"),ee(a,"y","0.25"),ee(a,"width",c=e[2].width-.5),ee(a,"height",u=e[2].height-.5),ee(a,"fill","#fff"),ee(s,"id",d="min-"+e[0]+"-mask"),ee(s,"maskUnits","userSpaceOnUse"),ee(s,"maskContentUnits","userSpaceOnUse"),ee(s,"x","0"),ee(s,"y","0"),ee(s,"width",h=e[2].width),ee(s,"height",f=e[2].height),ee(m,"width",g=e[2].width),ee(m,"height",v=e[2].height),ee(m,"fill","#fff"),ee(w,"mask",k="url(#min-"+e[0]+"-mask)"),ee(b,"id",e[0])},m(e,n){B(e,t,n),B(e,r,n),B(e,i,n),B(e,l,n),B(e,s,n),F(s,a);for(let e=0;e<_.length;e+=1)_[e].m(s,null);B(e,p,n),B(e,m,n),B(e,y,n),B(e,b,n);for(let e=0;e<$.length;e+=1)$[e].m(b,null);F(b,w);for(let e=0;e<H.length;e+=1)H[e].m(w,null)},p(e,[r]){1&r&&n!==(n="min-"+e[0])&&ee(t,"id",n),1&r&&o!==(o="min-"+e[0]+"-maskitem")&&ee(i,"id",o),4&r&&c!==(c=e[2].width-.5)&&ee(a,"width",c),4&r&&u!==(u=e[2].height-.5)&&ee(a,"height",u),13&r&&(S=Object.entries(e[3]||{}),_=Ce(_,r,A,1,e,S,x,s,Te,xn,null,_n)),1&r&&d!==(d="min-"+e[0]+"-mask")&&ee(s,"id",d),4&r&&h!==(h=e[2].width)&&ee(s,"width",h),4&r&&f!==(f=e[2].height)&&ee(s,"height",f),4&r&&g!==(g=e[2].width)&&ee(m,"width",g),4&r&&v!==(v=e[2].height)&&ee(m,"height",v),12&r&&(O=Object.entries(e[3]||{}),$=Ce($,r,E,1,e,O,T,b,Te,$n,w,kn)),13&r&&(L=Object.entries(e[3]||{}),H=Ce(H,r,I,1,e,L,M,w,Te,Tn,null,wn)),1&r&&k!==(k="url(#min-"+e[0]+"-mask)")&&ee(w,"mask",k),1&r&&ee(b,"id",e[0])},i:C,o:C,d(e){e&&z(t),e&&z(r),e&&z(i),e&&z(l),e&&z(s);for(let e=0;e<_.length;e+=1)_[e].d();e&&z(p),e&&z(m),e&&z(y),e&&z(b);for(let e=0;e<$.length;e+=1)$[e].d();for(let e=0;e<H.length;e+=1)H[e].d()}}}function Cn(e,t,n){let r,i=C,o=()=>(i(),i=L(s,(e=>n(3,r=e))),s);e.$$.on_destroy.push((()=>i()));let{id:l}=t,{ref:s}=t;o();let{grid:a}=t;return e.$$set=e=>{"id"in e&&n(0,l=e.id),"ref"in e&&o(n(1,s=e.ref)),"grid"in e&&n(2,a=e.grid)},[l,s,a,r]}function Mn(e,t,n){const r=e.slice();return r[5]=t[n].arrowId,r[6]=t[n].dBulb,r[7]=t[n].dBody,r}function Sn(e,t){let n,r,i,o,l,s,a,c,u,d,h,f,p,m;return{key:e,first:null,c(){n=X("mask"),r=X("rect"),l=X("path"),c=X("path"),h=X("path"),ee(r,"width",i=t[2].width),ee(r,"height",o=t[2].height),ee(r,"fill","#fff"),ee(l,"d",s=t[6]),ee(l,"fill","none"),ee(l,"stroke","#000"),ee(l,"stroke-width",2*On-En),ee(l,"stroke-linejoin","round"),ee(l,"stroke-linecap","round"),ee(n,"id",a="arrow-"+t[0]+"-mask-"+t[5]),ee(n,"maskUnits","userSpaceOnUse"),ee(c,"d",u=t[6]),ee(c,"fill","none"),ee(c,"stroke","#000"),ee(c,"stroke-width",2*On+En),ee(c,"mask",d="url(#arrow-"+t[0]+"-mask-"+t[5]+")"),ee(c,"stroke-linejoin","round"),ee(c,"stroke-linecap","round"),ee(h,"d",f=t[7]),ee(h,"fill","none"),ee(h,"stroke","#000"),ee(h,"stroke-width",Ln),ee(h,"mask",p="url(#arrow-"+t[0]+"-mask-"+t[5]+")"),ee(h,"stroke-miterlimit","1.5"),ee(h,"marker-end",m="url(#arrow-bulb-"+t[0]+")"),this.first=n},m(e,t){B(e,n,t),F(n,r),F(n,l),B(e,c,t),B(e,h,t)},p(e,g){t=e,4&g&&i!==(i=t[2].width)&&ee(r,"width",i),4&g&&o!==(o=t[2].height)&&ee(r,"height",o),8&g&&s!==(s=t[6])&&ee(l,"d",s),9&g&&a!==(a="arrow-"+t[0]+"-mask-"+t[5])&&ee(n,"id",a),8&g&&u!==(u=t[6])&&ee(c,"d",u),9&g&&d!==(d="url(#arrow-"+t[0]+"-mask-"+t[5]+")")&&ee(c,"mask",d),8&g&&f!==(f=t[7])&&ee(h,"d",f),9&g&&p!==(p="url(#arrow-"+t[0]+"-mask-"+t[5]+")")&&ee(h,"mask",p),1&g&&m!==(m="url(#arrow-bulb-"+t[0]+")")&&ee(h,"marker-end",m)},d(e){e&&z(n),e&&z(c),e&&z(h)}}}function An(e){let t,n,r,i,o,l=[],s=new Map,a=e[4](e[3]||{});const c=e=>e[5];for(let t=0;t<a.length;t+=1){let n=Mn(e,a,t),r=c(n);s.set(r,l[t]=Sn(r,n))}return{c(){t=X("marker"),n=X("path"),i=Y(),o=X("g");for(let e=0;e<l.length;e+=1)l[e].c();ee(n,"d","M 0.4,0.425 L 0.5,0.5 L 0.4,0.575"),ee(n,"fill","none"),ee(n,"stroke","#000"),ee(n,"stroke-width",Ln),ee(t,"id",r="arrow-bulb-"+e[0]),ee(t,"viewBox","0 0 1 1"),ee(t,"refX","0.5"),ee(t,"refY","0.5"),ee(t,"markerUnits","userSpaceOnUse"),ee(t,"markerWidth","1"),ee(t,"markerHeight","1"),ee(t,"orient","auto"),ee(o,"id",e[0])},m(e,r){B(e,t,r),F(t,n),B(e,i,r),B(e,o,r);for(let e=0;e<l.length;e+=1)l[e].m(o,null)},p(e,[n]){1&n&&r!==(r="arrow-bulb-"+e[0])&&ee(t,"id",r),29&n&&(a=e[4](e[3]||{}),l=Ce(l,n,c,1,e,a,s,o,Te,Sn,null,Mn)),1&n&&ee(o,"id",e[0])},i:C,o:C,d(e){e&&z(t),e&&z(i),e&&z(o);for(let e=0;e<l.length;e+=1)l[e].d()}}}const On=.375,En=.025,Ln=.025;function In(e,t,n){let r,i=C,o=()=>(i(),i=L(s,(e=>n(3,r=e))),s);e.$$.on_destroy.push((()=>i()));let{id:l}=t,{ref:s}=t;o();let{grid:a}=t;return e.$$set=e=>{"id"in e&&n(0,l=e.id),"ref"in e&&o(n(1,s=e.ref)),"grid"in e&&n(2,a=e.grid)},[l,s,a,r,function(e){const t=[];for(const[n,r]of Object.entries(e)){const e=r.bulb||r.head||{},i=r.body||{},o=y(c(e),a),l=y(c(i),a);t.push({arrowId:n,dBulb:o,dBody:l})}return t}]}function Dn(e,t,n){const r=e.slice();return r[6]=t[n].itemId,r[7]=t[n].d,r}function jn(e,t,n){const r=e.slice();return r[6]=t[n].itemId,r[10]=t[n].head,r[11]=t[n].tail,r}function Rn(e,t){let n,r,i,o,l,s;return{key:e,first:null,c(){n=X("circle"),o=X("circle"),ee(n,"cx",r=t[10][0]+.5),ee(n,"cy",i=t[10][1]+.5),ee(n,"r",Nn-.5*Gn),ee(n,"fill","#000"),ee(n,"stroke","none"),ee(o,"cx",l=t[11][0]+.5),ee(o,"cy",s=t[11][1]+.5),ee(o,"r",Nn-.5*Gn),ee(o,"fill","#000"),ee(o,"stroke","none"),this.first=n},m(e,t){B(e,n,t),B(e,o,t)},p(e,a){t=e,4&a&&r!==(r=t[10][0]+.5)&&ee(n,"cx",r),4&a&&i!==(i=t[10][1]+.5)&&ee(n,"cy",i),4&a&&l!==(l=t[11][0]+.5)&&ee(o,"cx",l),4&a&&s!==(s=t[11][1]+.5)&&ee(o,"cy",s)},d(e){e&&z(n),e&&z(o)}}}function Un(e,t){let n,r,i,o,l;return{key:e,first:null,c(){n=X("path"),ee(n,"d",r=t[7]),ee(n,"fill","none"),ee(n,"stroke","#c18bb7"),ee(n,"stroke-linejoin","round"),ee(n,"stroke-linecap","round"),ee(n,"stroke-width",Fn),ee(n,"mask",i="url(#between-"+t[0]+"-mask)"),ee(n,"marker-start",o="url(#between-bulb-"+t[0]+")"),ee(n,"marker-end",l="url(#between-bulb-"+t[0]+")"),this.first=n},m(e,t){B(e,n,t)},p(e,s){t=e,4&s&&r!==(r=t[7])&&ee(n,"d",r),1&s&&i!==(i="url(#between-"+t[0]+"-mask)")&&ee(n,"mask",i),1&s&&o!==(o="url(#between-bulb-"+t[0]+")")&&ee(n,"marker-start",o),1&s&&l!==(l="url(#between-bulb-"+t[0]+")")&&ee(n,"marker-end",l)},d(e){e&&z(n)}}}function Pn(e){let t,n,r,i,o,l,s,a,c,u,d,h,f,p=[],m=new Map,g=[],v=new Map,y=e[2];const b=e=>e[6];for(let t=0;t<y.length;t+=1){let n=jn(e,y,t),r=b(n);m.set(r,p[t]=Rn(r,n))}let w=e[2];const k=e=>e[6];for(let t=0;t<w.length;t+=1){let n=Dn(e,w,t),r=k(n);v.set(r,g[t]=Un(r,n))}return{c(){t=X("marker"),n=X("circle"),i=Y(),o=X("mask"),l=X("rect");for(let e=0;e<p.length;e+=1)p[e].c();h=Y(),f=X("g");for(let e=0;e<g.length;e+=1)g[e].c();ee(n,"cx","0.5"),ee(n,"cy","0.5"),ee(n,"r",Nn+.5*Gn),ee(n,"fill","#000"),ee(t,"id",r="between-bulb-"+e[0]),ee(t,"viewBox","0 0 1 1"),ee(t,"refX","0.5"),ee(t,"refY","0.5"),ee(t,"markerUnits","userSpaceOnUse"),ee(t,"markerWidth","1"),ee(t,"markerHeight","1"),ee(t,"orient","auto"),ee(l,"width",s=e[1].width),ee(l,"height",a=e[1].height),ee(l,"fill","#fff"),ee(o,"id",c="between-"+e[0]+"-mask"),ee(o,"maskUnits","userSpaceOnUse"),ee(o,"x","0"),ee(o,"y","0"),ee(o,"width",u=e[1].width),ee(o,"height",d=e[1].height),ee(f,"id",e[0])},m(e,r){B(e,t,r),F(t,n),B(e,i,r),B(e,o,r),F(o,l);for(let e=0;e<p.length;e+=1)p[e].m(o,null);B(e,h,r),B(e,f,r);for(let e=0;e<g.length;e+=1)g[e].m(f,null)},p(e,[n]){1&n&&r!==(r="between-bulb-"+e[0])&&ee(t,"id",r),2&n&&s!==(s=e[1].width)&&ee(l,"width",s),2&n&&a!==(a=e[1].height)&&ee(l,"height",a),4&n&&(y=e[2],p=Ce(p,n,b,1,e,y,m,o,Te,Rn,null,jn)),1&n&&c!==(c="between-"+e[0]+"-mask")&&ee(o,"id",c),2&n&&u!==(u=e[1].width)&&ee(o,"width",u),2&n&&d!==(d=e[1].height)&&ee(o,"height",d),5&n&&(w=e[2],g=Ce(g,n,k,1,e,w,v,f,Te,Un,null,Dn)),1&n&&ee(f,"id",e[0])},i:C,o:C,d(e){e&&z(t),e&&z(i),e&&z(o);for(let e=0;e<p.length;e+=1)p[e].d();e&&z(h),e&&z(f);for(let e=0;e<g.length;e+=1)g[e].d()}}}const Nn=.375,Gn=.025,Fn=.1;function Bn(e,t,n){let r,{id:i}=t,{ref:o}=t,{grid:l}=t;const s=Re(o,(function(e){if(null==e)return[];const t=[];for(const[n,r]of Object.entries(e)){const e=c(r);t.push({head:u(e[0],l),tail:u(e[e.length-1],l),itemId:n,d:y(e,l)})}return t}));return I(e,s,(e=>n(2,r=e))),e.$$set=e=>{"id"in e&&n(0,i=e.id),"ref"in e&&n(4,o=e.ref),"grid"in e&&n(1,l=e.grid)},[i,l,r,s,o]}function zn(e,t,n){const r=e.slice();return r[5]=t[n].thermoId,r[6]=t[n].d,r[7]=t[n].invalid,r}function qn(e,t){let n,r,i,o;return{key:e,first:null,c(){n=X("path"),ee(n,"d",r=t[6]),ee(n,"fill","none"),ee(n,"stroke",i=t[7]?"#333":"#666"),ee(n,"stroke-width","0.2"),ee(n,"marker-start",o="url(#thermo-bulb-"+t[0]+")"),ee(n,"stroke-linejoin","round"),ee(n,"stroke-linecap","round"),this.first=n},m(e,t){B(e,n,t)},p(e,l){t=e,16&l&&r!==(r=t[6])&&ee(n,"d",r),16&l&&i!==(i=t[7]?"#333":"#666")&&ee(n,"stroke",i),1&l&&o!==(o="url(#thermo-bulb-"+t[0]+")")&&ee(n,"marker-start",o)},d(e){e&&z(n)}}}function Vn(e){let t,n,r,i,o,l,s,a,c,u,d,h,f,p,m=[],g=new Map,v=e[3](e[4]||{});const y=e=>e[5];for(let t=0;t<v.length;t+=1){let n=zn(e,v,t),r=y(n);g.set(r,m[t]=qn(r,n))}return{c(){t=X("marker"),n=X("circle"),i=Y(),o=X("mask");for(let e=0;e<m.length;e+=1)m[e].c();c=Y(),u=X("g"),d=X("rect"),ee(n,"cx","0.5"),ee(n,"cy","0.5"),ee(n,"r",Xn),ee(n,"fill","#666"),ee(t,"id",r="thermo-bulb-"+e[0]),ee(t,"viewBox","0 0 1 1"),ee(t,"refX","0.5"),ee(t,"refY","0.5"),ee(t,"markerUnits","userSpaceOnUse"),ee(t,"markerWidth","1"),ee(t,"markerHeight","1"),ee(t,"orient","auto"),ee(o,"id",l="thermo-"+e[0]+"-mask"),ee(o,"maskUnits","userSpaceOnUse"),ee(o,"x","0"),ee(o,"y","0"),ee(o,"width",s=e[2].width),ee(o,"height",a=e[2].height),ee(d,"x","0"),ee(d,"y","0"),ee(d,"width",h=e[2].width),ee(d,"height",f=e[2].height),ee(d,"fill","#888"),ee(d,"stroke","none"),ee(d,"mask",p="url(#thermo-"+e[0]+"-mask)"),ee(u,"id",e[0])},m(e,r){B(e,t,r),F(t,n),B(e,i,r),B(e,o,r);for(let e=0;e<m.length;e+=1)m[e].m(o,null);B(e,c,r),B(e,u,r),F(u,d)},p(e,[n]){1&n&&r!==(r="thermo-bulb-"+e[0])&&ee(t,"id",r),25&n&&(v=e[3](e[4]||{}),m=Ce(m,n,y,1,e,v,g,o,Te,qn,null,zn)),1&n&&l!==(l="thermo-"+e[0]+"-mask")&&ee(o,"id",l),4&n&&s!==(s=e[2].width)&&ee(o,"width",s),4&n&&a!==(a=e[2].height)&&ee(o,"height",a),4&n&&h!==(h=e[2].width)&&ee(d,"width",h),4&n&&f!==(f=e[2].height)&&ee(d,"height",f),1&n&&p!==(p="url(#thermo-"+e[0]+"-mask)")&&ee(d,"mask",p),1&n&&ee(u,"id",e[0])},i:C,o:C,d(e){e&&z(t),e&&z(i),e&&z(o);for(let e=0;e<m.length;e+=1)m[e].d();e&&z(c),e&&z(u)}}}const Xn=.375;function Kn(e,t,n){let r,i=C,o=()=>(i(),i=L(s,(e=>n(4,r=e))),s);e.$$.on_destroy.push((()=>i()));let{id:l}=t,{ref:s}=t;o();let{grid:a}=t;return e.$$set=e=>{"id"in e&&n(0,l=e.id),"ref"in e&&o(n(1,s=e.ref)),"grid"in e&&n(2,a=e.grid)},[l,s,a,function(e){const t=[];for(const[n,r]of Object.entries(e)){const e=c(r);t.push({thermoId:n,d:y(e,a,.25),invalid:e.length>a.width})}return t},r]}function Yn(e,t,n){const r=e.slice();return r[6]=t[n][0],r[7]=t[n][1],r}function Wn(e,t){let n,r,i,o,l=t[7]+"";return{key:e,first:null,c(){n=X("text"),r=K(l),ee(n,"x",i=u(+t[6],t[2])[0]+.5),ee(n,"y",o=u(+t[6],t[2])[1]+.5),ee(n,"fill",t[3]),ee(n,"text-anchor","middle"),ee(n,"dominant-baseline","central"),ee(n,"font-size","0.775"),ee(n,"font-weight","600"),this.first=n},m(e,t){B(e,n,t),F(n,r)},p(e,s){t=e,32&s&&l!==(l=t[7]+"")&&te(r,l),36&s&&i!==(i=u(+t[6],t[2])[0]+.5)&&ee(n,"x",i),36&s&&o!==(o=u(+t[6],t[2])[1]+.5)&&ee(n,"y",o),8&s&&ee(n,"fill",t[3])},d(e){e&&z(n)}}}function Jn(e){let t,n=[],r=new Map,i=Object.entries(e[5]||{});const o=e=>e[6];for(let t=0;t<i.length;t+=1){let l=Yn(e,i,t),s=o(l);r.set(s,n[t]=Wn(s,l))}return{c(){t=X("g");for(let e=0;e<n.length;e+=1)n[e].c();ee(t,"id",e[0]),ee(t,"mask",e[4])},m(e,r){B(e,t,r);for(let e=0;e<n.length;e+=1)n[e].m(t,null)},p(e,[l]){44&l&&(i=Object.entries(e[5]||{}),n=Ce(n,l,o,1,e,i,r,t,Te,Wn,null,Yn)),1&l&&ee(t,"id",e[0]),16&l&&ee(t,"mask",e[4])},i:C,o:C,d(e){e&&z(t);for(let e=0;e<n.length;e+=1)n[e].d()}}}function Zn(e,t,n){let r,i=C,o=()=>(i(),i=L(s,(e=>n(5,r=e))),s);e.$$.on_destroy.push((()=>i()));let{id:l}=t,{ref:s}=t;o();let{grid:a}=t,{color:c="#000"}=t,{mask:u}=t;return e.$$set=e=>{"id"in e&&n(0,l=e.id),"ref"in e&&o(n(1,s=e.ref)),"grid"in e&&n(2,a=e.grid),"color"in e&&n(3,c=e.color),"mask"in e&&n(4,u=e.mask)},[l,s,a,c,u,r]}class Qn extends Le{constructor(e){super(),Ee(this,e,Zn,Jn,E,{id:0,ref:1,grid:2,color:3,mask:4})}}function er(e){let t,n,r,i,o,l,a,c,u,d,h,f;return{c(){t=X("pattern"),n=X("rect"),c=Y(),u=X("rect"),ee(n,"width",r=e[3].width),ee(n,"height",i=e[3].height),ee(n,"stroke","#000"),ee(n,"fill","none"),ee(n,"stroke-width",s),ee(t,"id",o="box-"+e[0]),ee(t,"width",l=e[3].width),ee(t,"height",a=e[3].height),ee(t,"patternUnits","userSpaceOnUse"),ee(u,"id",e[0]),ee(u,"x",-.02),ee(u,"y",-.02),ee(u,"width",d=e[2].width+s),ee(u,"height",h=e[2].height+s),ee(u,"fill",f="url(#box-"+e[0]+")"),ee(u,"stroke","none")},m(e,r){B(e,t,r),F(t,n),B(e,c,r),B(e,u,r)},p(e,[c]){8&c&&r!==(r=e[3].width)&&ee(n,"width",r),8&c&&i!==(i=e[3].height)&&ee(n,"height",i),1&c&&o!==(o="box-"+e[0])&&ee(t,"id",o),8&c&&l!==(l=e[3].width)&&ee(t,"width",l),8&c&&a!==(a=e[3].height)&&ee(t,"height",a),1&c&&ee(u,"id",e[0]),4&c&&d!==(d=e[2].width+s)&&ee(u,"width",d),4&c&&h!==(h=e[2].height+s)&&ee(u,"height",h),1&c&&f!==(f="url(#box-"+e[0]+")")&&ee(u,"fill",f)},i:C,o:C,d(e){e&&z(t),e&&z(c),e&&z(u)}}}function tr(e,t,n){let r,i=C,o=()=>(i(),i=L(s,(e=>n(3,r=e))),s);e.$$.on_destroy.push((()=>i()));let{id:l}=t,{ref:s}=t;o();let{grid:a}=t;return e.$$set=e=>{"id"in e&&n(0,l=e.id),"ref"in e&&o(n(1,s=e.ref)),"grid"in e&&n(2,a=e.grid)},[l,s,a,r]}function nr(e){let t,n,r,i,s,a,c,u;return{c(){t=X("pattern"),n=X("rect"),i=Y(),s=X("rect"),ee(n,"width","1"),ee(n,"height","1"),ee(n,"stroke","#000"),ee(n,"fill","none"),ee(n,"stroke-width",o),ee(t,"id",r="grid-"+e[0]),ee(t,"width","1"),ee(t,"height","1"),ee(t,"patternUnits","userSpaceOnUse"),ee(s,"id",e[0]),ee(s,"x",-.005),ee(s,"y",-.005),ee(s,"width",a=e[1].width+l),ee(s,"height",c=e[1].height+l),ee(s,"fill",u="url(#grid-"+e[0]+")"),ee(s,"stroke","none")},m(e,r){B(e,t,r),F(t,n),B(e,i,r),B(e,s,r)},p(e,[n]){1&n&&r!==(r="grid-"+e[0])&&ee(t,"id",r),1&n&&ee(s,"id",e[0]),2&n&&a!==(a=e[1].width+l)&&ee(s,"width",a),2&n&&c!==(c=e[1].height+l)&&ee(s,"height",c),1&n&&u!==(u="url(#grid-"+e[0]+")")&&ee(s,"fill",u)},i:C,o:C,d(e){e&&z(t),e&&z(i),e&&z(s)}}}function rr(e,t,n){let{id:r}=t,{ref:i}=t,{grid:o}=t;return e.$$set=e=>{"id"in e&&n(0,r=e.id),"ref"in e&&n(2,i=e.ref),"grid"in e&&n(1,o=e.grid)},[r,o,i]}function ir(e,t,n){const r=e.slice();return r[15]=t[n].id,r}function or(e,t,n){const r=e.slice();return r[15]=t[n].id,r[18]=t[n].ref,r[19]=t[n].element,r}function lr(e,t){let n,r,i,o;var l=t[19];function s(e){return{props:{id:e[15],ref:e[18],grid:e[2]}}}return l&&(r=new l(s(t))),{key:e,first:null,c(){n=W(),r&&Me(r.$$.fragment),i=W(),this.first=n},m(e,t){B(e,n,t),r&&Se(r,e,t),B(e,i,t),o=!0},p(e,n){t=e;const o={};if(32&n&&(o.id=t[15]),32&n&&(o.ref=t[18]),4&n&&(o.grid=t[2]),l!==(l=t[19])){if(r){ke();const e=r;$e(e.$$.fragment,1,0,(()=>{Ae(e,1)})),_e()}l?(r=new l(s(t)),Me(r.$$.fragment),xe(r.$$.fragment,1),Se(r,i.parentNode,i)):r=null}else l&&r.$set(o)},i(e){o||(r&&xe(r.$$.fragment,e),o=!0)},o(e){r&&$e(r.$$.fragment,e),o=!1},d(e){e&&z(n),e&&z(i),r&&Ae(r,e)}}}function sr(e,t){let n,r;return{key:e,first:null,c(){n=X("use"),ee(n,"href",r="#"+t[15]),this.first=n},m(e,t){B(e,n,t)},p(e,i){t=e,32&i&&r!==(r="#"+t[15])&&ee(n,"href",r)},d(e){e&&z(n)}}}function ar(e){let t,n,r,i,o,l,s,a,c,u,d,h,f,p,m,g,v=[],y=new Map,b=[],w=new Map,k=e[5];const _=e=>e[15];for(let t=0;t<k.length;t+=1){let n=or(e,k,t),r=_(n);y.set(r,v[t]=lr(r,n))}let x=e[5];const $=e=>e[15];for(let t=0;t<x.length;t+=1){let n=ir(e,x,t),r=$(n);w.set(r,b[t]=sr(r,n))}return{c(){t=X("svg"),n=X("style"),r=K("svg {\n            -webkit-tap-highlight-color: transparent;\n            touch-action: none;\n        }\n        text {\n            -webkit-user-select: none;\n            -moz-user-select: none;\n            -ms-user-select: none;\n            user-select: none;\n        }\n        text::selection {\n            background: none;\n        }\n        svg * {\n            pointer-events: none;\n        }\n        .hide {\n            display: none;\n        }\n    "),i=X("defs"),o=X("mask"),l=X("rect"),c=X("path"),u=X("mask"),d=X("rect"),p=X("path");for(let e=0;e<v.length;e+=1)v[e].c();for(let e=0;e<b.length;e+=1)b[e].c();ee(l,"x","0"),ee(l,"y","0"),ee(l,"width",s=e[2].width),ee(l,"height",a=e[2].height),ee(l,"fill","#fff"),ee(c,"d",e[3]),ee(c,"fill","#000"),ee(c,"stroke","none"),ee(o,"id","SUDOKU_MASK_GIVENS"),ee(o,"maskUnits","userSpaceOnUse"),ee(d,"x","0"),ee(d,"y","0"),ee(d,"width",h=e[2].width),ee(d,"height",f=e[2].height),ee(d,"fill","#fff"),ee(p,"d",e[4]),ee(p,"fill","#000"),ee(p,"stroke","none"),ee(u,"id","SUDOKU_MASK_GIVENS_FILLED"),ee(u,"maskUnits","userSpaceOnUse"),ee(t,"viewBox",m=e[1].x+" "+e[1].y+" "+e[1].width+" "+e[1].height),ee(t,"xmlns","http://www.w3.org/2000/svg")},m(s,a){B(s,t,a),F(t,n),F(n,r),F(t,i),F(i,o),F(o,l),F(o,c),F(i,u),F(u,d),F(u,p);for(let e=0;e<v.length;e+=1)v[e].m(i,null);for(let e=0;e<b.length;e+=1)b[e].m(t,null);e[13](t),g=!0},p(e,[n]){(!g||4&n&&s!==(s=e[2].width))&&ee(l,"width",s),(!g||4&n&&a!==(a=e[2].height))&&ee(l,"height",a),(!g||8&n)&&ee(c,"d",e[3]),(!g||4&n&&h!==(h=e[2].width))&&ee(d,"width",h),(!g||4&n&&f!==(f=e[2].height))&&ee(d,"height",f),(!g||16&n)&&ee(p,"d",e[4]),36&n&&(k=e[5],ke(),v=Ce(v,n,_,1,e,k,y,i,He,lr,null,or),_e()),32&n&&(x=e[5],b=Ce(b,n,$,1,e,x,w,t,Te,sr,null,ir)),(!g||2&n&&m!==(m=e[1].x+" "+e[1].y+" "+e[1].width+" "+e[1].height))&&ee(t,"viewBox",m)},i(e){if(!g){for(let e=0;e<k.length;e+=1)xe(v[e]);g=!0}},o(e){for(let e=0;e<v.length;e+=1)$e(v[e]);g=!1},d(n){n&&z(t);for(let e=0;e<v.length;e+=1)v[e].d();for(let e=0;e<b.length;e+=1)b[e].d();e[13](null)}}}const cr={select:Ut,grid:class extends Le{constructor(e){super(),Ee(this,e,rr,nr,E,{id:0,ref:2,grid:1})}},box:class extends Le{constructor(e){super(),Ee(this,e,tr,er,E,{id:0,ref:1,grid:2})}},givens:Qn,filled:function(e){return e.props.color="#4e72b0",e.props.mask="url(#SUDOKU_MASK_GIVENS)",new Qn(e)},corner:class extends Le{constructor(e){super(),Ee(this,e,Ot,At,E,{id:0,ref:1,grid:4})}},center:class extends Le{constructor(e){super(),Ee(this,e,Tt,$t,E,{id:0,ref:1,grid:4})}},colors:class extends Le{constructor(e){super(),Ee(this,e,kt,wt,E,{id:0,ref:1,grid:4})}},thermo:class extends Le{constructor(e){super(),Ee(this,e,Kn,Vn,E,{id:0,ref:1,grid:2,getThermos:3})}get getThermos(){return this.$$.ctx[3]}},between:class extends Le{constructor(e){super(),Ee(this,e,Bn,Pn,E,{id:0,ref:4,grid:1})}},arrow:class extends Le{constructor(e){super(),Ee(this,e,In,An,E,{id:0,ref:1,grid:2})}},sandwich:null,min:class extends Le{constructor(e){super(),Ee(this,e,Cn,Hn,E,{id:0,ref:1,grid:2})}},max:class extends Le{constructor(e){super(),Ee(this,e,bn,yn,E,{id:0,ref:1,grid:2})}},killer:class extends Le{constructor(e){super(),Ee(this,e,dn,sn,E,{id:0,ref:1,grid:2})}},quadruple:class extends Le{constructor(e){super(),Ee(this,e,tn,Wt,E,{id:0,ref:1,grid:4})}},difference:function(e){return Object.assign(e.props,{stroke:"#242424",fill:"#fff",textColor:"#000",strokeWidth:.02}),new qt(e)},ratio:function(e){return Object.assign(e.props,{stroke:"none",fill:"#000",textColor:"#fff"}),new qt(e)},xv:function(e){return Object.assign(e.props,{stroke:"none",fill:"#fff",textColor:"#000",radius:.17,fontSize:.3,fontWeight:800,mapDigits:e=>!0!==e?H(e):"_"}),new qt(e)},diagonal:class extends Le{constructor(e){super(),Ee(this,e,Nt,Pt,E,{id:0,ref:6,grid:1})}},knight:mt,king:mt,disjointGroups:mt,consecutive:mt,selfTaxicab:mt},ur={grid:l,box:a,quadruple:.2225};function dr(e,t,n){let r,i,o,l,s,{userState:a}=t,{boardState:c}=t,{svg:u=null}=t;const d=c.ref("grid");I(e,d,(e=>n(2,i=e)));const h=c.ref("elements"),f=Re([h,d],(([e,t])=>w(v(T(e||{},!0,!1)),t,0)||void 0));I(e,f,(e=>n(3,o=e)));const p=Re([h,d],(([e,t])=>w(v(T(e||{},!0,!0)),t,0)||void 0));I(e,p,(e=>n(4,l=e)));const m=De([],(e=>{const t=[{id:"select_192839012",type:"select",order:95,ref:a,element:Ut}];c.ref("elements/*").watch((([n,r],i,o)=>{let l=-1;if(null!=i){if(null==cr[i.type])return;if(l=t.findIndex((({id:e})=>r===e)),0>l)return void console.error(`Failed to find renderer for constraint with id ${r}.`)}if(null==o)t.splice(l,1);else{const e=cr[o.type];if(null==e)return void console.warn(`Cannot render unknown constraint type: ${o.type}.`);const s={id:r,type:o.type,order:o.order,ref:c.ref(n,r,"value"),element:e};null==i?t.push(s):(i.type!==o.type&&console.error("Cannot change type of constraint!"),t[l]=s)}t.sort(((e,t)=>e.order-t.order)),e(t)}),!0)}));I(e,m,(e=>n(5,s=e)));const g=Re([d,m],(([e,t])=>{const n=t.map((({type:e})=>ur[e])).filter((e=>null!=e)).reduce(((e,t)=>e>t?e:t),0);return{x:-n,y:-n,width:e.width+2*n,height:e.height+2*n}}));return I(e,g,(e=>n(1,r=e))),e.$$set=e=>{"userState"in e&&n(11,a=e.userState),"boardState"in e&&n(12,c=e.boardState),"svg"in e&&n(0,u=e.svg)},[u,r,i,o,l,s,d,f,p,m,g,a,c,function(e){ce[e?"unshift":"push"]((()=>{u=e,n(0,u)}))}]}class hr extends Le{constructor(e){super(),Ee(this,e,dr,ar,E,{userState:11,boardState:12,svg:0})}}const fr=De([],(e=>{const t=[];Ne.ref("elements/*").watch((([n,r],i,o)=>{const l=(null==i?void 0:i.type)||o.type,s=at[l];if(null==s)return void console.warn(`Unknown constraint type: ${l}.`);let a=-1;if(null!=i&&(a=t.findIndex((({id:e})=>r===e)),0>a))console.error(`Failed to find constraint with id ${r}.`);else{if(null==o)t.splice(a,1);else if(null==i){const e=Ne.ref(n,r);t.push({id:r,elementRef:e,info:s})}else i.type!==o.type&&console.error(`Cannot change type of constraint! ${i.type} -> ${o.type}`);e(t)}}),!0)})),pr=Re([De(null,(e=>{let t=[];fr.subscribe((e=>t=e)),Xe.watch(((n,r,i)=>{const o=i,l=t.find((({id:e})=>o===e))||null;e(l)}),!0)})),Ue],(([e,t])=>{if(null==e)return null;const{info:n,elementRef:r}=e,i=r.ref("value");if(null==n||null==n.getInputHandler)return null;const o=n.getInputHandler(i,Ge.get(),t);return o.load(),o}));function mr(e){let t,n,r,i,o,l,s;function a(t){e[6](t)}let c={boardState:Ne,userState:Be};return void 0!==e[2]&&(c.svg=e[2]),r=new hr({props:c}),ce.push((()=>function(e,t,n){const r=e.$$.props[t];void 0!==r&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}(r,"svg",a))),{c(){t=V("div"),n=Y(),Me(r.$$.fragment),ee(t,"class","overlay svelte-kdd1wn"),ee(t,"tabindex","0")},m(i,a){B(i,t,a),e[4](t),B(i,n,a),Se(r,i,a),o=!0,l||(s=[J(window,"blur",(function(){O(e[3](e[1],"blur"))&&e[3](e[1],"blur").apply(this,arguments)})),J(window,"mouseup",(function(){O(e[3](e[1],"up"))&&e[3](e[1],"up").apply(this,arguments)})),J(window,"keydown",(function(){O(e[3](e[1],"keydown"))&&e[3](e[1],"keydown").apply(this,arguments)})),J(window,"keyup",(function(){O(e[3](e[1],"keyup"))&&e[3](e[1],"keyup").apply(this,arguments)})),J(t,"mousedown",Q(Z(e[5])),!0),J(t,"mousemove",Q(Z((function(){O(e[3](e[1],"move"))&&e[3](e[1],"move").apply(this,arguments)}))),!0),J(t,"click",Q(Z((function(){O(e[3](e[1],"click"))&&e[3](e[1],"click").apply(this,arguments)}))),!0),J(t,"contextmenu",Q(Z((function(){O(e[3](e[1],"click"))&&e[3](e[1],"click").apply(this,arguments)}))),!0),J(t,"mouseleave",Q(Z((function(){O(e[3](e[1],"leave"))&&e[3](e[1],"leave").apply(this,arguments)}))),!0)],l=!0)},p(t,[n]){e=t;const o={};var l;!i&&4&n&&(i=!0,o.svg=e[2],l=()=>i=!1,de.push(l)),r.$set(o)},i(e){o||(xe(r.$$.fragment,e),o=!0)},o(e){$e(r.$$.fragment,e),o=!1},d(i){i&&z(t),e[4](null),i&&z(n),Ae(r,i),l=!1,A(s)}}}function gr(e,t,n){let r,i,o;I(e,Pe,(e=>n(0,r=e))),I(e,pr,(e=>n(1,i=e))),I(e,Ue,(e=>n(2,o=e)));return[r,i,o,function(e,t){return n=>{null==e||document.activeElement!==r&&document.activeElement!==document.body||e[t](n)}},function(e){ce[e?"unshift":"push"]((()=>{r=e,Pe.set(r)}))},e=>(e.currentTarget.focus(),i&&i.down(e)),function(e){o=e,Ue.set(o)}]}class vr extends Le{constructor(e){super(),Ee(this,e,gr,mr,E,{})}}function yr(e){let t,n,r,i,o,l,s,a,c,u,d,h,f,p,m,g,v;const y=e[6].default,b=D(y,e,e[5],null);return{c(){t=V("div"),n=V("div"),r=V("button"),r.innerHTML='<span class="icon hoverable-icon icon-inline icon-c-clickable icon-add"></span>',i=Y(),o=V("span"),l=V("span"),a=Y(),c=K(e[2]),u=Y(),d=V("span"),h=Y(),f=V("div"),p=V("div"),b&&b.c(),ee(r,"class","delete-button nobutton hoverable svelte-1au0lhk"),ee(l,"class",s="icon hoverable-icon icon-inline icon-c-text icon-"+e[1]+" svelte-1au0lhk"),ee(d,"class","tree-menu icon icon-inline icon-c-clickable icon-tree-menu svelte-1au0lhk"),ee(n,"role","button"),ee(n,"tabindex","0"),ee(n,"class","section-title svelte-1au0lhk"),ee(p,"class","panel svelte-1au0lhk"),ee(f,"class","panel-wrapper svelte-1au0lhk"),ee(t,"class","container svelte-1au0lhk"),ie(t,"closed",e[0])},m(s,y){B(s,t,y),F(t,n),F(n,r),F(n,i),F(n,o),F(o,l),F(o,a),F(o,c),F(n,u),F(n,d),F(t,h),F(t,f),F(f,p),b&&b.m(p,null),m=!0,g||(v=[J(r,"click",Q((function(){O(e[3])&&e[3].apply(this,arguments)}))),J(n,"click",e[4])],g=!0)},p(n,[r]){e=n,(!m||2&r&&s!==(s="icon hoverable-icon icon-inline icon-c-text icon-"+e[1]+" svelte-1au0lhk"))&&ee(l,"class",s),(!m||4&r)&&te(c,e[2]),b&&b.p&&(!m||32&r)&&R(b,y,e,e[5],m?r:-1,null,null),1&r&&ie(t,"closed",e[0])},i(e){m||(xe(b,e),m=!0)},o(e){$e(b,e),m=!1},d(e){e&&z(t),b&&b.d(e),g=!1,A(v)}}}function br(e,t,n){let{$$slots:r={},$$scope:i}=t,{icon:o}=t,{title:l}=t,{closed:s=!1}=t,{onAdd:a}=t;return e.$$set=e=>{"icon"in e&&n(1,o=e.icon),"title"in e&&n(2,l=e.title),"closed"in e&&n(0,s=e.closed),"onAdd"in e&&n(3,a=e.onAdd),"$$scope"in e&&n(5,i=e.$$scope)},[s,o,l,a,function(){n(0,s=!s)},i,r]}class wr extends Le{constructor(e){super(),Ee(this,e,br,yr,E,{icon:1,title:2,closed:0,onAdd:3})}}function kr(e){let t,n,r,i,o,l;return{c(){t=V("input"),r=Y(),i=V("button"),i.textContent="Jump To Board",ee(t,"class","radio-select-button svelte-1yj5trp"),ee(t,"type","radio"),ee(t,"id",n="local-radio-"+ ++Hr),t.__value=e[0],t.value=t.__value,ee(t,"name",Ke),e[12][0].push(t),ee(i,"class","nobutton focus-skip")},m(n,s){B(n,t,s),t.checked=t.__value===e[7],B(n,r,s),B(n,i,s),o||(l=[J(t,"change",e[11]),J(t,"change",e[13]),J(i,"click",e[14])],o=!0)},p(e,n){1&n&&(t.__value=e[0],t.value=t.__value),128&n&&(t.checked=t.__value===e[7])},d(n){n&&z(t),e[12][0].splice(e[12][0].indexOf(t),1),n&&z(r),n&&z(i),o=!1,A(l)}}}function _r(e){let t,n,r;return{c(){t=V("button"),t.innerHTML='<span class="icon hoverable-icon icon-inline icon-c-clickable icon-trash"></span> \n                ',ee(t,"class","delete-button nobutton hoverable svelte-1yj5trp")},m(i,o){B(i,t,o),n||(r=J(t,"click",Q((function(){O(e[6])&&e[6].apply(this,arguments)}))),n=!0)},p(t,n){e=t},d(e){e&&z(t),n=!1,r()}}}function xr(e){let t,n;return{c(){t=V("span"),n=K(e[1]),ee(t,"class","name svelte-1yj5trp"),ie(t,"unused",e[2])},m(e,r){B(e,t,r),F(t,n)},p(e,r){2&r&&te(n,e[1]),4&r&&ie(t,"unused",e[2])},d(e){e&&z(t)}}}function $r(e){let t,n;return{c(){t=V("label"),n=K(e[1]),ee(t,"class","name clickable svelte-1yj5trp"),ee(t,"for","local-radio-"+Hr),ie(t,"unused",e[2])},m(e,r){B(e,t,r),F(t,n)},p(e,r){2&r&&te(n,e[1]),4&r&&ie(t,"unused",e[2])},d(e){e&&z(t)}}}function Tr(e){let t,n,r,i,o,l,s,a,c,u,d=e[4]&&kr(e),h=e[3]&&_r(e);function f(e,t){return e[4]?$r:xr}let p=f(e),m=p(e);const g=e[10].default,v=D(g,e,e[9],null);return{c(){t=V("div"),d&&d.c(),n=Y(),r=V("div"),i=V("div"),h&&h.c(),o=W(),m.c(),l=Y(),s=V("div"),v&&v.c(),ee(i,"class","constraint-row-left svelte-1yj5trp"),ee(s,"class","constraint-row-right svelte-1yj5trp"),ee(r,"class","constraint-row svelte-1yj5trp"),ee(r,"role","button"),ee(t,"class","constraint-row-container svelte-1yj5trp")},m(f,p){B(f,t,p),d&&d.m(t,null),F(t,n),F(t,r),F(r,i),h&&h.m(i,null),F(i,o),m.m(i,null),F(r,l),F(r,s),v&&v.m(s,null),a=!0,c||(u=J(r,"click",Q((function(){O(e[5])&&e[5].apply(this,arguments)}))),c=!0)},p(r,[l]){(e=r)[4]?d?d.p(e,l):(d=kr(e),d.c(),d.m(t,n)):d&&(d.d(1),d=null),e[3]?h?h.p(e,l):(h=_r(e),h.c(),h.m(i,o)):h&&(h.d(1),h=null),p===(p=f(e))&&m?m.p(e,l):(m.d(1),m=p(e),m&&(m.c(),m.m(i,null))),v&&v.p&&(!a||512&l)&&R(v,g,e,e[9],a?l:-1,null,null)},i(e){a||(xe(v,e),a=!0)},o(e){$e(v,e),a=!1},d(e){e&&z(t),d&&d.d(),h&&h.d(),m.d(),v&&v.d(e),c=!1,u()}}}let Hr=0;function Cr(e,t,n){let r,i;I(e,Xe,(e=>n(7,r=e))),I(e,Pe,(e=>n(8,i=e)));let{$$slots:o={},$$scope:l}=t,{id:s}=t,{name:a}=t,{unused:c}=t,{deletable:u}=t,{isLocal:d=!1}=t,{onClick:h=(d?()=>U(Xe,r=s,r):void 0)}=t,{onTrash:f}=t;return e.$$set=e=>{"id"in e&&n(0,s=e.id),"name"in e&&n(1,a=e.name),"unused"in e&&n(2,c=e.unused),"deletable"in e&&n(3,u=e.deletable),"isLocal"in e&&n(4,d=e.isLocal),"onClick"in e&&n(5,h=e.onClick),"onTrash"in e&&n(6,f=e.onTrash),"$$scope"in e&&n(9,l=e.$$scope)},[s,a,c,u,d,h,f,r,i,l,o,function(){r=this.__value,Xe.set(r)},[[]],()=>Ve.set(Xe.get()),()=>i&&i.focus()]}class Mr extends Le{constructor(e){super(),Ee(this,e,Cr,Tr,E,{id:0,name:1,unused:2,deletable:3,isLocal:4,onClick:5,onTrash:6})}}function Sr(e){let t,n;return{c(){t=V("span"),ee(t,"class",n="icon icon-inline icon-c-clickable icon-"+e[2].icon)},m(e,n){B(e,t,n)},p(e,r){4&r&&n!==(n="icon icon-inline icon-c-clickable icon-"+e[2].icon)&&ee(t,"class",n)},d(e){e&&z(t)}}}function Ar(e){let t,n;return t=new Mr({props:{id:e[0],deletable:e[3],name:e[2].name,unused:!1,isLocal:!0,onTrash:e[4],$$slots:{default:[Sr]},$$scope:{ctx:e}}}),{c(){Me(t.$$.fragment)},m(e,r){Se(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.id=e[0]),8&n&&(r.deletable=e[3]),4&n&&(r.name=e[2].name),2&n&&(r.onTrash=e[4]),36&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(xe(t.$$.fragment,e),n=!0)},o(e){$e(t.$$.fragment,e),n=!1},d(e){Ae(t,e)}}}function Or(e,t,n){let{id:r}=t,{elementRef:i}=t,{info:o}=t,{deletable:l}=t;return e.$$set=e=>{"id"in e&&n(0,r=e.id),"elementRef"in e&&n(1,i=e.elementRef),"info"in e&&n(2,o=e.info),"deletable"in e&&n(3,l=e.deletable)},[r,i,o,l,()=>i.replace(null)]}class Er extends Le{constructor(e){super(),Ee(this,e,Or,Ar,E,{id:0,elementRef:1,info:2,deletable:3})}}function Lr(e){let t,n,r,i,o,l,s,a,c,u,d;return{c(){t=V("div"),n=V("label"),r=V("span"),o=Y(),l=V("span"),s=K(e[0]),a=Y(),c=V("input"),ee(r,"class",i="icon icon-inline icon-c-text icon-"+e[1]+" svelte-1ns67sk"),ee(l,"class","sr-only"),ee(n,"for","checkbox-"+ ++Ir),ee(n,"title",e[0]),ee(n,"class","clickable"),ee(c,"id","checkbox-"+Ir),ee(c,"type","checkbox"),ee(t,"class","constraint-checkbox svelte-1ns67sk")},m(i,h){B(i,t,h),F(t,n),F(n,r),F(n,o),F(n,l),F(l,s),F(t,a),F(t,c),c.checked=e[3],u||(d=[J(c,"change",e[5]),J(t,"click",Q(e[4]))],u=!0)},p(e,[t]){2&t&&i!==(i="icon icon-inline icon-c-text icon-"+e[1]+" svelte-1ns67sk")&&ee(r,"class",i),1&t&&te(s,e[0]),1&t&&ee(n,"title",e[0]),8&t&&(c.checked=e[3])},i:C,o:C,d(e){e&&z(t),u=!1,A(d)}}}let Ir=0;function Dr(e,t,n){let r,i=C,o=()=>(i(),i=L(a,(e=>n(3,r=e))),a);e.$$.on_destroy.push((()=>i()));let{name:l}=t,{icon:s}=t,{checked:a}=t;return o(),e.$$set=e=>{"name"in e&&n(0,l=e.name),"icon"in e&&n(1,s=e.icon),"checked"in e&&o(n(2,a=e.checked))},[l,s,a,r,function(t){se.call(this,e,t)},function(){r=this.checked,a.set(r)}]}class jr extends Le{constructor(e){super(),Ee(this,e,Dr,Lr,E,{name:0,icon:1,checked:2})}}function Rr(e,t,n){const r=e.slice();return r[9]=t[n].name,r[10]=t[n].icon,r[11]=t[n].refPath,r}function Ur(e){let t,n;return t=new jr({props:{name:e[9],icon:e[10],checked:e[11]?e[5].ref(e[11]):e[5]}}),{c(){Me(t.$$.fragment)},m(e,r){Se(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.name=e[9]),4&n&&(r.icon=e[10]),4&n&&(r.checked=e[11]?e[5].ref(e[11]):e[5]),t.$set(r)},i(e){n||(xe(t.$$.fragment,e),n=!0)},o(e){$e(t.$$.fragment,e),n=!1},d(e){Ae(t,e)}}}function Pr(e){let t,n,r=Array.isArray(e[2].checkbox)?e[2].checkbox:[e[2].checkbox],i=[];for(let t=0;t<r.length;t+=1)i[t]=Ur(Rr(e,r,t));const o=e=>$e(i[e],1,1,(()=>{i[e]=null}));return{c(){for(let e=0;e<i.length;e+=1)i[e].c();t=W()},m(e,r){for(let t=0;t<i.length;t+=1)i[t].m(e,r);B(e,t,r),n=!0},p(e,n){if(36&n){let l;for(r=Array.isArray(e[2].checkbox)?e[2].checkbox:[e[2].checkbox],l=0;l<r.length;l+=1){const o=Rr(e,r,l);i[l]?(i[l].p(o,n),xe(i[l],1)):(i[l]=Ur(o),i[l].c(),xe(i[l],1),i[l].m(t.parentNode,t))}for(ke(),l=r.length;l<i.length;l+=1)o(l);_e()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)xe(i[e]);n=!0}},o(e){i=i.filter(Boolean);for(let e=0;e<i.length;e+=1)$e(i[e]);n=!1},d(e){q(i,e),e&&z(t)}}}function Nr(e){let t,n;return t=new Mr({props:{id:e[0],deletable:e[3],name:e[2].name,unused:e[7](e[4]),onClick:e[6],onTrash:e[8],$$slots:{default:[Pr]},$$scope:{ctx:e}}}),{c(){Me(t.$$.fragment)},m(e,r){Se(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.id=e[0]),8&n&&(r.deletable=e[3]),4&n&&(r.name=e[2].name),16&n&&(r.unused=e[7](e[4])),2&n&&(r.onTrash=e[8]),16388&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(xe(t.$$.fragment,e),n=!0)},o(e){$e(t.$$.fragment,e),n=!1},d(e){Ae(t,e)}}}function Gr(e,t,n){let r,{id:i}=t,{elementRef:o}=t,{info:l}=t,{deletable:s}=t;const a=o.ref("value");I(e,a,(e=>n(4,r=e)));return e.$$set=e=>{"id"in e&&n(0,i=e.id),"elementRef"in e&&n(1,o=e.elementRef),"info"in e&&n(2,l=e.info),"deletable"in e&&n(3,s=e.deletable)},[i,o,l,s,r,a,function(){if(Array.isArray(l.checkbox)){const e=l.checkbox.some((({refPath:e})=>!a.ref(e).get())),t={};for(const{refPath:n}of l.checkbox)t[n]=e;Ye(a.replace(t))}else{Ye(a.replace(!a.get()))}},function(e){return Array.isArray(l.checkbox)?l.checkbox.every((({refPath:e})=>!a.ref(e).get())):!e},()=>o.replace(null)]}class Fr extends Le{constructor(e){super(),Ee(this,e,Gr,Nr,E,{id:0,elementRef:1,info:2,deletable:3})}}function Br(e,t,n){const r=e.slice();return r[8]=t[n].id,r[9]=t[n].elementRef,r[10]=t[n].info,r}function zr(e,t,n){const r=e.slice();return r[8]=t[n].id,r[9]=t[n].elementRef,r[10]=t[n].info,r}function qr(e){let t;return{c(){t=V("div"),t.textContent="Nothing here!",ee(t,"class","empty-placeholder svelte-1hnsx93")},m(e,n){B(e,t,n)},d(e){e&&z(t)}}}function Vr(e){let t;return{c(){t=V("li"),t.innerHTML='<div class="empty-placeholder svelte-1hnsx93">Nothing here!</div>'},m(e,n){B(e,t,n)},d(e){e&&z(t)}}}function Xr(e,t){let n,r,i,o;var l=t[4](t[10]);function s(e){return{props:{id:e[8],elementRef:e[9],deletable:!e[10].permanent}}}return l&&(r=new l(s(t))),{key:e,first:null,c(){n=V("li"),r&&Me(r.$$.fragment),i=Y(),this.first=n},m(e,t){B(e,n,t),r&&Se(r,n,null),F(n,i),o=!0},p(e,o){t=e;const a={};if(1&o&&(a.id=t[8]),1&o&&(a.elementRef=t[9]),1&o&&(a.deletable=!t[10].permanent),l!==(l=t[4](t[10]))){if(r){ke();const e=r;$e(e.$$.fragment,1,0,(()=>{Ae(e,1)})),_e()}l?(r=new l(s(t)),Me(r.$$.fragment),xe(r.$$.fragment,1),Se(r,n,i)):r=null}else l&&r.$set(a)},i(e){o||(r&&xe(r.$$.fragment,e),o=!0)},o(e){r&&$e(r.$$.fragment,e),o=!1},d(e){e&&z(n),r&&Ae(r)}}}function Kr(e){let t,n,r=[],i=new Map,o=e[0];const l=e=>e[8];for(let t=0;t<o.length;t+=1){let n=zr(e,o,t),s=l(n);i.set(s,r[t]=Xr(s,n))}let s=null;return o.length||(s=Vr()),{c(){t=V("ul");for(let e=0;e<r.length;e+=1)r[e].c();s&&s.c(),ee(t,"class","nolist")},m(e,i){B(e,t,i);for(let e=0;e<r.length;e+=1)r[e].m(t,null);s&&s.m(t,null),n=!0},p(e,n){17&n&&(o=e[0],ke(),r=Ce(r,n,l,1,e,o,i,t,He,Xr,null,zr),_e(),o.length?s&&(s.d(1),s=null):s||(s=Vr(),s.c(),s.m(t,null)))},i(e){if(!n){for(let e=0;e<o.length;e+=1)xe(r[e]);n=!0}},o(e){for(let e=0;e<r.length;e+=1)$e(r[e]);n=!1},d(e){e&&z(t);for(let e=0;e<r.length;e+=1)r[e].d();s&&s.d()}}}function Yr(e){let t;return{c(){t=V("li"),t.innerHTML='<div class="empty-placeholder svelte-1hnsx93">Nothing here!</div>'},m(e,n){B(e,t,n)},d(e){e&&z(t)}}}function Wr(e,t){let n,r,i,o;var l=t[4](t[10]);function s(e){return{props:{id:e[8],elementRef:e[9],deletable:!e[10].permanent}}}return l&&(r=new l(s(t))),{key:e,first:null,c(){n=V("li"),r&&Me(r.$$.fragment),i=Y(),this.first=n},m(e,t){B(e,n,t),r&&Se(r,n,null),F(n,i),o=!0},p(e,o){t=e;const a={};if(2&o&&(a.id=t[8]),2&o&&(a.elementRef=t[9]),2&o&&(a.deletable=!t[10].permanent),l!==(l=t[4](t[10]))){if(r){ke();const e=r;$e(e.$$.fragment,1,0,(()=>{Ae(e,1)})),_e()}l?(r=new l(s(t)),Me(r.$$.fragment),xe(r.$$.fragment,1),Se(r,n,i)):r=null}else l&&r.$set(a)},i(e){o||(r&&xe(r.$$.fragment,e),o=!0)},o(e){r&&$e(r.$$.fragment,e),o=!1},d(e){e&&z(n),r&&Ae(r)}}}function Jr(e){let t,n,r=[],i=new Map,o=e[1];const l=e=>e[8];for(let t=0;t<o.length;t+=1){let n=Br(e,o,t),s=l(n);i.set(s,r[t]=Wr(s,n))}let s=null;return o.length||(s=Yr()),{c(){t=V("ul");for(let e=0;e<r.length;e+=1)r[e].c();s&&s.c(),ee(t,"class","nolist")},m(e,i){B(e,t,i);for(let e=0;e<r.length;e+=1)r[e].m(t,null);s&&s.m(t,null),n=!0},p(e,n){18&n&&(o=e[1],ke(),r=Ce(r,n,l,1,e,o,i,t,He,Wr,null,Br),_e(),o.length?s&&(s.d(1),s=null):s||(s=Yr(),s.c(),s.m(t,null)))},i(e){if(!n){for(let e=0;e<o.length;e+=1)xe(r[e]);n=!0}},o(e){for(let e=0;e<r.length;e+=1)$e(r[e]);n=!1},d(e){e&&z(t);for(let e=0;e<r.length;e+=1)r[e].d();s&&s.d()}}}function Zr(e){let t;return{c(){t=V("div"),t.textContent="Nothing here!",ee(t,"class","empty-placeholder svelte-1hnsx93")},m(e,n){B(e,t,n)},d(e){e&&z(t)}}}function Qr(e){let t,n,r,i,o,l,s,a,c,u,d,h,f;return r=new wr({props:{icon:"computer",title:"Solver Panel",$$slots:{default:[qr]},$$scope:{ctx:e}}}),l=new wr({props:{icon:"globe",title:"Global Constraints",onAdd:e[6],$$slots:{default:[Kr]},$$scope:{ctx:e}}}),c=new wr({props:{icon:"location",title:"Local Constraints",onAdd:e[7],$$slots:{default:[Jr]},$$scope:{ctx:e}}}),h=new wr({props:{icon:"pencil",title:"Cosmetic Tools",$$slots:{default:[Zr]},$$scope:{ctx:e}}}),{c(){t=V("ul"),n=V("li"),Me(r.$$.fragment),i=Y(),o=V("li"),Me(l.$$.fragment),s=Y(),a=V("li"),Me(c.$$.fragment),u=Y(),d=V("li"),Me(h.$$.fragment),ee(t,"class","nolist")},m(e,p){B(e,t,p),F(t,n),Se(r,n,null),F(t,i),F(t,o),Se(l,o,null),F(t,s),F(t,a),Se(c,a,null),F(t,u),F(t,d),Se(h,d,null),f=!0},p(e,[t]){const n={};32768&t&&(n.$$scope={dirty:t,ctx:e}),r.$set(n);const i={};32769&t&&(i.$$scope={dirty:t,ctx:e}),l.$set(i);const o={};32770&t&&(o.$$scope={dirty:t,ctx:e}),c.$set(o);const s={};32768&t&&(s.$$scope={dirty:t,ctx:e}),h.$set(s)},i(e){f||(xe(r.$$.fragment,e),xe(l.$$.fragment,e),xe(c.$$.fragment,e),xe(h.$$.fragment,e),f=!0)},o(e){$e(r.$$.fragment,e),$e(l.$$.fragment,e),$e(c.$$.fragment,e),$e(h.$$.fragment,e),f=!1},d(e){e&&z(t),Ae(r),Ae(l),Ae(c),Ae(h)}}}function ei(e,t,n){let r,i;const o=Re(fr,(e=>e.filter((({info:e})=>e.menu&&e.inGlobalMenu))));I(e,o,(e=>n(0,r=e)));const l=Re(fr,(e=>e.filter((({info:e})=>e.menu&&!e.inGlobalMenu))));function s(e){const t=window.prompt("TEMPORARY. Enter element type string:\n"+Object.keys(at).join(", "));if(null!=t)try{!function(e,t){var n;const r=ct(e,t);if(!(e in at))throw Error(`Cannot add unknown element type: ${e}.`);const i=at[e];if(null==i)throw Error(`Cannot add unimplmeneted element type: ${e}.`);const o=""+(31*Math.floor(4294967295*Math.random())+Date.now())%4294967295;Ye(Ne.update({[`elements/${o}`]:r})),"select"===(null===(n=i.menu)||void 0===n?void 0:n.type)&&(Xe.replace(o),Ve.replace(o))}(t)}catch(e){alert(`Unknown or unimplemented element type string: ${JSON.stringify(t)}`)}}I(e,l,(e=>n(1,i=e)));return[r,i,o,l,function(e){const t=e.menu;return null==t?null:function(e){if("select"===t.type)return e.props.info=t,new Er(e);if("checkbox"===t.type)return e.props.info=t,new Fr(e);throw Error(`Unknown menu type "${t.type}".`)}},s,()=>s(),()=>s()]}class ti extends Le{constructor(e){super(),Ee(this,e,ei,Qr,E,{})}}var ni;
/*! *****************************************************************************
  Copyright (c) Microsoft Corporation.

  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.

  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** */
var ri=function(e,t){return(ri=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function ii(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}ri(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var oi=function(){return(oi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function li(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)l.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return l}function si(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||t)}
/**
   * @license
   * Copyright 2016 Google Inc.
   *
   * Permission is hereby granted, free of charge, to any person obtaining a copy
   * of this software and associated documentation files (the "Software"), to deal
   * in the Software without restriction, including without limitation the rights
   * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   * copies of the Software, and to permit persons to whom the Software is
   * furnished to do so, subject to the following conditions:
   *
   * The above copyright notice and this permission notice shall be included in
   * all copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
   * THE SOFTWARE.
   */var ai=function(){function e(e){void 0===e&&(e={}),this.adapter=e}return Object.defineProperty(e,"cssClasses",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{}},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.destroy=function(){},e}(),ci=function(){function e(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];this.root=e,this.initialize.apply(this,si([],li(n))),this.foundation=void 0===t?this.getDefaultFoundation():t,this.foundation.init(),this.initialSyncWithDOM()}return e.attachTo=function(t){return new e(t,new ai({}))},e.prototype.initialize=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},e.prototype.getDefaultFoundation=function(){throw new Error("Subclasses must override getDefaultFoundation to return a properly configured foundation class")},e.prototype.initialSyncWithDOM=function(){},e.prototype.destroy=function(){this.foundation.destroy()},e.prototype.listen=function(e,t,n){this.root.addEventListener(e,t,n)},e.prototype.unlisten=function(e,t,n){this.root.removeEventListener(e,t,n)},e.prototype.emit=function(e,t,n){var r;void 0===n&&(n=!1),"function"==typeof CustomEvent?r=new CustomEvent(e,{bubbles:n,detail:t}):(r=document.createEvent("CustomEvent")).initCustomEvent(e,n,!1,t),this.root.dispatchEvent(r)},e}();
/**
   * @license
   * Copyright 2016 Google Inc.
   *
   * Permission is hereby granted, free of charge, to any person obtaining a copy
   * of this software and associated documentation files (the "Software"), to deal
   * in the Software without restriction, including without limitation the rights
   * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   * copies of the Software, and to permit persons to whom the Software is
   * furnished to do so, subject to the following conditions:
   *
   * The above copyright notice and this permission notice shall be included in
   * all copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
   * THE SOFTWARE.
   */
/**
   * @license
   * Copyright 2019 Google Inc.
   *
   * Permission is hereby granted, free of charge, to any person obtaining a copy
   * of this software and associated documentation files (the "Software"), to deal
   * in the Software without restriction, including without limitation the rights
   * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   * copies of the Software, and to permit persons to whom the Software is
   * furnished to do so, subject to the following conditions:
   *
   * The above copyright notice and this permission notice shall be included in
   * all copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
   * THE SOFTWARE.
   */
function ui(e){return void 0===e&&(e=window),!!function(e){void 0===e&&(e=window);var t=!1;try{var n={get passive(){return t=!0,!1}},r=function(){};e.document.addEventListener("test",r,n),e.document.removeEventListener("test",r,n)}catch(e){t=!1}return t}
/**
   * @license
   * Copyright 2018 Google Inc.
   *
   * Permission is hereby granted, free of charge, to any person obtaining a copy
   * of this software and associated documentation files (the "Software"), to deal
   * in the Software without restriction, including without limitation the rights
   * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   * copies of the Software, and to permit persons to whom the Software is
   * furnished to do so, subject to the following conditions:
   *
   * The above copyright notice and this permission notice shall be included in
   * all copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
   * THE SOFTWARE.
   */(e)&&{passive:!0}}
/**
   * @license
   * Copyright 2016 Google Inc.
   *
   * Permission is hereby granted, free of charge, to any person obtaining a copy
   * of this software and associated documentation files (the "Software"), to deal
   * in the Software without restriction, including without limitation the rights
   * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   * copies of the Software, and to permit persons to whom the Software is
   * furnished to do so, subject to the following conditions:
   *
   * The above copyright notice and this permission notice shall be included in
   * all copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
   * THE SOFTWARE.
   */
var di={BG_FOCUSED:"mdc-ripple-upgraded--background-focused",FG_ACTIVATION:"mdc-ripple-upgraded--foreground-activation",FG_DEACTIVATION:"mdc-ripple-upgraded--foreground-deactivation",ROOT:"mdc-ripple-upgraded",UNBOUNDED:"mdc-ripple-upgraded--unbounded"},hi={VAR_FG_SCALE:"--mdc-ripple-fg-scale",VAR_FG_SIZE:"--mdc-ripple-fg-size",VAR_FG_TRANSLATE_END:"--mdc-ripple-fg-translate-end",VAR_FG_TRANSLATE_START:"--mdc-ripple-fg-translate-start",VAR_LEFT:"--mdc-ripple-left",VAR_TOP:"--mdc-ripple-top"},fi={DEACTIVATION_TIMEOUT_MS:225,FG_DEACTIVATION_MS:150,INITIAL_ORIGIN_SCALE:.6,PADDING:10,TAP_DELAY_MS:300},pi=["touchstart","pointerdown","mousedown","keydown"],mi=["touchend","pointerup","mouseup","contextmenu"],gi=[],vi=function(e){function t(n){var r=e.call(this,oi(oi({},t.defaultAdapter),n))||this;return r.activationAnimationHasEnded_=!1,r.activationTimer_=0,r.fgDeactivationRemovalTimer_=0,r.fgScale_="0",r.frame_={width:0,height:0},r.initialSize_=0,r.layoutFrame_=0,r.maxRadius_=0,r.unboundedCoords_={left:0,top:0},r.activationState_=r.defaultActivationState_(),r.activationTimerCallback_=function(){r.activationAnimationHasEnded_=!0,r.runDeactivationUXLogicIfReady_()},r.activateHandler_=function(e){return r.activate_(e)},r.deactivateHandler_=function(){return r.deactivate_()},r.focusHandler_=function(){return r.handleFocus()},r.blurHandler_=function(){return r.handleBlur()},r.resizeHandler_=function(){return r.layout()},r}return ii(t,e),Object.defineProperty(t,"cssClasses",{get:function(){return di},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return hi},enumerable:!1,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return fi},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},browserSupportsCssVars:function(){return!0},computeBoundingRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},containsEventTarget:function(){return!0},deregisterDocumentInteractionHandler:function(){},deregisterInteractionHandler:function(){},deregisterResizeHandler:function(){},getWindowPageOffset:function(){return{x:0,y:0}},isSurfaceActive:function(){return!0},isSurfaceDisabled:function(){return!0},isUnbounded:function(){return!0},registerDocumentInteractionHandler:function(){},registerInteractionHandler:function(){},registerResizeHandler:function(){},removeClass:function(){},updateCssVariable:function(){}}},enumerable:!1,configurable:!0}),t.prototype.init=function(){var e=this,n=this.supportsPressRipple_();if(this.registerRootHandlers_(n),n){var r=t.cssClasses,i=r.ROOT,o=r.UNBOUNDED;requestAnimationFrame((function(){e.adapter.addClass(i),e.adapter.isUnbounded()&&(e.adapter.addClass(o),e.layoutInternal_())}))}},t.prototype.destroy=function(){var e=this;if(this.supportsPressRipple_()){this.activationTimer_&&(clearTimeout(this.activationTimer_),this.activationTimer_=0,this.adapter.removeClass(t.cssClasses.FG_ACTIVATION)),this.fgDeactivationRemovalTimer_&&(clearTimeout(this.fgDeactivationRemovalTimer_),this.fgDeactivationRemovalTimer_=0,this.adapter.removeClass(t.cssClasses.FG_DEACTIVATION));var n=t.cssClasses,r=n.ROOT,i=n.UNBOUNDED;requestAnimationFrame((function(){e.adapter.removeClass(r),e.adapter.removeClass(i),e.removeCssVars_()}))}this.deregisterRootHandlers_(),this.deregisterDeactivationHandlers_()},t.prototype.activate=function(e){this.activate_(e)},t.prototype.deactivate=function(){this.deactivate_()},t.prototype.layout=function(){var e=this;this.layoutFrame_&&cancelAnimationFrame(this.layoutFrame_),this.layoutFrame_=requestAnimationFrame((function(){e.layoutInternal_(),e.layoutFrame_=0}))},t.prototype.setUnbounded=function(e){var n=t.cssClasses.UNBOUNDED;e?this.adapter.addClass(n):this.adapter.removeClass(n)},t.prototype.handleFocus=function(){var e=this;requestAnimationFrame((function(){return e.adapter.addClass(t.cssClasses.BG_FOCUSED)}))},t.prototype.handleBlur=function(){var e=this;requestAnimationFrame((function(){return e.adapter.removeClass(t.cssClasses.BG_FOCUSED)}))},t.prototype.supportsPressRipple_=function(){return this.adapter.browserSupportsCssVars()},t.prototype.defaultActivationState_=function(){return{activationEvent:void 0,hasDeactivationUXRun:!1,isActivated:!1,isProgrammatic:!1,wasActivatedByPointer:!1,wasElementMadeActive:!1}},t.prototype.registerRootHandlers_=function(e){var t=this;e&&(pi.forEach((function(e){t.adapter.registerInteractionHandler(e,t.activateHandler_)})),this.adapter.isUnbounded()&&this.adapter.registerResizeHandler(this.resizeHandler_)),this.adapter.registerInteractionHandler("focus",this.focusHandler_),this.adapter.registerInteractionHandler("blur",this.blurHandler_)},t.prototype.registerDeactivationHandlers_=function(e){var t=this;"keydown"===e.type?this.adapter.registerInteractionHandler("keyup",this.deactivateHandler_):mi.forEach((function(e){t.adapter.registerDocumentInteractionHandler(e,t.deactivateHandler_)}))},t.prototype.deregisterRootHandlers_=function(){var e=this;pi.forEach((function(t){e.adapter.deregisterInteractionHandler(t,e.activateHandler_)})),this.adapter.deregisterInteractionHandler("focus",this.focusHandler_),this.adapter.deregisterInteractionHandler("blur",this.blurHandler_),this.adapter.isUnbounded()&&this.adapter.deregisterResizeHandler(this.resizeHandler_)},t.prototype.deregisterDeactivationHandlers_=function(){var e=this;this.adapter.deregisterInteractionHandler("keyup",this.deactivateHandler_),mi.forEach((function(t){e.adapter.deregisterDocumentInteractionHandler(t,e.deactivateHandler_)}))},t.prototype.removeCssVars_=function(){var e=this,n=t.strings;Object.keys(n).forEach((function(t){0===t.indexOf("VAR_")&&e.adapter.updateCssVariable(n[t],null)}))},t.prototype.activate_=function(e){var t=this;if(!this.adapter.isSurfaceDisabled()){var n=this.activationState_;if(!n.isActivated){var r=this.previousActivationEvent_;if(!(r&&void 0!==e&&r.type!==e.type))n.isActivated=!0,n.isProgrammatic=void 0===e,n.activationEvent=e,n.wasActivatedByPointer=!n.isProgrammatic&&(void 0!==e&&("mousedown"===e.type||"touchstart"===e.type||"pointerdown"===e.type)),void 0!==e&&gi.length>0&&gi.some((function(e){return t.adapter.containsEventTarget(e)}))?this.resetActivationState_():(void 0!==e&&(gi.push(e.target),this.registerDeactivationHandlers_(e)),n.wasElementMadeActive=this.checkElementMadeActive_(e),n.wasElementMadeActive&&this.animateActivation_(),requestAnimationFrame((function(){gi=[],n.wasElementMadeActive||void 0===e||" "!==e.key&&32!==e.keyCode||(n.wasElementMadeActive=t.checkElementMadeActive_(e),n.wasElementMadeActive&&t.animateActivation_()),n.wasElementMadeActive||(t.activationState_=t.defaultActivationState_())})))}}},t.prototype.checkElementMadeActive_=function(e){return void 0===e||"keydown"!==e.type||this.adapter.isSurfaceActive()},t.prototype.animateActivation_=function(){var e=this,n=t.strings,r=n.VAR_FG_TRANSLATE_START,i=n.VAR_FG_TRANSLATE_END,o=t.cssClasses,l=o.FG_DEACTIVATION,s=o.FG_ACTIVATION,a=t.numbers.DEACTIVATION_TIMEOUT_MS;this.layoutInternal_();var c="",u="";if(!this.adapter.isUnbounded()){var d=this.getFgTranslationCoordinates_(),h=d.startPoint,f=d.endPoint;c=h.x+"px, "+h.y+"px",u=f.x+"px, "+f.y+"px"}this.adapter.updateCssVariable(r,c),this.adapter.updateCssVariable(i,u),clearTimeout(this.activationTimer_),clearTimeout(this.fgDeactivationRemovalTimer_),this.rmBoundedActivationClasses_(),this.adapter.removeClass(l),this.adapter.computeBoundingRect(),this.adapter.addClass(s),this.activationTimer_=setTimeout((function(){return e.activationTimerCallback_()}),a)},t.prototype.getFgTranslationCoordinates_=function(){var e,t=this.activationState_,n=t.activationEvent;return{startPoint:e={x:(e=t.wasActivatedByPointer?function(e,t,n){if(!e)return{x:0,y:0};var r,i,o=t.x,l=t.y,s=o+n.left,a=l+n.top;if("touchstart"===e.type){var c=e;r=c.changedTouches[0].pageX-s,i=c.changedTouches[0].pageY-a}else{var u=e;r=u.pageX-s,i=u.pageY-a}return{x:r,y:i}}(n,this.adapter.getWindowPageOffset(),this.adapter.computeBoundingRect()):{x:this.frame_.width/2,y:this.frame_.height/2}).x-this.initialSize_/2,y:e.y-this.initialSize_/2},endPoint:{x:this.frame_.width/2-this.initialSize_/2,y:this.frame_.height/2-this.initialSize_/2}}},t.prototype.runDeactivationUXLogicIfReady_=function(){var e=this,n=t.cssClasses.FG_DEACTIVATION,r=this.activationState_,i=r.hasDeactivationUXRun,o=r.isActivated;(i||!o)&&this.activationAnimationHasEnded_&&(this.rmBoundedActivationClasses_(),this.adapter.addClass(n),this.fgDeactivationRemovalTimer_=setTimeout((function(){e.adapter.removeClass(n)}),fi.FG_DEACTIVATION_MS))},t.prototype.rmBoundedActivationClasses_=function(){var e=t.cssClasses.FG_ACTIVATION;this.adapter.removeClass(e),this.activationAnimationHasEnded_=!1,this.adapter.computeBoundingRect()},t.prototype.resetActivationState_=function(){var e=this;this.previousActivationEvent_=this.activationState_.activationEvent,this.activationState_=this.defaultActivationState_(),setTimeout((function(){return e.previousActivationEvent_=void 0}),t.numbers.TAP_DELAY_MS)},t.prototype.deactivate_=function(){var e=this,t=this.activationState_;if(t.isActivated){var n=oi({},t);t.isProgrammatic?(requestAnimationFrame((function(){return e.animateDeactivation_(n)})),this.resetActivationState_()):(this.deregisterDeactivationHandlers_(),requestAnimationFrame((function(){e.activationState_.hasDeactivationUXRun=!0,e.animateDeactivation_(n),e.resetActivationState_()})))}},t.prototype.animateDeactivation_=function(e){var t=e.wasActivatedByPointer,n=e.wasElementMadeActive;(t||n)&&this.runDeactivationUXLogicIfReady_()},t.prototype.layoutInternal_=function(){var e=this;this.frame_=this.adapter.computeBoundingRect();var n=Math.max(this.frame_.height,this.frame_.width);this.maxRadius_=this.adapter.isUnbounded()?n:Math.sqrt(Math.pow(e.frame_.width,2)+Math.pow(e.frame_.height,2))+t.numbers.PADDING;var r=Math.floor(n*t.numbers.INITIAL_ORIGIN_SCALE);this.adapter.isUnbounded()&&r%2!=0?this.initialSize_=r-1:this.initialSize_=r,this.fgScale_=""+this.maxRadius_/this.initialSize_,this.updateLayoutCssVars_()},t.prototype.updateLayoutCssVars_=function(){var e=t.strings,n=e.VAR_FG_SIZE,r=e.VAR_LEFT,i=e.VAR_TOP,o=e.VAR_FG_SCALE;this.adapter.updateCssVariable(n,this.initialSize_+"px"),this.adapter.updateCssVariable(o,this.fgScale_),this.adapter.isUnbounded()&&(this.unboundedCoords_={left:Math.round(this.frame_.width/2-this.initialSize_/2),top:Math.round(this.frame_.height/2-this.initialSize_/2)},this.adapter.updateCssVariable(r,this.unboundedCoords_.left+"px"),this.adapter.updateCssVariable(i,this.unboundedCoords_.top+"px"))},t}(ai),yi=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.disabled=!1,t}return ii(t,e),t.attachTo=function(e,n){void 0===n&&(n={isUnbounded:void 0});var r=new t(e);return void 0!==n.isUnbounded&&(r.unbounded=n.isUnbounded),r},t.createAdapter=function(e){return{addClass:function(t){return e.root.classList.add(t)},browserSupportsCssVars:function(){return function(e,t){void 0===t&&(t=!1);var n,r=e.CSS;if("boolean"==typeof ni&&!t)return ni;if(!r||"function"!=typeof r.supports)return!1;var i=r.supports("--css-vars","yes"),o=r.supports("(--css-vars: yes)")&&r.supports("color","#00000000");return n=i||o,t||(ni=n),n}(window)},computeBoundingRect:function(){return e.root.getBoundingClientRect()},containsEventTarget:function(t){return e.root.contains(t)},deregisterDocumentInteractionHandler:function(e,t){return document.documentElement.removeEventListener(e,t,ui())},deregisterInteractionHandler:function(t,n){return e.root.removeEventListener(t,n,ui())},deregisterResizeHandler:function(e){return window.removeEventListener("resize",e)},getWindowPageOffset:function(){return{x:window.pageXOffset,y:window.pageYOffset}},isSurfaceActive:function(){return function(e,t){return(e.matches||e.webkitMatchesSelector||e.msMatchesSelector).call(e,t)}(e.root,":active")},isSurfaceDisabled:function(){return Boolean(e.disabled)},isUnbounded:function(){return Boolean(e.unbounded)},registerDocumentInteractionHandler:function(e,t){return document.documentElement.addEventListener(e,t,ui())},registerInteractionHandler:function(t,n){return e.root.addEventListener(t,n,ui())},registerResizeHandler:function(e){return window.addEventListener("resize",e)},removeClass:function(t){return e.root.classList.remove(t)},updateCssVariable:function(t,n){return e.root.style.setProperty(t,n)}}},Object.defineProperty(t.prototype,"unbounded",{get:function(){return Boolean(this.unbounded_)},set:function(e){this.unbounded_=Boolean(e),this.setUnbounded_()},enumerable:!1,configurable:!0}),t.prototype.activate=function(){this.foundation.activate()},t.prototype.deactivate=function(){this.foundation.deactivate()},t.prototype.layout=function(){this.foundation.layout()},t.prototype.getDefaultFoundation=function(){return new vi(t.createAdapter(this))},t.prototype.initialSyncWithDOM=function(){var e=this.root;this.unbounded="mdcRippleIsUnbounded"in e.dataset},t.prototype.setUnbounded_=function(){this.foundation.setUnbounded(Boolean(this.unbounded_))},t}(ci);function bi(e){let t,n,r,i,o,l,s,a,c,u,d,h,f,p,m,g,v,y,b,w,k,_,x,$,T,H,M,S,E,L,I,D,j,R,U,P,N,G,q,X,K,W,Z,Q,te,ne,ie,oe,le,se,ae,ce,ue,de,he,fe;return{c(){t=V("div"),n=V("div"),r=V("div"),i=V("div"),o=V("input"),l=Y(),s=V("label"),s.innerHTML='<span aria-hidden="true">1</span> \n                    <span class="sr-only">Digits</span>',a=Y(),c=V("div"),u=V("input"),d=Y(),h=V("label"),h.innerHTML='<span aria-hidden="true" style="font-size: 50%;"><span style="position: absolute; top:    12%; left:  20%;">1</span> \n                        <span style="position: absolute; top:    12%; right: 20%;">2</span> \n                        <span style="position: absolute; bottom: 12%; left:  20%;">3</span></span> \n                    <span class="sr-only">Corner Marks</span>',f=Y(),p=V("div"),m=V("input"),g=Y(),v=V("label"),v.innerHTML='<span aria-hidden="true" style="font-size: 50%;">123</span> \n                    <span class="sr-only">Center Marks</span>',y=Y(),b=V("div"),w=V("input"),k=Y(),_=V("label"),_.innerHTML='<span class="icon icon-inline icon-c-textinv icon-colors svelte-hmnhaq"></span> \n                    <span class="sr-only">Colors</span>',x=Y(),$=V("div"),T=V("div"),H=V("div"),M=V("button"),M.textContent="1",S=Y(),E=V("button"),E.textContent="2",L=Y(),I=V("button"),I.textContent="3",D=Y(),j=V("button"),j.textContent="4",R=Y(),U=V("button"),U.textContent="5",P=Y(),N=V("button"),N.textContent="6",G=Y(),q=V("button"),q.textContent="7",X=Y(),K=V("button"),K.textContent="8",W=Y(),Z=V("button"),Z.textContent="9",Q=Y(),te=V("button"),te.textContent="0",ne=Y(),ie=V("button"),ie.innerHTML='<span class="icon icon-inline icon-c-textinv icon-delete"></span>',oe=Y(),le=V("div"),se=V("button"),se.innerHTML='<span class="icon icon-inline icon-c-textinv icon-undo"></span>',ae=Y(),ce=V("button"),ce.innerHTML='<span class="icon icon-inline icon-c-textinv icon-undo redo"></span>',ue=Y(),de=V("button"),de.innerHTML='<span class="icon icon-inline icon-c-textinv icon-screenshot"></span>',ee(o,"class","radio-mode-button svelte-hmnhaq"),ee(o,"type","radio"),ee(o,"name",Ke),ee(o,"id","mode-radio-digits"),o.__value=e[0],o.value=o.__value,e[13][0].push(o),ee(s,"class","mdc-ripple-surface padbutton padbutton-mode svelte-hmnhaq"),ee(s,"role","button"),ee(s,"for","mode-radio-digits"),ee(i,"class","svelte-hmnhaq"),ee(u,"class","radio-mode-button svelte-hmnhaq"),ee(u,"type","radio"),ee(u,"name",Ke),ee(u,"id","mode-radio-corner"),u.__value=e[2],u.value=u.__value,e[13][0].push(u),ee(h,"class","mdc-ripple-surface padbutton padbutton-mode svelte-hmnhaq"),ee(h,"role","button"),ee(h,"for","mode-radio-corner"),ee(c,"class","svelte-hmnhaq"),ee(m,"class","radio-mode-button svelte-hmnhaq"),ee(m,"type","radio"),ee(m,"name",Ke),ee(m,"id","mode-radio-center"),m.__value=e[3],m.value=m.__value,e[13][0].push(m),ee(v,"class","mdc-ripple-surface padbutton padbutton-mode svelte-hmnhaq"),ee(v,"role","button"),ee(v,"for","mode-radio-center"),ee(p,"class","svelte-hmnhaq"),ee(w,"class","radio-mode-button svelte-hmnhaq"),ee(w,"type","radio"),ee(w,"name",Ke),ee(w,"id","mode-radio-colors"),w.__value=e[4],w.value=w.__value,e[13][0].push(w),ee(_,"class","mdc-ripple-surface padbutton padbutton-mode svelte-hmnhaq"),ee(_,"role","button"),ee(_,"for","mode-radio-colors"),ee(b,"class","svelte-hmnhaq"),ee(r,"class","mode-pad svelte-hmnhaq"),ee(n,"class","mode-pad-container svelte-hmnhaq"),ee(M,"class","mdc-ripple-surface padbutton svelte-hmnhaq"),re(M,"grid-area","1 / 1 / 2 / 2"),M.value="1",ee(E,"class","mdc-ripple-surface padbutton svelte-hmnhaq"),re(E,"grid-area","1 / 2 / 2 / 3"),E.value="2",ee(I,"class","mdc-ripple-surface padbutton svelte-hmnhaq"),re(I,"grid-area","1 / 3 / 2 / 4"),I.value="3",ee(j,"class","mdc-ripple-surface padbutton svelte-hmnhaq"),re(j,"grid-area","2 / 1 / 3 / 2"),j.value="4",ee(U,"class","mdc-ripple-surface padbutton svelte-hmnhaq"),re(U,"grid-area","2 / 2 / 3 / 3"),U.value="5",ee(N,"class","mdc-ripple-surface padbutton svelte-hmnhaq"),re(N,"grid-area","2 / 3 / 3 / 4"),N.value="6",ee(q,"class","mdc-ripple-surface padbutton svelte-hmnhaq"),re(q,"grid-area","3 / 1 / 4 / 2"),q.value="7",ee(K,"class","mdc-ripple-surface padbutton svelte-hmnhaq"),re(K,"grid-area","3 / 2 / 4 / 3"),K.value="8",ee(Z,"class","mdc-ripple-surface padbutton svelte-hmnhaq"),re(Z,"grid-area","3 / 3 / 4 / 4"),Z.value="9",ee(te,"class","mdc-ripple-surface padbutton svelte-hmnhaq"),re(te,"grid-area","4 / 1 / 5 / 2"),te.value="0",ee(ie,"class","mdc-ripple-surface padbutton svelte-hmnhaq"),re(ie,"grid-area","4 / 2 / 5 / 4"),ie.value="Delete",ee(ie,"title","Delete"),ee(ie,"aria-label","Delete"),ee(H,"class","num-pad svelte-hmnhaq"),ee(se,"class","mdc-ripple-surface padbutton svelte-hmnhaq"),ee(se,"title","Undo"),ee(se,"aria-label","Undo"),ee(ce,"class","mdc-ripple-surface padbutton svelte-hmnhaq"),ee(ce,"title","Redo"),ee(ce,"aria-label","Redo"),ee(de,"class","mdc-ripple-surface padbutton svelte-hmnhaq"),ee(de,"title","Take Screenshot"),ee(de,"aria-label","Take Screenshot"),ee(le,"class","ctrl-pad svelte-hmnhaq"),ee(T,"class","right svelte-hmnhaq"),ee($,"class","right-container svelte-hmnhaq"),ee(t,"class","container svelte-hmnhaq")},m(C,A){B(C,t,A),F(t,n),F(n,r),F(r,i),F(i,o),o.checked=o.__value===e[1],F(i,l),F(i,s),F(r,a),F(r,c),F(c,u),u.checked=u.__value===e[1],F(c,d),F(c,h),F(r,f),F(r,p),F(p,m),m.checked=m.__value===e[1],F(p,g),F(p,v),F(r,y),F(r,b),F(b,w),w.checked=w.__value===e[1],F(b,k),F(b,_),F(t,x),F(t,$),F($,T),F(T,H),F(H,M),F(H,S),F(H,E),F(H,L),F(H,I),F(H,D),F(H,j),F(H,R),F(H,U),F(H,P),F(H,N),F(H,G),F(H,q),F(H,X),F(H,K),F(H,W),F(H,Z),F(H,Q),F(H,te),F(H,ne),F(H,ie),F(T,oe),F(T,le),F(le,se),F(le,ae),F(le,ce),F(le,ue),F(le,de),he||(fe=[J(o,"change",e[12]),J(o,"change",e[6]),J(u,"change",e[14]),J(u,"change",e[6]),J(m,"change",e[15]),J(m,"change",e[6]),J(w,"change",e[16]),J(w,"change",e[6]),J(M,"click",(function(){O(e[5]&&e[5].padClick||void 0)&&(e[5]&&e[5].padClick||void 0).apply(this,arguments)})),J(E,"click",(function(){O(e[5]&&e[5].padClick||void 0)&&(e[5]&&e[5].padClick||void 0).apply(this,arguments)})),J(I,"click",(function(){O(e[5]&&e[5].padClick||void 0)&&(e[5]&&e[5].padClick||void 0).apply(this,arguments)})),J(j,"click",(function(){O(e[5]&&e[5].padClick||void 0)&&(e[5]&&e[5].padClick||void 0).apply(this,arguments)})),J(U,"click",(function(){O(e[5]&&e[5].padClick||void 0)&&(e[5]&&e[5].padClick||void 0).apply(this,arguments)})),J(N,"click",(function(){O(e[5]&&e[5].padClick||void 0)&&(e[5]&&e[5].padClick||void 0).apply(this,arguments)})),J(q,"click",(function(){O(e[5]&&e[5].padClick||void 0)&&(e[5]&&e[5].padClick||void 0).apply(this,arguments)})),J(K,"click",(function(){O(e[5]&&e[5].padClick||void 0)&&(e[5]&&e[5].padClick||void 0).apply(this,arguments)})),J(Z,"click",(function(){O(e[5]&&e[5].padClick||void 0)&&(e[5]&&e[5].padClick||void 0).apply(this,arguments)})),J(te,"click",(function(){O(e[5]&&e[5].padClick||void 0)&&(e[5]&&e[5].padClick||void 0).apply(this,arguments)})),J(ie,"click",(function(){O(e[5]&&e[5].padClick||void 0)&&(e[5]&&e[5].padClick||void 0).apply(this,arguments)})),J(se,"click",e[17]),J(ce,"click",e[18]),J(t,"click",e[11])],he=!0)},p(t,[n]){e=t,1&n&&(o.__value=e[0],o.value=o.__value),2&n&&(o.checked=o.__value===e[1]),4&n&&(u.__value=e[2],u.value=u.__value),2&n&&(u.checked=u.__value===e[1]),8&n&&(m.__value=e[3],m.value=m.__value),2&n&&(m.checked=m.__value===e[1]),16&n&&(w.__value=e[4],w.value=w.__value),2&n&&(w.checked=w.__value===e[1])},i:C,o:C,d(n){n&&z(t),e[13][0].splice(e[13][0].indexOf(o),1),e[13][0].splice(e[13][0].indexOf(u),1),e[13][0].splice(e[13][0].indexOf(m),1),e[13][0].splice(e[13][0].indexOf(w),1),he=!1,A(fe)}}}function wi(e,t,n){let r,i,o,l,s,a,c;var u;I(e,Pe,(e=>n(19,r=e))),I(e,Xe,(e=>n(1,o=e))),I(e,pr,(e=>n(5,c=e))),u=()=>Array.prototype.forEach.call(document.getElementsByClassName("mdc-ripple-surface"),(e=>yi.attachTo(e))),le().$$.on_mount.push(u);const d=Be.ref("marks","filled");I(e,d,(e=>n(0,i=e)));const h=Be.ref("marks","corner");I(e,h,(e=>n(2,l=e)));const f=Be.ref("marks","center");I(e,f,(e=>n(3,s=e)));const p=Be.ref("marks","colors");I(e,p,(e=>n(4,a=e)));return[i,o,l,s,a,c,function(){Ve.set(Xe.get())},d,h,f,p,function(e){0===e.screenX&&0===e.screenY||r.focus()},function(){o=this.__value,Xe.set(o)},[[]],function(){o=this.__value,Xe.set(o)},function(){o=this.__value,Xe.set(o)},function(){o=this.__value,Xe.set(o)},()=>We(!1),()=>We(!0)]}class ki extends Le{constructor(e){super(),Ee(this,e,wi,bi,E,{})}}function _i(e){let t,n,r,i,o,l,s,a,c,u,d,h,f;return r=new ki({}),{c(){t=V("div"),n=V("div"),Me(r.$$.fragment),i=Y(),o=V("div"),l=V("input"),s=Y(),a=V("input"),c=Y(),u=V("textarea"),ee(n,"class","entry-pad svelte-fcgi7u"),ee(l,"class","info-input title svelte-fcgi7u"),ee(l,"type","text"),ee(l,"placeholder","Untitled"),ee(a,"class","info-input setter svelte-fcgi7u"),ee(a,"type","text"),ee(a,"placeholder","Anonymous"),ee(u,"class","rules-text svelte-fcgi7u"),ee(u,"spellcheck","false"),ee(o,"class","entry-info svelte-fcgi7u"),ee(t,"class","entry-column svelte-fcgi7u")},m(p,m){B(p,t,m),F(t,n),Se(r,n,null),e[7](n),F(t,i),F(t,o),F(o,l),ne(l,e[1]),F(o,s),F(o,a),ne(a,e[2]),F(o,c),F(o,u),ne(u,e[3]),d=!0,h||(f=[J(l,"input",e[8]),J(a,"input",e[9]),J(u,"input",e[10]),J(u,"focus",xi),J(u,"blur",xi)],h=!0)},p(e,[t]){2&t&&l.value!==e[1]&&ne(l,e[1]),4&t&&a.value!==e[2]&&ne(a,e[2]),8&t&&ne(u,e[3])},i(e){d||(xe(r.$$.fragment,e),d=!0)},o(e){$e(r.$$.fragment,e),d=!1},d(n){n&&z(t),Ae(r),e[7](null),h=!1,A(f)}}}function xi(e){e.currentTarget.setAttribute("spellcheck",`${document.activeElement===e.currentTarget}`)}function $i(e,t,n){let r,i,o,l;function s(){n(0,l.style.fontSize=.12*l.clientWidth+"px",l)}var a;window.addEventListener("resize",s),a=()=>window.removeEventListener("resize",s),le().$$.on_destroy.push(a),requestAnimationFrame(s);const c=Ne.ref("meta","title");I(e,c,(e=>n(1,r=e)));const u=Ne.ref("meta","author");I(e,u,(e=>n(2,i=e)));const d=Ne.ref("meta","description");return I(e,d,(e=>n(3,o=e))),[l,r,i,o,c,u,d,function(e){ce[e?"unshift":"push"]((()=>{l=e,n(0,l)}))},function(){r=this.value,c.set(r)},function(){i=this.value,u.set(i)},function(){o=this.value,d.set(o)}]}class Ti extends Le{constructor(e){super(),Ee(this,e,$i,_i,E,{})}}function Hi(e){let t,n,r;return{c(){t=V("div"),t.innerHTML='<ul class="header-buttons left svelte-1gtf4ed"><li>Solving/Setting</li> \n        <li>New Grid</li> \n        <li>Export</li></ul>',n=Y(),r=V("div"),r.innerHTML='<ul class="header-buttons right svelte-1gtf4ed"><li>Light/dark</li> \n        <li>Help</li> \n        <li>Settings</li></ul>',ee(t,"class","header-left svelte-1gtf4ed"),ee(r,"class","header-right svelte-1gtf4ed")},m(e,i){B(e,t,i),B(e,n,i),B(e,r,i)},p:C,i:C,o:C,d(e){e&&z(t),e&&z(n),e&&z(r)}}}class Ci extends Le{constructor(e){super(),Ee(this,e,null,Hi,E,{})}}function Mi(e){let t,n,r,i,o,l,s,a,c,u,d,h,f,p,m,g,v,y,b,w,k,_,x,$,T,H,M,S,A,O;return l=new Ci({}),h=new ti({}),m=new vr({}),y=new Ti({}),{c(){t=V("header"),n=V("button"),n.textContent="Jump To Board",r=Y(),i=V("div"),o=V("div"),Me(l.$$.fragment),s=Y(),a=V("main"),c=V("div"),u=V("div"),d=V("div"),Me(h.$$.fragment),f=Y(),p=V("div"),Me(m.$$.fragment),g=Y(),v=V("div"),Me(y.$$.fragment),b=Y(),w=V("footer"),k=V("a"),k.textContent="Sudoku Studio v.398794a",_=Y(),x=V("a"),$=K("Report A Bug"),T=Y(),H=V("a"),M=K("Request A Feature"),ee(n,"class","nobutton focus-skip"),ee(o,"class","content-row"),ee(i,"class","content"),ee(t,"class","svelte-nck68o"),ee(d,"class","left-panel svelte-nck68o"),ee(p,"class","center-panel svelte-nck68o"),ee(v,"class","right-panel svelte-nck68o"),ee(u,"class","content-row svelte-nck68o"),ee(c,"class","content svelte-nck68o"),ee(a,"class","svelte-nck68o"),ee(k,"href","https://github.com/SudokuStudio/SudokuStudio"),ee(k,"class","svelte-nck68o"),ee(x,"href",ht),ee(x,"class","svelte-nck68o"),ee(H,"href",ft),ee(H,"class","svelte-nck68o"),ee(w,"class","svelte-nck68o")},m(C,E){B(C,t,E),F(t,n),F(t,r),F(t,i),F(i,o),Se(l,o,null),B(C,s,E),B(C,a,E),F(a,c),F(c,u),F(u,d),Se(h,d,null),F(u,f),F(u,p),Se(m,p,null),F(u,g),F(u,v),Se(y,v,null),B(C,b,E),B(C,w,E),F(w,k),F(w,_),F(w,x),F(x,$),F(w,T),F(w,H),F(H,M),S=!0,A||(O=J(n,"click",e[1]),A=!0)},p:C,i(e){S||(xe(l.$$.fragment,e),xe(h.$$.fragment,e),xe(m.$$.fragment,e),xe(y.$$.fragment,e),S=!0)},o(e){$e(l.$$.fragment,e),$e(h.$$.fragment,e),$e(m.$$.fragment,e),$e(y.$$.fragment,e),S=!1},d(e){e&&z(t),Ae(l),e&&z(s),e&&z(a),Ae(h),Ae(m),Ae(y),e&&z(b),e&&z(w),A=!1,O()}}}function Si(e,t,n){let r;I(e,Pe,(e=>n(0,r=e)));return[r,()=>r&&r.focus()]}!function(){Ne.watch(t.debounce(((e,t,n)=>{const i=new URL(window.location.href);i.searchParams.set("b",r.compressToEncodedURIComponent(JSON.stringify(n))),window.history.replaceState(null,"",i.href)}),200),!1,".");const e=new URL(window.location.href);if(e.searchParams.has("b")){const t=e.searchParams.get("b");try{const e=r.decompressFromEncodedURIComponent(t);if(null!=e){const t=JSON.parse(e);return ut(t),void Ne.update(t)}}catch(e){console.error("Failed to update board from `b` param.")}}const n=function(e=3,t=3){const n=e*t,r={grid:{width:n,height:n},meta:{title:null,author:null,description:null},elements:{}};return r.elements[1]=ct("grid"),r.elements[2]=ct("box",{width:e,height:t}),r.elements[10]=ct("givens"),r.elements[11]=ct("filled"),r.elements[12]=ct("corner"),r.elements[13]=ct("center"),r.elements[14]=ct("colors"),r}();ut(n),Ne.update(n)}();return new class extends Le{constructor(e){super(),Ee(this,e,Si,Mi,E,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
