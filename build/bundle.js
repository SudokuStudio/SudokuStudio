var sudoku_studio_web=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function i(t){t.forEach(e)}function r(t){return"function"==typeof t}function o(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function s(e,...n){if(null==e)return t;const i=e.subscribe(...n);return i.unsubscribe?()=>i.unsubscribe():i}function a(t,e,n){t.$$.on_destroy.push(s(e,n))}function l(t,e,n,i){if(t){const r=c(t,e,n,i);return t[0](r)}}function c(t,e,n,i){return t[1]&&i?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](i(e))):n.ctx}function u(t,e,n,i,r,o,s){const a=function(t,e,n,i){if(t[2]&&i){const r=t[2](i(n));if(void 0===e.dirty)return r;if("object"==typeof r){const t=[],n=Math.max(e.dirty.length,r.length);for(let i=0;i<n;i+=1)t[i]=e.dirty[i]|r[i];return t}return e.dirty|r}return e.dirty}(e,i,r,o);if(a){const r=c(e,n,i,s);t.p(r,a)}}function d(t,e,n=e){return t.set(n),e}let f,h=!1;function p(t,e,n,i){for(;t<e;){const r=t+(e-t>>1);n(r)<=i?t=r+1:e=r}return t}function m(t,e){h?(!function(t){if(t.hydrate_init)return;t.hydrate_init=!0;const e=t.childNodes,n=new Int32Array(e.length+1),i=new Int32Array(e.length);n[0]=-1;let r=0;for(let t=0;t<e.length;t++){const o=p(1,r+1,(t=>e[n[t]].claim_order),e[t].claim_order)-1;i[t]=n[o]+1;const s=o+1;n[s]=t,r=Math.max(s,r)}const o=[],s=[];let a=e.length-1;for(let t=n[r]+1;0!=t;t=i[t-1]){for(o.push(e[t-1]);a>=t;a--)s.push(e[a]);a--}for(;a>=0;a--)s.push(e[a]);o.reverse(),s.sort(((t,e)=>t.claim_order-e.claim_order));for(let e=0,n=0;e<s.length;e++){for(;n<o.length&&s[e].claim_order>=o[n].claim_order;)n++;const i=n<o.length?o[n]:null;t.insertBefore(s[e],i)}}(t),(void 0===t.actual_end_child||null!==t.actual_end_child&&t.actual_end_child.parentElement!==t)&&(t.actual_end_child=t.firstChild),e!==t.actual_end_child?t.insertBefore(e,t.actual_end_child):t.actual_end_child=e.nextSibling):e.parentNode!==t&&t.appendChild(e)}function g(t,e,n){h&&!n?m(t,e):(e.parentNode!==t||n&&e.nextSibling!==n)&&t.insertBefore(e,n||null)}function v(t){t.parentNode.removeChild(t)}function $(t){return document.createElement(t)}function _(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function y(t){return document.createTextNode(t)}function w(){return y(" ")}function b(){return y("")}function k(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function x(t){return function(e){return e.preventDefault(),t.call(this,e)}}function A(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function C(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function E(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function O(t,e,n,i){t.style.setProperty(e,n,i?"important":"")}function S(t,e,n){t.classList[n?"add":"remove"](e)}function T(t){f=t}function L(){if(!f)throw new Error("Function called outside component initialization");return f}function M(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t.call(this,e)))}const I=[],j=[],D=[],N=[],R=Promise.resolve();let H=!1;function U(t){D.push(t)}let P=!1;const G=new Set;function q(){if(!P){P=!0;do{for(let t=0;t<I.length;t+=1){const e=I[t];T(e),F(e.$$)}for(T(null),I.length=0;j.length;)j.pop()();for(let t=0;t<D.length;t+=1){const e=D[t];G.has(e)||(G.add(e),e())}D.length=0}while(I.length);for(;N.length;)N.pop()();H=!1,P=!1,G.clear()}}function F(t){if(null!==t.fragment){t.update(),i(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(U)}}const B=new Set;let V;function z(){V={r:0,c:[],p:V}}function W(){V.r||i(V.c),V=V.p}function Y(t,e){t&&t.i&&(B.delete(t),t.i(e))}function X(t,e,n,i){if(t&&t.o){if(B.has(t))return;B.add(t),V.c.push((()=>{B.delete(t),i&&(n&&t.d(1),i())})),t.o(e)}}function K(t,e){t.d(1),e.delete(t.key)}function Z(t,e){X(t,1,1,(()=>{e.delete(t.key)}))}function J(t,e,n,i,r,o,s,a,l,c,u,d){let f=t.length,h=o.length,p=f;const m={};for(;p--;)m[t[p].key]=p;const g=[],v=new Map,$=new Map;for(p=h;p--;){const t=d(r,o,p),a=n(t);let l=s.get(a);l?i&&l.p(t,e):(l=c(a,t),l.c()),v.set(a,g[p]=l),a in m&&$.set(a,Math.abs(p-m[a]))}const _=new Set,y=new Set;function w(t){Y(t,1),t.m(a,u),s.set(t.key,t),u=t.first,h--}for(;f&&h;){const e=g[h-1],n=t[f-1],i=e.key,r=n.key;e===n?(u=e.first,f--,h--):v.has(r)?!s.has(i)||_.has(i)?w(e):y.has(r)?f--:$.get(i)>$.get(r)?(y.add(i),w(e)):(_.add(r),f--):(l(n,s),f--)}for(;f--;){const e=t[f];v.has(e.key)||l(e,s)}for(;h;)w(g[h-1]);return g}function Q(t){t&&t.c()}function tt(t,n,o,s){const{fragment:a,on_mount:l,on_destroy:c,after_update:u}=t.$$;a&&a.m(n,o),s||U((()=>{const n=l.map(e).filter(r);c?c.push(...n):i(n),t.$$.on_mount=[]})),u.forEach(U)}function et(t,e){const n=t.$$;null!==n.fragment&&(i(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function nt(t,e){-1===t.$$.dirty[0]&&(I.push(t),H||(H=!0,R.then(q)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function it(e,r,o,s,a,l,c=[-1]){const u=f;T(e);const d=e.$$={fragment:null,ctx:null,props:l,update:t,not_equal:a,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:r.context||[]),callbacks:n(),dirty:c,skip_bound:!1};let p=!1;if(d.ctx=o?o(e,r.props||{},((t,n,...i)=>{const r=i.length?i[0]:n;return d.ctx&&a(d.ctx[t],d.ctx[t]=r)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](r),p&&nt(e,t)),n})):[],d.update(),p=!0,i(d.before_update),d.fragment=!!s&&s(d.ctx),r.target){if(r.hydrate){h=!0;const t=function(t){return Array.from(t.childNodes)}(r.target);d.fragment&&d.fragment.l(t),t.forEach(v)}else d.fragment&&d.fragment.c();r.intro&&Y(e.$$.fragment),tt(e,r.target,r.anchor,r.customElement),h=!1,q()}T(u)}class rt{$destroy(){et(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const ot=[];function st(e,n=t){let i;const r=[];function s(t){if(o(e,t)&&(e=t,i)){const t=!ot.length;for(let t=0;t<r.length;t+=1){const n=r[t];n[1](),ot.push(n,e)}if(t){for(let t=0;t<ot.length;t+=2)ot[t][0](ot[t+1]);ot.length=0}}}return{set:s,update:function(t){s(t(e))},subscribe:function(o,a=t){const l=[o,a];return r.push(l),1===r.length&&(i=n(s)||t),o(e),()=>{const t=r.indexOf(l);-1!==t&&r.splice(t,1),0===r.length&&(i(),i=null)}}}}function at(e,n,o){const a=!Array.isArray(e),l=a?[e]:e,c=n.length<2;return{subscribe:st(o,(e=>{let o=!1;const u=[];let d=0,f=t;const h=()=>{if(d)return;f();const i=n(a?u[0]:u,e);c?e(i):f=r(i)?i:t},p=l.map(((t,e)=>s(t,(t=>{u[e]=t,d&=~(1<<e),o&&h()}),(()=>{d|=1<<e}))));return o=!0,h(),function(){i(p),f()}})).subscribe}}const lt=.01,ct=.005,ut=.04;function dt(t,{width:e}){return[t%e,Math.floor(t/e)]}function ft([t,e],{width:n}){return e*n+t}function ht([t,e],{width:n}){return e*(n+1)+t}function pt(t,{width:e}){return[t%(e+1),Math.floor(t/(e+1))]}function mt([t,e],{width:n,height:i},r){if(t<0||n<=t||e<0||i<=e)return null;if(r){const n=t%1-.5,i=e%1-.5;if(.5<Math.abs(n)+Math.abs(i))return null}return[Math.floor(t),Math.floor(e)]}function gt(t,e){const n=e.width*e.height;for(let e=0;e<n;e++)if(t[e])return e;return null}function vt(t){return null==t?[]:Object.keys(t).filter((e=>!!t[e])).map(Number)}function $t(t,e,n=0){const i=[];let r,o=0;for(;null!=(r=t[o]);){const[t,n]=dt(r,e);i.push([t+.5,n+.5]),o++}if(1===i.length&&i.push(i[0]),0<n){const t=i.length,e=i[t-1][0]-i[t-2][0],r=i[t-1][1]-i[t-2][1];i[t-1][0]+=-e*n,i[t-1][1]+=-r*n}return"M"+i.map((t=>t.join(","))).join("L")}function _t({offsetX:t,offsetY:e},n){const{width:i,height:r}=n.getBoundingClientRect(),{x:o,y:s,width:a,height:l}=n.viewBox.baseVal;return[a*t/i+o,l*e/r+s]}function yt(t,e,n=0){const i=new Map;{function n(t,e){const n=i.get(e);if(null==n?void 0:n.has(t))n.delete(t),0>=n.size&&i.delete(e);else{let n=i.get(t);null==n&&(n=new Set,i.set(t,n)),n.add(e)}}for(const i of t){const[t,r]=dt(i,e),o=ht([t,r],e),s=ht([1+t,r],e),a=ht([1+t,1+r],e),l=ht([t,1+r],e);n(o,s),n(s,a),n(a,l),n(l,o)}}if(0>=i.size)return null;const r=[];for(;!(0>=i.size);){const[t,o]=Array.from(i.entries()).find((([t,e])=>1===e.size)),s=Array.from(o)[0];let a=pt(t,e),l=pt(s,e),c=s;const u=[];do{const t=i.get(c);let r=Number.NEGATIVE_INFINITY,o=-1,s=null;for(const n of t){const t=pt(n,e),i=(l[0]-a[0])*(t[1]-l[1])-(l[1]-a[1])*(t[0]-l[0]);r<i&&(r=i,o=n,s=t)}if(null==s)throw"UNREACHABLE";if(t.delete(o),0>=t.size&&i.delete(c),0!==r){let[t,e]=l;e+=n*(l[0]-a[0])+r*n*(a[1]-l[1]),t+=n*(l[1]-s[1])+r*n*(s[0]-l[0]),u.push(`${t},${e}`)}a=l,l=s,c=o}while(s!==c);r.push("M"+u.join("L")+"Z")}return r.join("")}function wt(t,e){return 0<=t[0]&&t[0]<e.width&&0<=t[1]&&t[1]<e.height}function bt(e){let n,i,r,o,s,a,l,c,u,d,f,h,p,$,y,b,k,x,A,E,O;return{c(){n=_("filter"),i=_("feGaussianBlur"),r=_("feComponentTransfer"),o=_("feFuncR"),s=_("feFuncG"),a=_("feFuncB"),l=_("feFuncA"),u=w(),d=_("mask"),f=_("rect"),$=_("path"),A=w(),E=_("path"),C(i,"in","SourceGraphic"),C(i,"stdDeviation",kt),C(o,"type","identity"),C(s,"type","identity"),C(a,"type","identity"),C(l,"type","linear"),C(l,"slope","20"),C(l,"intercept","-9.5"),C(n,"id",c="select-"+e[0]+"-blur"),C(f,"x","0"),C(f,"y","0"),C(f,"width",h=e[1].width),C(f,"height",p=e[1].height),C(f,"fill","#fff"),C($,"d",e[2]),C($,"fill",xt),C($,"stroke","none"),C($,"filter",y="url(#select-"+e[0]+"-blur)"),C(d,"id",b="select-"+e[0]+"-mask"),C(d,"maskUnits","userSpaceOnUse"),C(d,"maskContentUnits","userSpaceOnUse"),C(d,"x","0"),C(d,"y","0"),C(d,"width",k=e[1].width),C(d,"height",x=e[1].height),C(E,"id",e[0]),C(E,"d",e[3]),C(E,"fill","#08f"),C(E,"fill-opacity","0.7"),C(E,"stroke","none"),C(E,"mask",O="url(#select-"+e[0]+"-mask)")},m(t,e){g(t,n,e),m(n,i),m(n,r),m(r,o),m(r,s),m(r,a),m(r,l),g(t,u,e),g(t,d,e),m(d,f),m(d,$),g(t,A,e),g(t,E,e)},p(t,[e]){1&e&&c!==(c="select-"+t[0]+"-blur")&&C(n,"id",c),2&e&&h!==(h=t[1].width)&&C(f,"width",h),2&e&&p!==(p=t[1].height)&&C(f,"height",p),4&e&&C($,"d",t[2]),1&e&&y!==(y="url(#select-"+t[0]+"-blur)")&&C($,"filter",y),1&e&&b!==(b="select-"+t[0]+"-mask")&&C(d,"id",b),2&e&&k!==(k=t[1].width)&&C(d,"width",k),2&e&&x!==(x=t[1].height)&&C(d,"height",x),1&e&&C(E,"id",t[0]),8&e&&C(E,"d",t[3]),1&e&&O!==(O="url(#select-"+t[0]+"-mask)")&&C(E,"mask",O)},i:t,o:t,d(t){t&&v(n),t&&v(u),t&&v(d),t&&v(A),t&&v(E)}}}const kt=.05,xt="#080808";function At(t,e,n){let i,r,{id:o}=e,{ref:s}=e,{grid:l}=e,c=at(s,(t=>yt(vt(t),l,.075)));a(t,c,(t=>n(2,i=t)));let u=at(s,(t=>yt(vt(t),l,0)));return a(t,u,(t=>n(3,r=t))),t.$$set=t=>{"id"in t&&n(0,o=t.id),"ref"in t&&n(6,s=t.ref),"grid"in t&&n(1,l=t.grid)},[o,l,i,r,c,u,s]}class Ct extends rt{constructor(t){super(),it(this,t,At,bt,o,{id:0,ref:6,grid:1})}}function Et(e){let n,i,r,o,s,a,l;return{c(){n=_("g"),i=_("line"),s=_("line"),C(i,"x1","0"),C(i,"y1",r=e[1].height),C(i,"x2",o=e[1].width),C(i,"y2","0"),C(i,"class","svelte-1qd4hgf"),S(i,"hide",!e[2]),C(s,"x1","0"),C(s,"y1","0"),C(s,"x2",a=e[1].width),C(s,"y2",l=e[1].height),C(s,"class","svelte-1qd4hgf"),S(s,"hide",!e[3]),C(n,"id",e[0])},m(t,e){g(t,n,e),m(n,i),m(n,s)},p(t,[e]){2&e&&r!==(r=t[1].height)&&C(i,"y1",r),2&e&&o!==(o=t[1].width)&&C(i,"x2",o),4&e&&S(i,"hide",!t[2]),2&e&&a!==(a=t[1].width)&&C(s,"x2",a),2&e&&l!==(l=t[1].height)&&C(s,"y2",l),8&e&&S(s,"hide",!t[3]),1&e&&C(n,"id",t[0])},i:t,o:t,d(t){t&&v(n)}}}function Ot(t,e,n){let i,r,{id:o}=e,{ref:s}=e,{grid:l}=e;const c=s.ref("positive");a(t,c,(t=>n(2,i=t)));const u=s.ref("negative");return a(t,u,(t=>n(3,r=t))),t.$$set=t=>{"id"in t&&n(0,o=t.id),"ref"in t&&n(6,s=t.ref),"grid"in t&&n(1,l=t.grid)},[o,l,i,r,c,u,s]}function St(t,e,n){const i=t.slice();return i[5]=e[n].idx,i[6]=e[n].x,i[7]=e[n].y,i[8]=e[n].lines,i}function Tt(t,e,n){const i=t.slice();return i[11]=e[n],i[13]=n,i}function Lt(t){let e,n,i,r,o=t[11]+"";return{c(){e=_("text"),n=y(o),C(e,"x",i=t[6]),C(e,"y",r=t[7]+Dt*(t[13]-.5*(t[8].length-1))),C(e,"text-anchor","middle"),C(e,"dominant-baseline","central"),C(e,"font-size",Dt),C(e,"font-weight","700")},m(t,i){g(t,e,i),m(e,n)},p(t,s){4&s&&o!==(o=t[11]+"")&&E(n,o),4&s&&i!==(i=t[6])&&C(e,"x",i),4&s&&r!==(r=t[7]+Dt*(t[13]-.5*(t[8].length-1)))&&C(e,"y",r)},d(t){t&&v(e)}}}function Mt(t,e){let n,i,r,o,s=e[8],a=[];for(let t=0;t<s.length;t+=1)a[t]=Lt(Tt(e,s,t));return{key:t,first:null,c(){n=_("circle");for(let t=0;t<a.length;t+=1)a[t].c();o=b(),C(n,"cx",i=e[6]),C(n,"cy",r=e[7]),C(n,"r","0.2125"),C(n,"fill","#fff"),C(n,"stroke","#000"),C(n,"stroke-width","0.02"),this.first=n},m(t,e){g(t,n,e);for(let n=0;n<a.length;n+=1)a[n].m(t,e);g(t,o,e)},p(t,l){if(e=t,4&l&&i!==(i=e[6])&&C(n,"cx",i),4&l&&r!==(r=e[7])&&C(n,"cy",r),12&l){let t;for(s=e[8],t=0;t<s.length;t+=1){const n=Tt(e,s,t);a[t]?a[t].p(n,l):(a[t]=Lt(n),a[t].c(),a[t].m(o.parentNode,o))}for(;t<a.length;t+=1)a[t].d(1);a.length=s.length}},d(t){t&&v(n),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(a,t),t&&v(o)}}}function It(e){let n,i=[],r=new Map,o=e[3](e[2]);const s=t=>t[5];for(let t=0;t<o.length;t+=1){let n=St(e,o,t),a=s(n);r.set(a,i[t]=Mt(a,n))}return{c(){n=_("g");for(let t=0;t<i.length;t+=1)i[t].c();C(n,"id",e[0])},m(t,e){g(t,n,e);for(let t=0;t<i.length;t+=1)i[t].m(n,null)},p(t,[e]){12&e&&(o=t[3](t[2]),i=J(i,e,s,1,t,o,r,n,K,Mt,null,St)),1&e&&C(n,"id",t[0])},i:t,o:t,d(t){t&&v(n);for(let t=0;t<i.length;t+=1)i[t].d()}}}const jt=/.{1,2}/g,Dt=.2;function Nt(e,n,i){let r,o=t,a=()=>(o(),o=s(c,(t=>i(2,r=t))),c);e.$$.on_destroy.push((()=>o()));let{id:l}=n,{ref:c}=n;a();let{grid:u}=n;return e.$$set=t=>{"id"in t&&i(0,l=t.id),"ref"in t&&a(i(1,c=t.ref)),"grid"in t&&i(4,u=t.grid)},[l,c,r,function(t){const e=[];for(const[n,i]of Object.entries(t)){const[t,r]=pt(+n,u),o=Array.from(i).join("").match(jt)||[];e.push({idx:+n,x:t,y:r,lines:o})}return e},u]}function Rt(t,e,n){const i=t.slice();return i[5]=e[n].cageId,i[6]=e[n].sum,i[7]=e[n].labelPos,i[8]=e[n].d,i}function Ht(t,e,n){const i=t.slice();return i[5]=e[n].cageId,i[6]=e[n].sum,i[7]=e[n].labelPos,i}function Ut(t,e){let n,i,r,o;return{key:t,first:null,c(){n=_("rect"),C(n,"x",i=e[7].x),C(n,"y",r=e[7].y),C(n,"width",o=.7*`${e[6]}`.length*Ft),C(n,"height",1.1*Ft),C(n,"fill","#000"),this.first=n},m(t,e){g(t,n,e)},p(t,s){e=t,8&s&&i!==(i=e[7].x)&&C(n,"x",i),8&s&&r!==(r=e[7].y)&&C(n,"y",r),8&s&&o!==(o=.7*`${e[6]}`.length*Ft)&&C(n,"width",o)},d(t){t&&v(n)}}}function Pt(t,e){let n,i,r,o,s,a,l,c=e[6]+"";return{key:t,first:null,c(){n=_("text"),i=y(c),s=_("path"),C(n,"x",r=e[7].x),C(n,"y",o=e[7].y),C(n,"text-anchor","start"),C(n,"dominant-baseline","hanging"),C(n,"font-size",Ft),C(n,"font-weight","700"),C(s,"d",a=e[8]),C(s,"fill","none"),C(s,"stroke","#000"),C(s,"stroke-width",Bt),C(s,"stroke-dasharray","0.075 0.04"),C(s,"mask",l="url(#killer-"+e[0]+"-mask)"),this.first=n},m(t,e){g(t,n,e),m(n,i),g(t,s,e)},p(t,u){e=t,8&u&&c!==(c=e[6]+"")&&E(i,c),8&u&&r!==(r=e[7].x)&&C(n,"x",r),8&u&&o!==(o=e[7].y)&&C(n,"y",o),8&u&&a!==(a=e[8])&&C(s,"d",a),1&u&&l!==(l="url(#killer-"+e[0]+"-mask)")&&C(s,"mask",l)},d(t){t&&v(n),t&&v(s)}}}function Gt(e){let n,i,r,o,s,a,l,c,u,d=[],f=new Map,h=[],p=new Map,$=e[4](e[3]);const y=t=>t[5];for(let t=0;t<$.length;t+=1){let n=Ht(e,$,t),i=y(n);f.set(i,d[t]=Ut(i,n))}let b=e[4](e[3]);const k=t=>t[5];for(let t=0;t<b.length;t+=1){let n=Rt(e,b,t),i=k(n);p.set(i,h[t]=Pt(i,n))}return{c(){n=_("mask"),i=_("rect");for(let t=0;t<d.length;t+=1)d[t].c();c=w(),u=_("g");for(let t=0;t<h.length;t+=1)h[t].c();C(i,"x","0"),C(i,"y","0"),C(i,"width",r=e[2].width),C(i,"height",o=e[2].height),C(i,"fill","#fff"),C(n,"id",s="killer-"+e[0]+"-mask"),C(n,"maskUnits","userSpaceOnUse"),C(n,"maskContentUnits","userSpaceOnUse"),C(n,"x","0"),C(n,"y","0"),C(n,"width",a=e[2].width),C(n,"height",l=e[2].height),C(u,"id",e[0])},m(t,e){g(t,n,e),m(n,i);for(let t=0;t<d.length;t+=1)d[t].m(n,null);g(t,c,e),g(t,u,e);for(let t=0;t<h.length;t+=1)h[t].m(u,null)},p(t,[e]){4&e&&r!==(r=t[2].width)&&C(i,"width",r),4&e&&o!==(o=t[2].height)&&C(i,"height",o),24&e&&($=t[4](t[3]),d=J(d,e,y,1,t,$,f,n,K,Ut,null,Ht)),1&e&&s!==(s="killer-"+t[0]+"-mask")&&C(n,"id",s),4&e&&a!==(a=t[2].width)&&C(n,"width",a),4&e&&l!==(l=t[2].height)&&C(n,"height",l),25&e&&(b=t[4](t[3]),h=J(h,e,k,1,t,b,p,u,K,Pt,null,Rt)),1&e&&C(u,"id",t[0])},i:t,o:t,d(t){t&&v(n);for(let t=0;t<d.length;t+=1)d[t].d();t&&v(c),t&&v(u);for(let t=0;t<h.length;t+=1)h[t].d()}}}const qt=.075,Ft=.2,Bt=.015;function Vt(e,n,i){let r,o=t,a=()=>(o(),o=s(c,(t=>i(3,r=t))),c);e.$$.on_destroy.push((()=>o()));let{id:l}=n,{ref:c}=n;a();let{grid:u}=n;return e.$$set=t=>{"id"in t&&i(0,l=t.id),"ref"in t&&a(i(1,c=t.ref)),"grid"in t&&i(2,u=t.grid)},[l,c,u,r,function(t){const e=[];for(const[n,{sum:i,cells:r}]of Object.entries(t)){const t=gt(r,u),o=yt(vt(r),u,qt);if(null!=o&&null!=t){const r=dt(t,u),s={x:r[0]+qt-Bt,y:r[1]+qt-Bt};e.push({cageId:n,sum:i,labelPos:s,d:o})}}return e}]}function zt(t,e,n){const i=t.slice();return i[4]=e[n][0],i[5]=e[n][1],i}function Wt(t,e,n){const i=t.slice();return i[4]=e[n][0],i[5]=e[n][1],i}function Yt(t,e,n){const i=t.slice();return i[4]=e[n][0],i[5]=e[n][1],i}function Xt(t,e){let n,i,r;return{key:t,first:null,c(){n=_("use"),C(n,"href",i="#max-"+e[0]+"-maskitem"),C(n,"transform",r="translate("+dt(+e[4],e[2])[0]+","+dt(+e[4],e[2])[1]+")"),C(n,"fill","#000"),this.first=n},m(t,e){g(t,n,e)},p(t,o){e=t,1&o&&i!==(i="#max-"+e[0]+"-maskitem")&&C(n,"href",i),12&o&&r!==(r="translate("+dt(+e[4],e[2])[0]+","+dt(+e[4],e[2])[1]+")")&&C(n,"transform",r)},d(t){t&&v(n)}}}function Kt(t,e){let n,i,r;return{key:t,first:null,c(){n=_("rect"),C(n,"x",i=dt(+e[4],e[2])[0]),C(n,"y",r=dt(+e[4],e[2])[1]),C(n,"width","1"),C(n,"height","1"),C(n,"fill","#f2ebeb"),this.first=n},m(t,e){g(t,n,e)},p(t,o){e=t,12&o&&i!==(i=dt(+e[4],e[2])[0])&&C(n,"x",i),12&o&&r!==(r=dt(+e[4],e[2])[1])&&C(n,"y",r)},d(t){t&&v(n)}}}function Zt(t,e){let n,i,r;return{key:t,first:null,c(){n=_("use"),C(n,"href",i="#max-"+e[0]),C(n,"transform",r="translate("+dt(+e[4],e[2])[0]+","+dt(+e[4],e[2])[1]+")"),this.first=n},m(t,e){g(t,n,e)},p(t,o){e=t,1&o&&i!==(i="#max-"+e[0])&&C(n,"href",i),12&o&&r!==(r="translate("+dt(+e[4],e[2])[0]+","+dt(+e[4],e[2])[1]+")")&&C(n,"transform",r)},d(t){t&&v(n)}}}function Jt(e){let n,i,r,o,s,a,l,c,u,d,f,h,p,$,y,b,k,x,A,E,O,S=[],T=new Map,L=[],M=new Map,I=[],j=new Map,D=Object.entries(e[3]);const N=t=>t[4];for(let t=0;t<D.length;t+=1){let n=Yt(e,D,t),i=N(n);T.set(i,S[t]=Xt(i,n))}let R=Object.entries(e[3]);const H=t=>t[4];for(let t=0;t<R.length;t+=1){let n=Wt(e,R,t),i=H(n);M.set(i,L[t]=Kt(i,n))}let U=Object.entries(e[3]);const P=t=>t[4];for(let t=0;t<U.length;t+=1){let n=zt(e,U,t),i=P(n);j.set(i,I[t]=Zt(i,n))}return{c(){n=_("path"),r=w(),o=_("path"),a=w(),l=_("mask"),c=_("rect");for(let t=0;t<S.length;t+=1)S[t].c();$=w(),y=_("rect"),x=w(),A=_("g");for(let t=0;t<L.length;t+=1)L[t].c();E=_("g");for(let t=0;t<I.length;t+=1)I[t].c();C(n,"id",i="max-"+e[0]),C(n,"d","M 0.12,0.38 L 0.08,0.50 L 0.12,0.62 M 0.38,0.12 L 0.50,0.08 L 0.62,0.12 M 0.88,0.62 L 0.92,0.50 L 0.88,0.38 M 0.62,0.88 L 0.50,0.92 L 0.38,0.88"),C(n,"fill","none"),C(n,"stroke","#000"),C(n,"stroke-width","0.025"),C(n,"stroke-miterlimit","1.5"),C(o,"id",s="max-"+e[0]+"-maskitem"),C(o,"d","M -0.5,0.5 L 0.5,-0.5 L 1.5,0.5 L 0.5,1.5 M 0,0 L 0,1 L 1,1 L 1,0"),C(o,"fill","#000"),C(c,"x","0.25"),C(c,"y","0.25"),C(c,"width",u=e[2].width-.5),C(c,"height",d=e[2].height-.5),C(c,"fill","#fff"),C(l,"id",f="max-"+e[0]+"-mask"),C(l,"maskUnits","userSpaceOnUse"),C(l,"maskContentUnits","userSpaceOnUse"),C(l,"x","0"),C(l,"y","0"),C(l,"width",h=e[2].width),C(l,"height",p=e[2].height),C(y,"width",b=e[2].width),C(y,"height",k=e[2].height),C(y,"fill","#fff"),C(E,"mask",O="url(#max-"+e[0]+"-mask)"),C(A,"id",e[0])},m(t,e){g(t,n,e),g(t,r,e),g(t,o,e),g(t,a,e),g(t,l,e),m(l,c);for(let t=0;t<S.length;t+=1)S[t].m(l,null);g(t,$,e),g(t,y,e),g(t,x,e),g(t,A,e);for(let t=0;t<L.length;t+=1)L[t].m(A,null);m(A,E);for(let t=0;t<I.length;t+=1)I[t].m(E,null)},p(t,[e]){1&e&&i!==(i="max-"+t[0])&&C(n,"id",i),1&e&&s!==(s="max-"+t[0]+"-maskitem")&&C(o,"id",s),4&e&&u!==(u=t[2].width-.5)&&C(c,"width",u),4&e&&d!==(d=t[2].height-.5)&&C(c,"height",d),13&e&&(D=Object.entries(t[3]),S=J(S,e,N,1,t,D,T,l,K,Xt,null,Yt)),1&e&&f!==(f="max-"+t[0]+"-mask")&&C(l,"id",f),4&e&&h!==(h=t[2].width)&&C(l,"width",h),4&e&&p!==(p=t[2].height)&&C(l,"height",p),4&e&&b!==(b=t[2].width)&&C(y,"width",b),4&e&&k!==(k=t[2].height)&&C(y,"height",k),12&e&&(R=Object.entries(t[3]),L=J(L,e,H,1,t,R,M,A,K,Kt,E,Wt)),13&e&&(U=Object.entries(t[3]),I=J(I,e,P,1,t,U,j,E,K,Zt,null,zt)),1&e&&O!==(O="url(#max-"+t[0]+"-mask)")&&C(E,"mask",O),1&e&&C(A,"id",t[0])},i:t,o:t,d(t){t&&v(n),t&&v(r),t&&v(o),t&&v(a),t&&v(l);for(let t=0;t<S.length;t+=1)S[t].d();t&&v($),t&&v(y),t&&v(x),t&&v(A);for(let t=0;t<L.length;t+=1)L[t].d();for(let t=0;t<I.length;t+=1)I[t].d()}}}function Qt(e,n,i){let r,o=t,a=()=>(o(),o=s(c,(t=>i(3,r=t))),c);e.$$.on_destroy.push((()=>o()));let{id:l}=n,{ref:c}=n;a();let{grid:u}=n;return e.$$set=t=>{"id"in t&&i(0,l=t.id),"ref"in t&&a(i(1,c=t.ref)),"grid"in t&&i(2,u=t.grid)},[l,c,u,r]}function te(t,e,n){const i=t.slice();return i[4]=e[n][0],i[5]=e[n][1],i}function ee(t,e,n){const i=t.slice();return i[4]=e[n][0],i[5]=e[n][1],i}function ne(t,e,n){const i=t.slice();return i[4]=e[n][0],i[5]=e[n][1],i}function ie(t,e){let n,i,r;return{key:t,first:null,c(){n=_("use"),C(n,"href",i="#min-"+e[0]+"-maskitem"),C(n,"transform",r="translate("+dt(+e[4],e[2])[0]+","+dt(+e[4],e[2])[1]+")"),C(n,"fill","#000"),this.first=n},m(t,e){g(t,n,e)},p(t,o){e=t,1&o&&i!==(i="#min-"+e[0]+"-maskitem")&&C(n,"href",i),12&o&&r!==(r="translate("+dt(+e[4],e[2])[0]+","+dt(+e[4],e[2])[1]+")")&&C(n,"transform",r)},d(t){t&&v(n)}}}function re(t,e){let n,i,r;return{key:t,first:null,c(){n=_("rect"),C(n,"x",i=dt(+e[4],e[2])[0]),C(n,"y",r=dt(+e[4],e[2])[1]),C(n,"width","1"),C(n,"height","1"),C(n,"fill","#f0edf2"),this.first=n},m(t,e){g(t,n,e)},p(t,o){e=t,12&o&&i!==(i=dt(+e[4],e[2])[0])&&C(n,"x",i),12&o&&r!==(r=dt(+e[4],e[2])[1])&&C(n,"y",r)},d(t){t&&v(n)}}}function oe(t,e){let n,i,r;return{key:t,first:null,c(){n=_("use"),C(n,"href",i="#min-"+e[0]),C(n,"transform",r="translate("+dt(+e[4],e[2])[0]+","+dt(+e[4],e[2])[1]+")"),this.first=n},m(t,e){g(t,n,e)},p(t,o){e=t,1&o&&i!==(i="#min-"+e[0])&&C(n,"href",i),12&o&&r!==(r="translate("+dt(+e[4],e[2])[0]+","+dt(+e[4],e[2])[1]+")")&&C(n,"transform",r)},d(t){t&&v(n)}}}function se(e){let n,i,r,o,s,a,l,c,u,d,f,h,p,$,y,b,k,x,A,E,O,S=[],T=new Map,L=[],M=new Map,I=[],j=new Map,D=Object.entries(e[3]);const N=t=>t[4];for(let t=0;t<D.length;t+=1){let n=ne(e,D,t),i=N(n);T.set(i,S[t]=ie(i,n))}let R=Object.entries(e[3]);const H=t=>t[4];for(let t=0;t<R.length;t+=1){let n=ee(e,R,t),i=H(n);M.set(i,L[t]=re(i,n))}let U=Object.entries(e[3]);const P=t=>t[4];for(let t=0;t<U.length;t+=1){let n=te(e,U,t),i=P(n);j.set(i,I[t]=oe(i,n))}return{c(){n=_("path"),r=w(),o=_("path"),a=w(),l=_("mask"),c=_("rect");for(let t=0;t<S.length;t+=1)S[t].c();$=w(),y=_("rect"),x=w(),A=_("g");for(let t=0;t<L.length;t+=1)L[t].c();E=_("g");for(let t=0;t<I.length;t+=1)I[t].c();C(n,"id",i="min-"+e[0]),C(n,"d","M 0.08,0.38 L 0.12,0.50 L 0.08,0.62 M 0.38,0.08 L 0.50,0.12 L 0.62,0.08 M 0.92,0.62 L 0.88,0.50 L 0.92,0.38 M 0.62,0.92 L 0.50,0.88 L 0.38,0.92"),C(n,"fill","none"),C(n,"stroke","#000"),C(n,"stroke-width","0.025"),C(n,"stroke-miterlimit","1.5"),C(o,"id",s="min-"+e[0]+"-maskitem"),C(o,"d","M -0.5,0.5 L 0.5,-0.5 L 1.5,0.5 L 0.5,1.5 M 0,0 L 0,1 L 1,1 L 1,0"),C(o,"fill","#000"),C(c,"x","0.25"),C(c,"y","0.25"),C(c,"width",u=e[2].width-.5),C(c,"height",d=e[2].height-.5),C(c,"fill","#fff"),C(l,"id",f="min-"+e[0]+"-mask"),C(l,"maskUnits","userSpaceOnUse"),C(l,"maskContentUnits","userSpaceOnUse"),C(l,"x","0"),C(l,"y","0"),C(l,"width",h=e[2].width),C(l,"height",p=e[2].height),C(y,"width",b=e[2].width),C(y,"height",k=e[2].height),C(y,"fill","#fff"),C(E,"mask",O="url(#min-"+e[0]+"-mask)"),C(A,"id",e[0])},m(t,e){g(t,n,e),g(t,r,e),g(t,o,e),g(t,a,e),g(t,l,e),m(l,c);for(let t=0;t<S.length;t+=1)S[t].m(l,null);g(t,$,e),g(t,y,e),g(t,x,e),g(t,A,e);for(let t=0;t<L.length;t+=1)L[t].m(A,null);m(A,E);for(let t=0;t<I.length;t+=1)I[t].m(E,null)},p(t,[e]){1&e&&i!==(i="min-"+t[0])&&C(n,"id",i),1&e&&s!==(s="min-"+t[0]+"-maskitem")&&C(o,"id",s),4&e&&u!==(u=t[2].width-.5)&&C(c,"width",u),4&e&&d!==(d=t[2].height-.5)&&C(c,"height",d),13&e&&(D=Object.entries(t[3]),S=J(S,e,N,1,t,D,T,l,K,ie,null,ne)),1&e&&f!==(f="min-"+t[0]+"-mask")&&C(l,"id",f),4&e&&h!==(h=t[2].width)&&C(l,"width",h),4&e&&p!==(p=t[2].height)&&C(l,"height",p),4&e&&b!==(b=t[2].width)&&C(y,"width",b),4&e&&k!==(k=t[2].height)&&C(y,"height",k),12&e&&(R=Object.entries(t[3]),L=J(L,e,H,1,t,R,M,A,K,re,E,ee)),13&e&&(U=Object.entries(t[3]),I=J(I,e,P,1,t,U,j,E,K,oe,null,te)),1&e&&O!==(O="url(#min-"+t[0]+"-mask)")&&C(E,"mask",O),1&e&&C(A,"id",t[0])},i:t,o:t,d(t){t&&v(n),t&&v(r),t&&v(o),t&&v(a),t&&v(l);for(let t=0;t<S.length;t+=1)S[t].d();t&&v($),t&&v(y),t&&v(x),t&&v(A);for(let t=0;t<L.length;t+=1)L[t].d();for(let t=0;t<I.length;t+=1)I[t].d()}}}function ae(e,n,i){let r,o=t,a=()=>(o(),o=s(c,(t=>i(3,r=t))),c);e.$$.on_destroy.push((()=>o()));let{id:l}=n,{ref:c}=n;a();let{grid:u}=n;return e.$$set=t=>{"id"in t&&i(0,l=t.id),"ref"in t&&a(i(1,c=t.ref)),"grid"in t&&i(2,u=t.grid)},[l,c,u,r]}function le(t,e,n){const i=t.slice();return i[4]=e[n][0],i[5]=e[n][1],i}function ce(t,e){let n,i,r,o,s,a,l,c,u,d,f,h,p,$;return{key:t,first:null,c(){n=_("mask"),i=_("rect"),s=_("path"),c=_("path"),f=_("path"),C(i,"width",r=e[2].width),C(i,"height",o=e[2].height),C(i,"fill","#fff"),C(s,"d",a=$t(e[5].head,e[2])),C(s,"fill","none"),C(s,"stroke","#000"),C(s,"stroke-width","0.75"),C(s,"stroke-linejoin","round"),C(s,"stroke-linecap","round"),C(n,"id",l="arrow-"+e[0]+"-mask-"+e[4]),C(n,"maskUnits","userSpaceOnUse"),C(c,"d",u=$t(e[5].head,e[2])),C(c,"fill","none"),C(c,"stroke","#000"),C(c,"stroke-width","0.8"),C(c,"mask",d="url(#arrow-"+e[0]+"-mask-"+e[4]+")"),C(c,"stroke-linejoin","round"),C(c,"stroke-linecap","round"),C(f,"d",h=$t(e[5].body,e[2],.15)),C(f,"fill","none"),C(f,"stroke","#000"),C(f,"stroke-width","0.025"),C(f,"mask",p="url(#arrow-"+e[0]+"-mask-"+e[4]+")"),C(f,"stroke-miterlimit","1.5"),C(f,"marker-end",$="url(#arrow-head-"+e[0]+")"),this.first=n},m(t,e){g(t,n,e),m(n,i),m(n,s),g(t,c,e),g(t,f,e)},p(t,m){e=t,4&m&&r!==(r=e[2].width)&&C(i,"width",r),4&m&&o!==(o=e[2].height)&&C(i,"height",o),12&m&&a!==(a=$t(e[5].head,e[2]))&&C(s,"d",a),9&m&&l!==(l="arrow-"+e[0]+"-mask-"+e[4])&&C(n,"id",l),12&m&&u!==(u=$t(e[5].head,e[2]))&&C(c,"d",u),9&m&&d!==(d="url(#arrow-"+e[0]+"-mask-"+e[4]+")")&&C(c,"mask",d),12&m&&h!==(h=$t(e[5].body,e[2],.15))&&C(f,"d",h),9&m&&p!==(p="url(#arrow-"+e[0]+"-mask-"+e[4]+")")&&C(f,"mask",p),1&m&&$!==($="url(#arrow-head-"+e[0]+")")&&C(f,"marker-end",$)},d(t){t&&v(n),t&&v(c),t&&v(f)}}}function ue(e){let n,i,r,o,s,a=[],l=new Map,c=Object.entries(e[3]);const u=t=>t[4];for(let t=0;t<c.length;t+=1){let n=le(e,c,t),i=u(n);l.set(i,a[t]=ce(i,n))}return{c(){n=_("marker"),i=_("path"),o=w(),s=_("g");for(let t=0;t<a.length;t+=1)a[t].c();C(i,"d","M 0.4,0.425 L 0.5,0.5 L 0.4,0.575"),C(i,"fill","none"),C(i,"stroke","#000"),C(i,"stroke-width","0.025"),C(n,"id",r="arrow-head-"+e[0]),C(n,"viewBox","0 0 1 1"),C(n,"refX","0.5"),C(n,"refY","0.5"),C(n,"markerUnits","userSpaceOnUse"),C(n,"markerWidth","1"),C(n,"markerHeight","1"),C(n,"orient","auto"),C(s,"id",e[0])},m(t,e){g(t,n,e),m(n,i),g(t,o,e),g(t,s,e);for(let t=0;t<a.length;t+=1)a[t].m(s,null)},p(t,[e]){1&e&&r!==(r="arrow-head-"+t[0])&&C(n,"id",r),13&e&&(c=Object.entries(t[3]),a=J(a,e,u,1,t,c,l,s,K,ce,null,le)),1&e&&C(s,"id",t[0])},i:t,o:t,d(t){t&&v(n),t&&v(o),t&&v(s);for(let t=0;t<a.length;t+=1)a[t].d()}}}function de(e,n,i){let r,o=t,a=()=>(o(),o=s(c,(t=>i(3,r=t))),c);e.$$.on_destroy.push((()=>o()));let{id:l}=n,{ref:c}=n;a();let{grid:u}=n;return e.$$set=t=>{"id"in t&&i(0,l=t.id),"ref"in t&&a(i(1,c=t.ref)),"grid"in t&&i(2,u=t.grid)},[l,c,u,r]}function fe(t,e,n){const i=t.slice();return i[4]=e[n][0],i[5]=e[n][1],i}function he(t,e){let n,i,r;return{key:t,first:null,c(){n=_("path"),C(n,"d",i=$t(e[5],e[2],.25)),C(n,"fill","none"),C(n,"stroke","#ddd"),C(n,"stroke-width","0.2"),C(n,"marker-start",r="url(#thermo-bulb-"+e[0]+")"),C(n,"stroke-linejoin","round"),C(n,"stroke-linecap","round"),this.first=n},m(t,e){g(t,n,e)},p(t,o){e=t,12&o&&i!==(i=$t(e[5],e[2],.25))&&C(n,"d",i),1&o&&r!==(r="url(#thermo-bulb-"+e[0]+")")&&C(n,"marker-start",r)},d(t){t&&v(n)}}}function pe(e){let n,i,r,o,s,a=[],l=new Map,c=Object.entries(e[3]||{});const u=t=>t[4];for(let t=0;t<c.length;t+=1){let n=fe(e,c,t),i=u(n);l.set(i,a[t]=he(i,n))}return{c(){n=_("marker"),i=_("circle"),o=w(),s=_("g");for(let t=0;t<a.length;t+=1)a[t].c();C(i,"cx","0.5"),C(i,"cy","0.5"),C(i,"r","0.4"),C(i,"fill","#ddd"),C(n,"id",r="thermo-bulb-"+e[0]),C(n,"viewBox","0 0 1 1"),C(n,"refX","0.5"),C(n,"refY","0.5"),C(n,"markerUnits","userSpaceOnUse"),C(n,"markerWidth","1"),C(n,"markerHeight","1"),C(n,"orient","auto"),C(s,"id",e[0])},m(t,e){g(t,n,e),m(n,i),g(t,o,e),g(t,s,e);for(let t=0;t<a.length;t+=1)a[t].m(s,null)},p(t,[e]){1&e&&r!==(r="thermo-bulb-"+t[0])&&C(n,"id",r),13&e&&(c=Object.entries(t[3]||{}),a=J(a,e,u,1,t,c,l,s,K,he,null,fe)),1&e&&C(s,"id",t[0])},i:t,o:t,d(t){t&&v(n),t&&v(o),t&&v(s);for(let t=0;t<a.length;t+=1)a[t].d()}}}function me(e,n,i){let r,o=t,a=()=>(o(),o=s(c,(t=>i(3,r=t))),c);e.$$.on_destroy.push((()=>o()));let{id:l}=n,{ref:c}=n;a();let{grid:u}=n;return e.$$set=t=>{"id"in t&&i(0,l=t.id),"ref"in t&&a(i(1,c=t.ref)),"grid"in t&&i(2,u=t.grid)},[l,c,u,r]}function ge(t,e,n){const i=t.slice();return i[5]=e[n][0],i[6]=e[n][1],i}function ve(t,e){let n,i,r,o,s=e[6]+"";return{key:t,first:null,c(){n=_("text"),i=y(s),C(n,"x",r=dt(+e[5],e[2])[0]+.5),C(n,"y",o=dt(+e[5],e[2])[1]+.5),C(n,"fill",e[3]),C(n,"text-anchor","middle"),C(n,"dominant-baseline","central"),C(n,"font-size","0.6"),C(n,"font-weight","700"),this.first=n},m(t,e){g(t,n,e),m(n,i)},p(t,a){e=t,16&a&&s!==(s=e[6]+"")&&E(i,s),20&a&&r!==(r=dt(+e[5],e[2])[0]+.5)&&C(n,"x",r),20&a&&o!==(o=dt(+e[5],e[2])[1]+.5)&&C(n,"y",o),8&a&&C(n,"fill",e[3])},d(t){t&&v(n)}}}function $e(e){let n,i=[],r=new Map,o=Object.entries(e[4]||{});const s=t=>t[5];for(let t=0;t<o.length;t+=1){let n=ge(e,o,t),a=s(n);r.set(a,i[t]=ve(a,n))}return{c(){n=_("g");for(let t=0;t<i.length;t+=1)i[t].c();C(n,"id",e[0])},m(t,e){g(t,n,e);for(let t=0;t<i.length;t+=1)i[t].m(n,null)},p(t,[e]){28&e&&(o=Object.entries(t[4]||{}),i=J(i,e,s,1,t,o,r,n,K,ve,null,ge)),1&e&&C(n,"id",t[0])},i:t,o:t,d(t){t&&v(n);for(let t=0;t<i.length;t+=1)i[t].d()}}}function _e(e,n,i){let r,o=t,a=()=>(o(),o=s(c,(t=>i(4,r=t))),c);e.$$.on_destroy.push((()=>o()));let{id:l}=n,{ref:c}=n;a();let{grid:u}=n,{color:d="#000"}=n;return e.$$set=t=>{"id"in t&&i(0,l=t.id),"ref"in t&&a(i(1,c=t.ref)),"grid"in t&&i(2,u=t.grid),"color"in t&&i(3,d=t.color)},[l,c,u,d,r]}class ye extends rt{constructor(t){super(),it(this,t,_e,$e,o,{id:0,ref:1,grid:2,color:3})}}function we(e){let n,i,r,o,s,a,l,c,u,d,f,h;return{c(){n=_("pattern"),i=_("rect"),c=w(),u=_("rect"),C(i,"width",r=e[3].width),C(i,"height",o=e[3].height),C(i,"stroke","#000"),C(i,"fill","none"),C(i,"stroke-width",ut),C(n,"id",s="box-"+e[0]),C(n,"width",a=e[3].width),C(n,"height",l=e[3].height),C(n,"patternUnits","userSpaceOnUse"),C(u,"id",e[0]),C(u,"x",-.02),C(u,"y",-.02),C(u,"width",d=e[2].width+ut),C(u,"height",f=e[2].height+ut),C(u,"fill",h="url(#box-"+e[0]+")"),C(u,"stroke","none")},m(t,e){g(t,n,e),m(n,i),g(t,c,e),g(t,u,e)},p(t,[e]){8&e&&r!==(r=t[3].width)&&C(i,"width",r),8&e&&o!==(o=t[3].height)&&C(i,"height",o),1&e&&s!==(s="box-"+t[0])&&C(n,"id",s),8&e&&a!==(a=t[3].width)&&C(n,"width",a),8&e&&l!==(l=t[3].height)&&C(n,"height",l),1&e&&C(u,"id",t[0]),4&e&&d!==(d=t[2].width+ut)&&C(u,"width",d),4&e&&f!==(f=t[2].height+ut)&&C(u,"height",f),1&e&&h!==(h="url(#box-"+t[0]+")")&&C(u,"fill",h)},i:t,o:t,d(t){t&&v(n),t&&v(c),t&&v(u)}}}function be(e,n,i){let r,o=t,a=()=>(o(),o=s(c,(t=>i(3,r=t))),c);e.$$.on_destroy.push((()=>o()));let{id:l}=n,{ref:c}=n;a();let{grid:u}=n;return e.$$set=t=>{"id"in t&&i(0,l=t.id),"ref"in t&&a(i(1,c=t.ref)),"grid"in t&&i(2,u=t.grid)},[l,c,u,r]}function ke(e){let n,i,r,o,s,a,l,c;return{c(){n=_("pattern"),i=_("rect"),o=w(),s=_("rect"),C(i,"width","1"),C(i,"height","1"),C(i,"stroke","#000"),C(i,"fill","none"),C(i,"stroke-width",lt),C(n,"id",r="grid-"+e[0]),C(n,"width","1"),C(n,"height","1"),C(n,"patternUnits","userSpaceOnUse"),C(s,"id",e[0]),C(s,"x",-.005),C(s,"y",-.005),C(s,"width",a=e[2].width+ct),C(s,"height",l=e[2].height+ct),C(s,"fill",c="url(#grid-"+e[0]+")"),C(s,"stroke","none")},m(t,e){g(t,n,e),m(n,i),g(t,o,e),g(t,s,e)},p(t,[e]){1&e&&r!==(r="grid-"+t[0])&&C(n,"id",r),1&e&&C(s,"id",t[0]),4&e&&a!==(a=t[2].width+ct)&&C(s,"width",a),4&e&&l!==(l=t[2].height+ct)&&C(s,"height",l),1&e&&c!==(c="url(#grid-"+t[0]+")")&&C(s,"fill",c)},i:t,o:t,d(t){t&&v(n),t&&v(o),t&&v(s)}}}function xe(e,n,i){let r=t,o=()=>(r(),r=s(l,(t=>i(3,t))),l);e.$$.on_destroy.push((()=>r()));let{id:a}=n,{ref:l}=n;o();let{grid:c}=n;return e.$$set=t=>{"id"in t&&i(0,a=t.id),"ref"in t&&o(i(1,l=t.ref)),"grid"in t&&i(2,c=t.grid)},[a,l,c]}function Ae(t,e,n){const i=t.slice();return i[9]=e[n].id,i}function Ce(t,e,n){const i=t.slice();return i[9]=e[n].id,i[12]=e[n].ref,i[13]=e[n].element,i}function Ee(t,e){let n,i,r,o;var s=e[13];function a(t){return{props:{id:t[9],ref:t[12],grid:t[3]}}}return s&&(i=new s(a(e))),{key:t,first:null,c(){n=b(),i&&Q(i.$$.fragment),r=b(),this.first=n},m(t,e){g(t,n,e),i&&tt(i,t,e),g(t,r,e),o=!0},p(t,n){e=t;const o={};if(2&n&&(o.id=e[9]),2&n&&(o.ref=e[12]),8&n&&(o.grid=e[3]),s!==(s=e[13])){if(i){z();const t=i;X(t.$$.fragment,1,0,(()=>{et(t,1)})),W()}s?(i=new s(a(e)),Q(i.$$.fragment),Y(i.$$.fragment,1),tt(i,r.parentNode,r)):i=null}else s&&i.$set(o)},i(t){o||(i&&Y(i.$$.fragment,t),o=!0)},o(t){i&&X(i.$$.fragment,t),o=!1},d(t){t&&v(n),t&&v(r),i&&et(i,t)}}}function Oe(t,e){let n,i;return{key:t,first:null,c(){n=_("use"),C(n,"href",i="#"+e[9]),this.first=n},m(t,e){g(t,n,e)},p(t,r){e=t,2&r&&i!==(i="#"+e[9])&&C(n,"href",i)},d(t){t&&v(n)}}}function Se(t){let e,n,i,r,o,s,a=[],l=new Map,c=[],u=new Map,d=t[1];const f=t=>t[9];for(let e=0;e<d.length;e+=1){let n=Ce(t,d,e),i=f(n);l.set(i,a[e]=Ee(i,n))}let h=t[1];const p=t=>t[9];for(let e=0;e<h.length;e+=1){let n=Ae(t,h,e),i=p(n);u.set(i,c[e]=Oe(i,n))}return{c(){e=_("svg"),n=_("style"),i=y("svg {\n            -webkit-tap-highlight-color: transparent;\n            touch-action: none;\n        }\n        text {\n            -webkit-user-select: none;\n            -moz-user-select: none;\n            -ms-user-select: none;\n            user-select: none;\n        }\n        text::selection {\n            background: none;\n        }\n        svg * {\n            pointer-events: none;\n        }\n        .hide {\n            display: none;\n        }\n    "),r=_("defs");for(let t=0;t<a.length;t+=1)a[t].c();for(let t=0;t<c.length;t+=1)c[t].c();C(e,"viewBox",o=t[2].x+" "+t[2].y+" "+t[2].width+" "+t[2].height),C(e,"xmlns","http://www.w3.org/2000/svg")},m(o,l){g(o,e,l),m(e,n),m(n,i),m(e,r);for(let t=0;t<a.length;t+=1)a[t].m(r,null);for(let t=0;t<c.length;t+=1)c[t].m(e,null);t[8](e),s=!0},p(t,[n]){10&n&&(d=t[1],z(),a=J(a,n,f,1,t,d,l,r,Z,Ee,null,Ce),W()),2&n&&(h=t[1],c=J(c,n,p,1,t,h,u,e,K,Oe,null,Ae)),(!s||4&n&&o!==(o=t[2].x+" "+t[2].y+" "+t[2].width+" "+t[2].height))&&C(e,"viewBox",o)},i(t){if(!s){for(let t=0;t<d.length;t+=1)Y(a[t]);s=!0}},o(t){for(let t=0;t<a.length;t+=1)X(a[t]);s=!1},d(n){n&&v(e);for(let t=0;t<a.length;t+=1)a[t].d();for(let t=0;t<c.length;t+=1)c[t].d();t[8](null)}}}const Te={grid:class extends rt{constructor(t){super(),it(this,t,xe,ke,o,{id:0,ref:1,grid:2})}},box:class extends rt{constructor(t){super(),it(this,t,be,we,o,{id:0,ref:1,grid:2})}},given:ye,filled:function(t){return t.props.color="#4e72b0",new ye(t)},thermo:class extends rt{constructor(t){super(),it(this,t,me,pe,o,{id:0,ref:1,grid:2})}},arrow:class extends rt{constructor(t){super(),it(this,t,de,ue,o,{id:0,ref:1,grid:2})}},sandwich:null,min:class extends rt{constructor(t){super(),it(this,t,ae,se,o,{id:0,ref:1,grid:2})}},max:class extends rt{constructor(t){super(),it(this,t,Qt,Jt,o,{id:0,ref:1,grid:2})}},killer:class extends rt{constructor(t){super(),it(this,t,Vt,Gt,o,{id:0,ref:1,grid:2})}},quadruple:class extends rt{constructor(t){super(),it(this,t,Nt,It,o,{id:0,ref:1,grid:4})}},diagonal:class extends rt{constructor(t){super(),it(this,t,Ot,Et,o,{id:0,ref:6,grid:1})}},knight:null,king:null,disjointGroups:null,consecutive:null,select:Ct};function Le(t,e,n){let i,r,{userState:o}=e,{boardState:s}=e,{svg:l=null}=e;const c=s.ref("grid");a(t,c,(t=>n(3,r=t)));const u=at(c,(t=>({x:-.005,y:-.005,width:t.width+lt,height:t.height+lt})));a(t,u,(t=>n(2,i=t)));const d=[{id:"select",order:9.5,ref:o.ref("select"),element:Ct}];return s.ref("elements/*").watch((([t,e],i,r)=>{let o=-1;if(null!=i&&(o=d.findIndex((({id:t})=>e===t)),0>o))console.error(`Failed to find renderer for constraint with id ${e}.`);else{if(null==r)delete d[o];else{const a=Te[r.type];if(null==a)return void console.warn(`Cannot render unknown constraint type: ${r.type}.`);const l={id:e,order:r.order,ref:s.ref(t,e,"value"),element:a};null==i?d.push(l):(i.type!==r.type&&console.error("Cannot change type of constraint!"),n(1,d[o]=l,d))}d.sort(((t,e)=>t.order-e.order))}}),!0),t.$$set=t=>{"userState"in t&&n(6,o=t.userState),"boardState"in t&&n(7,s=t.boardState),"svg"in t&&n(0,l=t.svg)},[l,d,i,r,c,u,o,s,function(t){j[t?"unshift":"push"]((()=>{l=t,n(0,l)}))}]}class Me extends rt{constructor(t){super(),it(this,t,Le,Se,o,{userState:6,boardState:7,svg:0})}}var Ie,je=(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.StateManager=e.StateRef=void 0;const n="function"==typeof Object.fromEntries?Object.fromEntries:t=>{const e=Object.create(null);for(const[n,i]of t)e[n]=i;return e},i=Symbol("watchers key");function r(t,e){return null==t&&null==e||Object.is(t,e)}function o(t){return null==t?null:t}class s{constructor(t,e){this._path=[],this._stateManager=t;for(const t of e)".."===t?this._path.pop():"."===t||this._path.push(t)}ref(...t){return new s(this._stateManager,[...this._path,...t])}get(){return this._stateManager.get(...this._path)}watch(t,e){return this._stateManager.watch(t,e,this._path.join("/")),t}unwatch(t){this._stateManager.unwatch(t)}replace(t){return this._stateManager.update({[this._path.join("/")]:t})}update(t){const e=this._path.join("/")+"/",i=n(Object.entries(t).map((([t,n])=>[e+t,n])));return this._stateManager.update(i)}subscribe(t){const e=this.watch(((e,n,i)=>t(i)),!0);return()=>this.unwatch(e)}set(t){this.replace(t)}}e.StateRef=s;class a{constructor(){this._data=null,this._watchers=new Map,this._watcherTreeRoot=Object.create(null)}ref(...t){return new s(this,t)}get(...t){let e=this._data;for(const n of t){if(null==e)break;if(n.includes("/"))throw Error('Path cannot contain "/", split into varargs.');e=e[n]}return o(e)}watch(t,e,...n){let i=this._watchers.get(t);null==i&&(i=new Set,this._watchers.set(t,i));for(const i of n)this._watchPattern(t,e,i);return t}unwatch(t){if(!this._watchers.has(t))throw Error("Cannot find watcher.");const e=this._watchers.get(t);this._watchers.delete(t);for(const n of e)if(!a._unwatchPattern(t,this._watcherTreeRoot,n.split("/")))throw Error(`Failed to remove watcher from pattern: ${n}.`)}update(t){if("object"!=typeof t)throw Error(`Invalid update object: ${t}`);let e=!1;const i=[],o=[];for(const[n,s]of Object.entries(t)){if(0>=n.length)throw Error("Update key cannot be empty.");const t=n.split("/"),{data:l,redo:c,undo:u}=a._updateInternal(this._data,s,t,[],[this._watcherTreeRoot]);r(this._data,l)||(e=!0,this._data=l,i.push(...c),o.push(...u))}return e?{redo:n(i),undo:n(o)}:null}_watchPattern(t,e,n){if(!n||0>=n.length)throw Error(`Pattern cannot be empty: ${n}.`);const r=n.split("/");let o=this._watcherTreeRoot;for(const t of r)Object.prototype.hasOwnProperty.call(o,t)||(o[t]=Object.create(null)),o=o[t];(o[i]||(o[i]=new Set)).add(t),e&&a._triggerNow(this._data,r,[],t)}static _unwatchPattern(t,e,n){if(0===n.length){const n=e[i];return null!=n&&!!n.delete(t)&&(0>=n.size&&delete e[i],!0)}const[r,...o]=n;return!!Object.prototype.hasOwnProperty.call(e,r)&&!!this._unwatchPattern(t,e[r],o)&&(0>=Object.keys(e[r]).length&&null==e[i]&&delete e[r],!0)}static _triggerNow(t,e,n,i){if(null==t)return;if(0>=e.length){try{i(n,null,t)}catch(t){console.error("Watcher threw:",t,i)}return}if("object"!=typeof t)return;const[r,...o]=e;if("*"===r)for(const[e,r]of Object.entries(t))this._triggerNow(r,o,[...n,e],i);else Object.prototype.hasOwnProperty.call(t,r)&&this._triggerNow(t[r],o,[...n,r],i)}static _updateInternal(t,e,n,s,l){const c=0>=n.length,u="object"==typeof t?t:null,d="object"==typeof e?e:null,{data:f,redo:h,undo:p}=(()=>{if(c){if(null==u&&null==d)return{data:e,undo:[],redo:[]};const n=new Set([...Object.keys(u||{}),...Object.keys(d||{})]);let i=!1;const c=Object.create(null),f=[],h=[];for(const t of n){const e=u?o(u[t]):null,n=d?o(d[t]):null,p=a._nextWatcherTrees(t,l),{data:m,redo:g,undo:v}=a._updateInternal(e,n,[],[...s,t],p);r(e,m)||(i=!0,f.push(...g),h.push(...v),c[t]=m)}if(!i)return{data:t,redo:f,undo:h};const p=Object.assign(Object.create(null),u);for(const[t,e]of Object.entries(c))null==e?delete p[t]:p[t]=e;return 0===Object.keys(p).length?{data:null,redo:f,undo:h}:{data:p,redo:f,undo:h}}const[i,...f]=n,h=u?o(u[i]):null,p=a._nextWatcherTrees(i,l),{data:m,redo:g,undo:v}=a._updateInternal(h,e,f,[...s,i],p);if(r(h,m))return{data:t,redo:g,undo:v};const $=Object.assign(Object.create(null),u);return null==m?delete $[i]:$[i]=m,Object.values($).every((t=>null==t))?{data:null,redo:g,undo:v}:{data:$,redo:g,undo:v}})();if(!r(t,f)){if(null==t){if(null==f)throw"N/A";"object"==typeof f||(h.length=0,h.push([s.join("/"),f]),p.length=0,p.push([s.join("/"),null]))}else"object"==typeof t?null==f||"object"==typeof f||(h.length=0,h.push([s.join("/"),f])):null==f?(h.length=0,h.push([s.join("/"),null]),p.length=0,p.push([s.join("/"),t])):"object"==typeof f?(p.length=0,p.push([s.join("/"),t])):(h.length=0,h.push([s.join("/"),null]),p.length=0,p.push([s.join("/"),t]));for(const e of l)for(const n of e[i]||[])try{n(s,t,f)}catch(t){console.error("Watcher threw:",t,n)}return{data:f,undo:p,redo:h}}return{data:t,undo:p,redo:h}}static _nextWatcherTrees(t,e){const n=[];for(const i of e)i["*"]&&n.push(i["*"]),i[t]&&n.push(i[t]);return n}}e.StateManager=a}(Ie={exports:{}},Ie.exports),Ie.exports);const De=window.userState=new je.StateManager;De.update({select:{},tool:"10130"});const Ne=De.ref("select"),Re=De.ref("tool");function He(t){let e,n,i,r;return{c(){e=$("input"),C(e,"class","radio-select-button svelte-1xnmwrx"),C(e,"type","radio"),C(e,"id",n="local-radio-"+ ++qe),e.__value=t[0],e.value=e.__value,C(e,"name","tool"),t[10][0].push(e)},m(n,o){g(n,e,o),e.checked=e.__value===t[6],i||(r=k(e,"change",t[9]),i=!0)},p(t,n){1&n&&(e.__value=t[0],e.value=e.__value),64&n&&(e.checked=e.__value===t[6])},d(n){n&&v(e),t[10][0].splice(t[10][0].indexOf(e),1),i=!1,r()}}}function Ue(t){let e,n;return{c(){e=$("span"),n=y(t[1]),C(e,"class","name svelte-1xnmwrx"),S(e,"unused",t[2])},m(t,i){g(t,e,i),m(e,n)},p(t,i){2&i&&E(n,t[1]),4&i&&S(e,"unused",t[2])},d(t){t&&v(e)}}}function Pe(t){let e,n;return{c(){e=$("label"),n=y(t[1]),C(e,"class","name clickable svelte-1xnmwrx"),C(e,"for","local-radio-"+qe),S(e,"unused",t[2])},m(t,i){g(t,e,i),m(e,n)},p(t,i){2&i&&E(n,t[1]),4&i&&S(e,"unused",t[2])},d(t){t&&v(e)}}}function Ge(t){let e,n,o,s,a,c,d,f,h,p,_,y=t[3]&&He(t);function b(t,e){return t[3]?Pe:Ue}let x=b(t),E=x(t);const O=t[8].default,S=l(O,t,t[7],null);return{c(){e=$("div"),y&&y.c(),n=w(),o=$("div"),s=$("div"),a=$("button"),a.innerHTML='<span class="icon icon-inline icon-c-clickable icon-trash"></span>',c=w(),E.c(),d=w(),f=$("div"),S&&S.c(),C(a,"class","nobutton"),C(s,"class","constraint-row-left svelte-1xnmwrx"),C(f,"class","constraint-row-right svelte-1xnmwrx"),C(o,"class","constraint-row svelte-1xnmwrx"),C(o,"role","button"),C(e,"class","constraint-row-container svelte-1xnmwrx")},m(i,l){g(i,e,l),y&&y.m(e,null),m(e,n),m(e,o),m(o,s),m(s,a),m(s,c),E.m(s,null),m(o,d),m(o,f),S&&S.m(f,null),h=!0,p||(_=[k(a,"click",A((function(){r(t[5])&&t[5].apply(this,arguments)}))),k(o,"click",A((function(){r(t[4])&&t[4].apply(this,arguments)})))],p=!0)},p(i,[r]){(t=i)[3]?y?y.p(t,r):(y=He(t),y.c(),y.m(e,n)):y&&(y.d(1),y=null),x===(x=b(t))&&E?E.p(t,r):(E.d(1),E=x(t),E&&(E.c(),E.m(s,null))),S&&S.p&&(!h||128&r)&&u(S,O,t,t[7],h?r:-1,null,null)},i(t){h||(Y(S,t),h=!0)},o(t){X(S,t),h=!1},d(t){t&&v(e),y&&y.d(),E.d(),S&&S.d(t),p=!1,i(_)}}}let qe=0;function Fe(t,e,n){let i;a(t,Re,(t=>n(6,i=t)));let{$$slots:r={},$$scope:o}=e,{id:s}=e,{name:l}=e,{unused:c}=e,{isLocal:u=!1}=e,{onClick:f=(u?()=>d(Re,i=s,i):void 0)}=e,{onTrash:h}=e;return t.$$set=t=>{"id"in t&&n(0,s=t.id),"name"in t&&n(1,l=t.name),"unused"in t&&n(2,c=t.unused),"isLocal"in t&&n(3,u=t.isLocal),"onClick"in t&&n(4,f=t.onClick),"onTrash"in t&&n(5,h=t.onTrash),"$$scope"in t&&n(7,o=t.$$scope)},[s,l,c,u,f,h,i,o,r,function(){i=this.__value,Re.set(i)},[[]]]}class Be extends rt{constructor(t){super(),it(this,t,Fe,Ge,o,{id:0,name:1,unused:2,isLocal:3,onClick:4,onTrash:5})}}function Ve(e){let n,r,o,s,a,l,c,u,d,f,h;return{c(){n=$("div"),r=$("label"),o=$("span"),a=w(),l=$("span"),c=y(e[0]),u=w(),d=$("input"),C(o,"class",s="icon icon-inline icon-c-text icon-"+e[1]+" svelte-1ns67sk"),C(l,"class","sr-only"),C(r,"for","checkbox-"+ ++ze),C(r,"title",e[0]),C(r,"class","clickable"),C(d,"id","checkbox-"+ze),C(d,"type","checkbox"),C(n,"class","constraint-checkbox svelte-1ns67sk")},m(t,i){g(t,n,i),m(n,r),m(r,o),m(r,a),m(r,l),m(l,c),m(n,u),m(n,d),d.checked=e[3],f||(h=[k(d,"change",e[5]),k(n,"click",A(e[4]))],f=!0)},p(t,[e]){2&e&&s!==(s="icon icon-inline icon-c-text icon-"+t[1]+" svelte-1ns67sk")&&C(o,"class",s),1&e&&E(c,t[0]),1&e&&C(r,"title",t[0]),8&e&&(d.checked=t[3])},i:t,o:t,d(t){t&&v(n),f=!1,i(h)}}}let ze=0;function We(e,n,i){let r,o=t,a=()=>(o(),o=s(u,(t=>i(3,r=t))),u);e.$$.on_destroy.push((()=>o()));let{name:l}=n,{icon:c}=n,{checked:u}=n;return a(),e.$$set=t=>{"name"in t&&i(0,l=t.name),"icon"in t&&i(1,c=t.icon),"checked"in t&&a(i(2,u=t.checked))},[l,c,u,r,function(t){M.call(this,e,t)},function(){r=this.checked,u.set(r)}]}class Ye extends rt{constructor(t){super(),it(this,t,We,Ve,o,{name:0,icon:1,checked:2})}}function Xe(e){let n,i,r,o;return n=new Ye({props:{name:"Toggle Positive Diagonal",icon:"positive-diagonal",checked:e[4]}}),r=new Ye({props:{name:"Toggle Negative Diagonal",icon:"negative-diagonal",checked:e[5]}}),{c(){Q(n.$$.fragment),i=w(),Q(r.$$.fragment)},m(t,e){tt(n,t,e),g(t,i,e),tt(r,t,e),o=!0},p:t,i(t){o||(Y(n.$$.fragment,t),Y(r.$$.fragment,t),o=!0)},o(t){X(n.$$.fragment,t),X(r.$$.fragment,t),o=!1},d(t){et(n,t),t&&v(i),et(r,t)}}}function Ke(t){let e,n;return e=new Be({props:{id:t[0],name:"Diagonals",unused:!t[2]&&!t[3],onClick:t[6],$$slots:{default:[Xe]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment)},m(t,i){tt(e,t,i),n=!0},p(t,[n]){const i={};1&n&&(i.id=t[0]),12&n&&(i.unused=!t[2]&&!t[3]),256&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i(t){n||(Y(e.$$.fragment,t),n=!0)},o(t){X(e.$$.fragment,t),n=!1},d(t){et(e,t)}}}function Ze(e,n,i){let r,o,l,c=t,u=()=>(c(),c=s(h,(t=>i(7,l=t))),h);e.$$.on_destroy.push((()=>c()));let{id:f}=n,{ref:h}=n;u();const p=h.ref("positive");a(e,p,(t=>i(2,r=t)));const m=h.ref("negative");return a(e,m,(t=>i(3,o=t))),e.$$set=t=>{"id"in t&&i(0,f=t.id),"ref"in t&&u(i(1,h=t.ref))},[f,h,r,o,p,m,function(){const t=!r||!o;d(h,l={positive:t,negative:t},l)}]}function Je(t){let e,n;return e=new Ye({props:{name:"Toggle Antiknight Constraint",icon:"knight",checked:t[1]}}),{c(){Q(e.$$.fragment)},m(t,i){tt(e,t,i),n=!0},p(t,n){const i={};2&n&&(i.checked=t[1]),e.$set(i)},i(t){n||(Y(e.$$.fragment,t),n=!0)},o(t){X(e.$$.fragment,t),n=!1},d(t){et(e,t)}}}function Qe(t){let e,n;return e=new Be({props:{id:t[0],name:"Antiknight",unused:!t[2],onClick:t[3],$$slots:{default:[Je]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment)},m(t,i){tt(e,t,i),n=!0},p(t,[n]){const i={};1&n&&(i.id=t[0]),4&n&&(i.unused=!t[2]),4&n&&(i.onClick=t[3]),18&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i(t){n||(Y(e.$$.fragment,t),n=!0)},o(t){X(e.$$.fragment,t),n=!1},d(t){et(e,t)}}}function tn(e,n,i){let r,o=t,a=()=>(o(),o=s(c,(t=>i(2,r=t))),c);e.$$.on_destroy.push((()=>o()));let{id:l}=n,{ref:c}=n;a();return e.$$set=t=>{"id"in t&&i(0,l=t.id),"ref"in t&&a(i(1,c=t.ref))},[l,c,r,()=>d(c,r=!r,r)]}function en(t){let e,n;return e=new Ye({props:{name:"Toggle Antiking Constraint",icon:"king",checked:t[1]}}),{c(){Q(e.$$.fragment)},m(t,i){tt(e,t,i),n=!0},p(t,n){const i={};2&n&&(i.checked=t[1]),e.$set(i)},i(t){n||(Y(e.$$.fragment,t),n=!0)},o(t){X(e.$$.fragment,t),n=!1},d(t){et(e,t)}}}function nn(t){let e,n;return e=new Be({props:{id:t[0],name:"Antiking",unused:!t[2],onClick:t[3],$$slots:{default:[en]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment)},m(t,i){tt(e,t,i),n=!0},p(t,[n]){const i={};1&n&&(i.id=t[0]),4&n&&(i.unused=!t[2]),4&n&&(i.onClick=t[3]),18&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i(t){n||(Y(e.$$.fragment,t),n=!0)},o(t){X(e.$$.fragment,t),n=!1},d(t){et(e,t)}}}function rn(e,n,i){let r,o=t,a=()=>(o(),o=s(c,(t=>i(2,r=t))),c);e.$$.on_destroy.push((()=>o()));let{id:l}=n,{ref:c}=n;a();return e.$$set=t=>{"id"in t&&i(0,l=t.id),"ref"in t&&a(i(1,c=t.ref))},[l,c,r,()=>d(c,r=!r,r)]}function on(t){let e,n;return e=new Ye({props:{name:"Toggle Disjoint Groups Constraint",icon:"disjoint",checked:t[1]}}),{c(){Q(e.$$.fragment)},m(t,i){tt(e,t,i),n=!0},p(t,n){const i={};2&n&&(i.checked=t[1]),e.$set(i)},i(t){n||(Y(e.$$.fragment,t),n=!0)},o(t){X(e.$$.fragment,t),n=!1},d(t){et(e,t)}}}function sn(t){let e,n;return e=new Be({props:{id:t[0],name:"Disjoint Groups",unused:!t[2],onClick:t[3],$$slots:{default:[on]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment)},m(t,i){tt(e,t,i),n=!0},p(t,[n]){const i={};1&n&&(i.id=t[0]),4&n&&(i.unused=!t[2]),4&n&&(i.onClick=t[3]),18&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i(t){n||(Y(e.$$.fragment,t),n=!0)},o(t){X(e.$$.fragment,t),n=!1},d(t){et(e,t)}}}function an(e,n,i){let r,o=t,a=()=>(o(),o=s(c,(t=>i(2,r=t))),c);e.$$.on_destroy.push((()=>o()));let{id:l}=n,{ref:c}=n;a();return e.$$set=t=>{"id"in t&&i(0,l=t.id),"ref"in t&&a(i(1,c=t.ref))},[l,c,r,()=>d(c,r=!r,r)]}function ln(t){let e,n;return e=new Ye({props:{name:"Toggle Nonconsecutive Constraint",icon:"nonconsecutive",checked:t[1]}}),{c(){Q(e.$$.fragment)},m(t,i){tt(e,t,i),n=!0},p(t,n){const i={};2&n&&(i.checked=t[1]),e.$set(i)},i(t){n||(Y(e.$$.fragment,t),n=!0)},o(t){X(e.$$.fragment,t),n=!1},d(t){et(e,t)}}}function cn(t){let e,n;return e=new Be({props:{id:t[0],name:"Nonconsecutive",unused:!t[2],onClick:t[3],$$slots:{default:[ln]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment)},m(t,i){tt(e,t,i),n=!0},p(t,[n]){const i={};1&n&&(i.id=t[0]),4&n&&(i.unused=!t[2]),4&n&&(i.onClick=t[3]),18&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i(t){n||(Y(e.$$.fragment,t),n=!0)},o(t){X(e.$$.fragment,t),n=!1},d(t){et(e,t)}}}function un(e,n,i){let r,o=t,a=()=>(o(),o=s(c,(t=>i(2,r=t))),c);e.$$.on_destroy.push((()=>o()));let{id:l}=n,{ref:c}=n;a();return e.$$set=t=>{"id"in t&&i(0,l=t.id),"ref"in t&&a(i(1,c=t.ref))},[l,c,r,()=>d(c,r=!r,r)]}function dn(t){let e;return{c(){e=$("span"),C(e,"class","icon icon-inline icon-c-clickable icon-given")},m(t,n){g(t,e,n)},d(t){t&&v(e)}}}function fn(t){let e,n;return e=new Be({props:{id:t[0],name:"Givens",unused:!1,isLocal:!0,$$slots:{default:[dn]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment)},m(t,i){tt(e,t,i),n=!0},p(t,[n]){const i={};1&n&&(i.id=t[0]),8&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i(t){n||(Y(e.$$.fragment,t),n=!0)},o(t){X(e.$$.fragment,t),n=!1},d(t){et(e,t)}}}function hn(e,n,i){let r=t,o=()=>(r(),r=s(l,(t=>i(2,t))),l);e.$$.on_destroy.push((()=>r()));let{id:a}=n,{ref:l}=n;return o(),e.$$set=t=>{"id"in t&&i(0,a=t.id),"ref"in t&&o(i(1,l=t.ref))},[a,l]}function pn(t){let e;return{c(){e=$("span"),C(e,"class","icon icon-inline icon-c-clickable icon-thermo")},m(t,n){g(t,e,n)},d(t){t&&v(e)}}}function mn(t){let e,n;return e=new Be({props:{id:t[0],name:"Thermos",unused:!1,isLocal:!0,$$slots:{default:[pn]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment)},m(t,i){tt(e,t,i),n=!0},p(t,[n]){const i={};1&n&&(i.id=t[0]),8&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i(t){n||(Y(e.$$.fragment,t),n=!0)},o(t){X(e.$$.fragment,t),n=!1},d(t){et(e,t)}}}function gn(e,n,i){let r=t,o=()=>(r(),r=s(l,(t=>i(2,t))),l);e.$$.on_destroy.push((()=>r()));let{id:a}=n,{ref:l}=n;return o(),e.$$set=t=>{"id"in t&&i(0,a=t.id),"ref"in t&&o(i(1,l=t.ref))},[a,l]}function vn(t){let e;return{c(){e=$("span"),C(e,"class","icon icon-inline icon-c-clickable icon-arrow")},m(t,n){g(t,e,n)},d(t){t&&v(e)}}}function $n(t){let e,n;return e=new Be({props:{id:t[0],name:"Arrows",unused:!1,isLocal:!0,$$slots:{default:[vn]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment)},m(t,i){tt(e,t,i),n=!0},p(t,[n]){const i={};1&n&&(i.id=t[0]),8&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i(t){n||(Y(e.$$.fragment,t),n=!0)},o(t){X(e.$$.fragment,t),n=!1},d(t){et(e,t)}}}function _n(e,n,i){let r=t,o=()=>(r(),r=s(l,(t=>i(2,t))),l);e.$$.on_destroy.push((()=>r()));let{id:a}=n,{ref:l}=n;return o(),e.$$set=t=>{"id"in t&&i(0,a=t.id),"ref"in t&&o(i(1,l=t.ref))},[a,l]}function yn(t){let e;return{c(){e=$("span"),C(e,"class","icon icon-inline icon-c-clickable icon-sandwich")},m(t,n){g(t,e,n)},d(t){t&&v(e)}}}function wn(t){let e,n;return e=new Be({props:{id:t[0],name:"Sandwich",unused:!1,isLocal:!0,$$slots:{default:[yn]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment)},m(t,i){tt(e,t,i),n=!0},p(t,[n]){const i={};1&n&&(i.id=t[0]),8&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i(t){n||(Y(e.$$.fragment,t),n=!0)},o(t){X(e.$$.fragment,t),n=!1},d(t){et(e,t)}}}function bn(e,n,i){let r=t,o=()=>(r(),r=s(l,(t=>i(2,t))),l);e.$$.on_destroy.push((()=>r()));let{id:a}=n,{ref:l}=n;return o(),e.$$set=t=>{"id"in t&&i(0,a=t.id),"ref"in t&&o(i(1,l=t.ref))},[a,l]}function kn(t){let e;return{c(){e=$("span"),C(e,"class","icon icon-inline icon-c-clickable icon-min")},m(t,n){g(t,e,n)},d(t){t&&v(e)}}}function xn(t){let e,n;return e=new Be({props:{id:t[0],name:"Min",unused:!1,isLocal:!0,$$slots:{default:[kn]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment)},m(t,i){tt(e,t,i),n=!0},p(t,[n]){const i={};1&n&&(i.id=t[0]),8&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i(t){n||(Y(e.$$.fragment,t),n=!0)},o(t){X(e.$$.fragment,t),n=!1},d(t){et(e,t)}}}function An(e,n,i){let r=t,o=()=>(r(),r=s(l,(t=>i(2,t))),l);e.$$.on_destroy.push((()=>r()));let{id:a}=n,{ref:l}=n;return o(),e.$$set=t=>{"id"in t&&i(0,a=t.id),"ref"in t&&o(i(1,l=t.ref))},[a,l]}function Cn(t){let e;return{c(){e=$("span"),C(e,"class","icon icon-inline icon-c-clickable icon-max")},m(t,n){g(t,e,n)},d(t){t&&v(e)}}}function En(t){let e,n;return e=new Be({props:{id:t[0],name:"Max",unused:!1,isLocal:!0,$$slots:{default:[Cn]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment)},m(t,i){tt(e,t,i),n=!0},p(t,[n]){const i={};1&n&&(i.id=t[0]),8&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i(t){n||(Y(e.$$.fragment,t),n=!0)},o(t){X(e.$$.fragment,t),n=!1},d(t){et(e,t)}}}function On(e,n,i){let r=t,o=()=>(r(),r=s(l,(t=>i(2,t))),l);e.$$.on_destroy.push((()=>r()));let{id:a}=n,{ref:l}=n;return o(),e.$$set=t=>{"id"in t&&i(0,a=t.id),"ref"in t&&o(i(1,l=t.ref))},[a,l]}var Sn;!function(t){t[t.GLOBAL=0]="GLOBAL",t[t.LOCAL=1]="LOCAL",t[t.HIDDEN=2]="HIDDEN"}(Sn||(Sn={}));const Tn={grid:Sn.HIDDEN,box:Sn.HIDDEN,given:Sn.LOCAL,thermo:Sn.LOCAL,arrow:Sn.LOCAL,sandwich:Sn.LOCAL,min:Sn.LOCAL,max:Sn.LOCAL,killer:Sn.LOCAL,quadruple:Sn.LOCAL,diagonal:Sn.GLOBAL,knight:Sn.GLOBAL,king:Sn.GLOBAL,disjointGroups:Sn.GLOBAL,consecutive:Sn.GLOBAL},Ln={grid:null,box:null,given:class extends rt{constructor(t){super(),it(this,t,hn,fn,o,{id:0,ref:1})}},thermo:class extends rt{constructor(t){super(),it(this,t,gn,mn,o,{id:0,ref:1})}},arrow:class extends rt{constructor(t){super(),it(this,t,_n,$n,o,{id:0,ref:1})}},sandwich:class extends rt{constructor(t){super(),it(this,t,bn,wn,o,{id:0,ref:1})}},min:class extends rt{constructor(t){super(),it(this,t,An,xn,o,{id:0,ref:1})}},max:class extends rt{constructor(t){super(),it(this,t,On,En,o,{id:0,ref:1})}},killer:null,quadruple:null,diagonal:class extends rt{constructor(t){super(),it(this,t,Ze,Ke,o,{id:0,ref:1})}},knight:class extends rt{constructor(t){super(),it(this,t,tn,Qe,o,{id:0,ref:1})}},king:class extends rt{constructor(t){super(),it(this,t,rn,nn,o,{id:0,ref:1})}},disjointGroups:class extends rt{constructor(t){super(),it(this,t,an,sn,o,{id:0,ref:1})}},consecutive:class extends rt{constructor(t){super(),it(this,t,un,cn,o,{id:0,ref:1})}}},Mn=window.boardState=new je.StateManager,In=Mn.ref("elements","120","value"),jn=Mn.ref("elements","10140","value");Mn.update({grid:{width:9,height:9},elements:{10:{type:"box",order:10,value:{width:3,height:3}},11:{type:"grid",order:10,value:null},10800:{type:"diagonal",value:{positive:!0,negative:!1},order:9.5},10090:{type:"knight",value:!1},10100:{type:"king",value:!1},10110:{type:"disjointGroups",value:!1},10120:{type:"consecutive",value:!1},120:{type:"filled",order:15,value:{8:8,26:5,30:7,45:1,47:2}},10130:{type:"given",order:15,value:{12:3,13:4,39:4,40:1,64:3}},10140:{type:"thermo",order:3,value:{110:{length:4,0:3,1:13,2:23},120:{length:4,0:29,1:20,2:21}}},10150:{type:"arrow",order:9,value:{110:{head:{length:1,0:27},body:{length:3,0:27,1:28,2:29}},120:{head:{length:2,0:45,1:46},body:{length:5,0:46,1:47,2:56,3:66,4:57}}}},10160:{type:"min",order:2,value:{56:!0,57:!0,63:!0,64:!0,65:!0}},10170:{type:"max",order:2,value:{58:!0,67:!0,68:!0,77:!0}},10180:{type:"killer",order:12,value:{150:{sum:43,cells:{28:!0,36:!0,37:!0,38:!0,45:!0,47:!0,54:!0,55:!0}},160:{sum:18,cells:{60:!0,61:!0,69:!0}},170:{sum:16,cells:{71:!0,79:!0,80:!0}}}},10190:{type:"quadruple",order:11,value:{12:{length:3,0:1,1:5,2:9},24:{length:2,0:8,1:9},66:{length:4,0:1,1:1,2:2,3:2}}}}});const Dn=/^Digit(\d)$/,Nn={Delete:null,Backspace:null},Rn=t=>{let e;if(t.code in Nn)e=Nn[t.code];else{const n=Dn.exec(t.code);n&&(e=Number(n[1]))}if(void 0===e)return;const n=vt(Ne.get()),i={};for(const t of n)i[`${t}`]=e;In.update(i)};class Hn extends EventTarget{constructor(t){super(),this._prevPos=null,this._prevCell=null,this._isDown=!1,this._isTap=!1,this._interpolateOnReender=t}down(t,e,n){this._dispatch("dragStart",{event:t}),this._isDown=!0,this._isTap=!0}move(t,e,n){this._isDown&&this._handle(t,e,n)}up(t,e,n){this._isDown&&(this._dispatch("dragEnd",{event:t}),this._prevPos=null,this._prevCell=null,this._isDown=!1)}leave(t,e,n){this._isDown&&this._handle(t,e,n)}click(t,e,n){if(this._isTap){const i=mt(_t(t,n),e,!1);null!=i&&this._dispatch("tap",{event:t,coord:i,grid:e,svg:n})}}_dispatch(t,e){this.dispatchEvent(new CustomEvent(t,{detail:e}))}_handle(t,e,n){const i=_t(t,n);if(null!=this._prevPos&&1<function(t,e){const n=e[0]-t[0],i=e[1]-t[1];return n*n+i*i}(this._prevPos,i)){for(const r of function(t,e,n){const i=Math.floor(e[0])-Math.floor(t[0]),r=Math.floor(e[1])-Math.floor(t[1]),o=Math.max(Math.abs(i),Math.abs(r)),s=[];for(let i=1;i<=o;i++){const r=i/o,a=(1-r)*t[0]+r*e[0],l=(1-r)*t[1]+r*e[1];0<=a&&a<n.width&&0<=l&&l<n.height&&s.push([Math.floor(a),Math.floor(l)])}return s}(this._prevPos,i,e))this._dispatch("drag",{event:t,coord:r,grid:e,svg:n}),this._prevCell=ft(r,e);this._prevPos=this._interpolateOnReender||wt(i,e)?i:null,this._isTap=!1}else{const r=mt(i,e,!(null==this._prevPos));null!=r?(this._prevCell!==ft(r,e)&&(null!=this._prevCell&&(this._isTap=!1),this._dispatch("drag",{event:t,coord:r,grid:e,svg:n}),this._prevCell=ft(r,e)),this._prevPos=i):this._interpolateOnReender||wt(i,e)||(this._prevCell=null,this._prevPos=null,this._isTap=!1)}}}const Un=(()=>{const t=new Hn(!0);let e=null,n=0;return t.addEventListener("dragStart",(t=>{n=0,e=jn.ref(`${Date.now()}_${Math.random()}`)})),t.addEventListener("drag",(t=>{if(null==e)throw"UNREACHABLE";const{coord:i,grid:r}=t.detail,o=ft(i,r);for(const[t,i]of Object.entries(e.get()||{}))if(o===i)return n=+t+1,void e.replace(Array.from(Object.assign(Object.assign({},e.get()||{}),{length:n})));e.ref(`${n}`).replace(o),n++})),t.addEventListener("dragEnd",(t=>{1>=n&&e.replace(null)})),t.addEventListener("tap",(t=>{const{coord:e,grid:n}=t.detail,i=ft(e,n);for(const[t,e]of Object.entries(jn.get()||{}))if(i===e[0])return void jn.ref(`${t}`).replace(null)})),t})();function Pn(t){let e,n,r,o,s,a,l;function c(e){t[9](e)}let u={boardState:Mn,userState:De};return void 0!==t[0]&&(u.svg=t[0]),r=new Me({props:u}),j.push((()=>function(t,e,n){const i=t.$$.props[e];void 0!==i&&(t.$$.bound[i]=n,n(t.$$.ctx[i]))}(r,"svg",c))),{c(){e=$("div"),n=w(),Q(r.$$.fragment),C(e,"class","overlay svelte-kdd1wn")},m(i,o){g(i,e,o),g(i,n,o),tt(r,i,o),s=!0,a||(l=[k(window,"mouseup",t[3]),k(window,"keydown",Rn),k(e,"mousedown",A(x(t[4])),!0),k(e,"mousemove",A(x(t[5])),!0),k(e,"click",A(x(t[6])),!0),k(e,"contextmenu",A(x(t[7])),!0),k(e,"mouseleave",A(x(t[8])),!0)],a=!0)},p(t,[e]){const n={};!o&&1&e&&(o=!0,n.svg=t[0],function(t){N.push(t)}((()=>o=!1))),r.$set(n)},i(t){s||(Y(r.$$.fragment,t),s=!0)},o(t){X(r.$$.fragment,t),s=!1},d(t){t&&v(e),t&&v(n),et(r,t),a=!1,i(l)}}}function Gn(t,e,n){let i;const r=Mn.ref("grid");a(t,r,(t=>n(1,i=t)));let o=null;return[o,i,r,t=>Un.up(t,i,o),t=>Un.down(t,i,o),t=>Un.move(t,i,o),t=>Un.click(t,i,o),t=>Un.click(t,i,o),t=>Un.leave(t,i,o),function(t){o=t,n(0,o)}]}(()=>{let t;!function(t){t[t.RESETTING=0]="RESETTING",t[t.DYNAMIC=1]="DYNAMIC",t[t.SELECTING=2]="SELECTING",t[t.DESELCTING=3]="DESELCTING"}(t||(t={}));let e=t.RESETTING;const n=new Hn(!1);function i(n,i){const{coord:r,grid:o}=n.detail,s=ft(r,o);if(t.RESETTING===e){const n=i&&Ne.get()||{};return i&&1===Object.keys(n).length&&n[`${s}`]?Ne.replace({}):Ne.replace({[`${s}`]:!0}),void(e=t.SELECTING)}t.DYNAMIC===e&&(e=Ne.ref(`${s}`).get()?t.DESELCTING:t.SELECTING),Ne.ref(`${s}`).replace(t.SELECTING===e||null)}n.addEventListener("dragStart",(n=>{var i;i=n.detail.event,e=i.shiftKey?t.SELECTING:i.ctrlKey||i.metaKey?t.DYNAMIC:i.altKey?t.DESELCTING:t.RESETTING})),n.addEventListener("drag",(t=>{i(t,!1)})),n.addEventListener("tap",(t=>{i(t,!0)}))})();class qn extends rt{constructor(t){super(),it(this,t,Gn,Pn,o,{})}}function Fn(t){let e,n,i,r,o,s,a,c,d,f,h;const p=t[4].default,_=l(p,t,t[3],null);return{c(){e=$("div"),n=$("button"),i=y(t[1]),r=w(),o=$("span"),s=w(),a=$("div"),c=$("div"),_&&_.c(),C(o,"class","tree-menu icon icon-inline icon-c-clickable icon-tree-menu svelte-1o8sn12"),C(n,"class","section-title nobutton svelte-1o8sn12"),C(c,"class","panel svelte-1o8sn12"),C(a,"class","panel-wrapper svelte-1o8sn12"),C(e,"class","container svelte-1o8sn12"),S(e,"closed",t[0])},m(l,u){g(l,e,u),m(e,n),m(n,i),m(n,r),m(n,o),m(e,s),m(e,a),m(a,c),_&&_.m(c,null),d=!0,f||(h=k(n,"click",t[2]),f=!0)},p(t,[n]){(!d||2&n)&&E(i,t[1]),_&&_.p&&(!d||8&n)&&u(_,p,t,t[3],d?n:-1,null,null),1&n&&S(e,"closed",t[0])},i(t){d||(Y(_,t),d=!0)},o(t){X(_,t),d=!1},d(t){t&&v(e),_&&_.d(t),f=!1,h()}}}function Bn(t,e,n){let{$$slots:i={},$$scope:r}=e,{title:o}=e,{closed:s=!1}=e;return t.$$set=t=>{"title"in t&&n(1,o=t.title),"closed"in t&&n(0,s=t.closed),"$$scope"in t&&n(3,r=t.$$scope)},[s,o,function(){n(0,s=!s)},r,i]}class Vn extends rt{constructor(t){super(),it(this,t,Bn,Fn,o,{title:1,closed:0})}}function zn(t,e,n){const i=t.slice();return i[3]=e[n].id,i[4]=e[n].ref,i[5]=e[n].component,i}function Wn(t,e,n){const i=t.slice();return i[3]=e[n].id,i[4]=e[n].ref,i[5]=e[n].component,i}function Yn(t){let e;return{c(){e=$("p"),e.textContent="Nothing Here!",O(e,"margin","0"),O(e,"padding","0.25em 1em")},m(t,n){g(t,e,n)},d(t){t&&v(e)}}}function Xn(t,e){let n,i,r,o;var s=e[5];function a(t){return{props:{id:t[3],ref:t[4]}}}return s&&(i=new s(a(e))),{key:t,first:null,c(){n=$("li"),i&&Q(i.$$.fragment),r=w(),this.first=n},m(t,e){g(t,n,e),i&&tt(i,n,null),m(n,r),o=!0},p(t,o){if(s!==(s=(e=t)[5])){if(i){z();const t=i;X(t.$$.fragment,1,0,(()=>{et(t,1)})),W()}s?(i=new s(a(e)),Q(i.$$.fragment),Y(i.$$.fragment,1),tt(i,n,r)):i=null}},i(t){o||(i&&Y(i.$$.fragment,t),o=!0)},o(t){i&&X(i.$$.fragment,t),o=!1},d(t){t&&v(n),i&&et(i)}}}function Kn(t){let e,n,i=[],r=new Map,o=t[0];const s=t=>t[3];for(let e=0;e<o.length;e+=1){let n=Wn(t,o,e),a=s(n);r.set(a,i[e]=Xn(a,n))}return{c(){e=$("ul");for(let t=0;t<i.length;t+=1)i[t].c();C(e,"class","nolist")},m(t,r){g(t,e,r);for(let t=0;t<i.length;t+=1)i[t].m(e,null);n=!0},p(t,n){1&n&&(o=t[0],z(),i=J(i,n,s,1,t,o,r,e,Z,Xn,null,Wn),W())},i(t){if(!n){for(let t=0;t<o.length;t+=1)Y(i[t]);n=!0}},o(t){for(let t=0;t<i.length;t+=1)X(i[t]);n=!1},d(t){t&&v(e);for(let t=0;t<i.length;t+=1)i[t].d()}}}function Zn(t,e){let n,i,r,o;var s=e[5];function a(t){return{props:{id:t[3],ref:t[4]}}}return s&&(i=new s(a(e))),{key:t,first:null,c(){n=$("li"),i&&Q(i.$$.fragment),r=w(),this.first=n},m(t,e){g(t,n,e),i&&tt(i,n,null),m(n,r),o=!0},p(t,o){if(s!==(s=(e=t)[5])){if(i){z();const t=i;X(t.$$.fragment,1,0,(()=>{et(t,1)})),W()}s?(i=new s(a(e)),Q(i.$$.fragment),Y(i.$$.fragment,1),tt(i,n,r)):i=null}},i(t){o||(i&&Y(i.$$.fragment,t),o=!0)},o(t){i&&X(i.$$.fragment,t),o=!1},d(t){t&&v(n),i&&et(i)}}}function Jn(t){let e,n,i=[],r=new Map,o=t[1];const s=t=>t[3];for(let e=0;e<o.length;e+=1){let n=zn(t,o,e),a=s(n);r.set(a,i[e]=Zn(a,n))}return{c(){e=$("ul");for(let t=0;t<i.length;t+=1)i[t].c();C(e,"class","nolist")},m(t,r){g(t,e,r);for(let t=0;t<i.length;t+=1)i[t].m(e,null);n=!0},p(t,n){2&n&&(o=t[1],z(),i=J(i,n,s,1,t,o,r,e,Z,Zn,null,zn),W())},i(t){if(!n){for(let t=0;t<o.length;t+=1)Y(i[t]);n=!0}},o(t){for(let t=0;t<i.length;t+=1)X(i[t]);n=!1},d(t){t&&v(e);for(let t=0;t<i.length;t+=1)i[t].d()}}}function Qn(t){let e;return{c(){e=$("p"),e.textContent="Nothing Here!",O(e,"margin","0"),O(e,"padding","0.25em 1em")},m(t,n){g(t,e,n)},d(t){t&&v(e)}}}function ti(t){let e,n,i,r,o,s,a,l,c,u,d,f,h;return i=new Vn({props:{title:"Solver Panel",$$slots:{default:[Yn]},$$scope:{ctx:t}}}),s=new Vn({props:{title:"Global Constraints",$$slots:{default:[Kn]},$$scope:{ctx:t}}}),c=new Vn({props:{title:"Local Constraints",$$slots:{default:[Jn]},$$scope:{ctx:t}}}),f=new Vn({props:{title:"Cosmetic Tools",$$slots:{default:[Qn]},$$scope:{ctx:t}}}),{c(){e=$("ul"),n=$("li"),Q(i.$$.fragment),r=w(),o=$("li"),Q(s.$$.fragment),a=w(),l=$("li"),Q(c.$$.fragment),u=w(),d=$("li"),Q(f.$$.fragment),C(e,"class","nolist")},m(t,p){g(t,e,p),m(e,n),tt(i,n,null),m(e,r),m(e,o),tt(s,o,null),m(e,a),m(e,l),tt(c,l,null),m(e,u),m(e,d),tt(f,d,null),h=!0},p(t,[e]){const n={};1024&e&&(n.$$scope={dirty:e,ctx:t}),i.$set(n);const r={};1024&e&&(r.$$scope={dirty:e,ctx:t}),s.$set(r);const o={};1024&e&&(o.$$scope={dirty:e,ctx:t}),c.$set(o);const a={};1024&e&&(a.$$scope={dirty:e,ctx:t}),f.$set(a)},i(t){h||(Y(i.$$.fragment,t),Y(s.$$.fragment,t),Y(c.$$.fragment,t),Y(f.$$.fragment,t),h=!0)},o(t){X(i.$$.fragment,t),X(s.$$.fragment,t),X(c.$$.fragment,t),X(f.$$.fragment,t),h=!1},d(t){t&&v(e),et(i),et(s),et(c),et(f)}}}function ei(t){const e=[],n=[];return Mn.ref("elements/*").watch((([t,i],r,o)=>{const s=function(t){const i=Tn[t];return Sn.GLOBAL===i?e:Sn.LOCAL===i?n:null}((null==r?void 0:r.type)||o.type);if(null==s)return;let a=-1;if(null!=r&&(a=s.findIndex((({id:t})=>i===t)),0>a))console.error(`Failed to find constraint with id ${i}.`);else if(null==o)delete s[a];else{const e=Ln[o.type];if(null==e)return void console.warn(`Cannot show edit menu for unknown constraint type: ${o.type}.`);const n={id:i,ref:Mn.ref(t,i,"value"),component:e};null==r?s.push(n):(r.type!==o.type&&console.error("Cannot change type of constraint!"),s[a]=n)}}),!0),[e,n]}class ni extends rt{constructor(t){super(),it(this,t,ei,ti,o,{})}}var ii;
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
var ri=function(t,e){return(ri=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function oi(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}ri(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var si=function(){return(si=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function ai(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s}function li(t,e,n){if(n||2===arguments.length)for(var i,r=0,o=e.length;r<o;r++)!i&&r in e||(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||e)}
/**
     * @license
     * Copyright 2016 Google Inc.
     *
     * Permission is hereby granted, free of charge, to any person obtaining a copy
     * of this software and associated documentation files (the "Software"), to deal
     * in the Software without restriction, including without limitation the rights
     * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
     * copies of the Software, and to permit persons to whom the Software is
     * furnished to do so, subject to the following conditions:
     *
     * The above copyright notice and this permission notice shall be included in
     * all copies or substantial portions of the Software.
     *
     * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
     * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
     * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
     * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
     * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
     * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
     * THE SOFTWARE.
     */var ci=function(){function t(t){void 0===t&&(t={}),this.adapter=t}return Object.defineProperty(t,"cssClasses",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{}},enumerable:!1,configurable:!0}),t.prototype.init=function(){},t.prototype.destroy=function(){},t}(),ui=function(){function t(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];this.root=t,this.initialize.apply(this,li([],ai(n))),this.foundation=void 0===e?this.getDefaultFoundation():e,this.foundation.init(),this.initialSyncWithDOM()}return t.attachTo=function(e){return new t(e,new ci({}))},t.prototype.initialize=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.getDefaultFoundation=function(){throw new Error("Subclasses must override getDefaultFoundation to return a properly configured foundation class")},t.prototype.initialSyncWithDOM=function(){},t.prototype.destroy=function(){this.foundation.destroy()},t.prototype.listen=function(t,e,n){this.root.addEventListener(t,e,n)},t.prototype.unlisten=function(t,e,n){this.root.removeEventListener(t,e,n)},t.prototype.emit=function(t,e,n){var i;void 0===n&&(n=!1),"function"==typeof CustomEvent?i=new CustomEvent(t,{bubbles:n,detail:e}):(i=document.createEvent("CustomEvent")).initCustomEvent(t,n,!1,e),this.root.dispatchEvent(i)},t}();
/**
     * @license
     * Copyright 2016 Google Inc.
     *
     * Permission is hereby granted, free of charge, to any person obtaining a copy
     * of this software and associated documentation files (the "Software"), to deal
     * in the Software without restriction, including without limitation the rights
     * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
     * copies of the Software, and to permit persons to whom the Software is
     * furnished to do so, subject to the following conditions:
     *
     * The above copyright notice and this permission notice shall be included in
     * all copies or substantial portions of the Software.
     *
     * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
     * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
     * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
     * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
     * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
     * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
     * THE SOFTWARE.
     */
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Permission is hereby granted, free of charge, to any person obtaining a copy
     * of this software and associated documentation files (the "Software"), to deal
     * in the Software without restriction, including without limitation the rights
     * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
     * copies of the Software, and to permit persons to whom the Software is
     * furnished to do so, subject to the following conditions:
     *
     * The above copyright notice and this permission notice shall be included in
     * all copies or substantial portions of the Software.
     *
     * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
     * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
     * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
     * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
     * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
     * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
     * THE SOFTWARE.
     */
function di(t){return void 0===t&&(t=window),!!function(t){void 0===t&&(t=window);var e=!1;try{var n={get passive(){return e=!0,!1}},i=function(){};t.document.addEventListener("test",i,n),t.document.removeEventListener("test",i,n)}catch(t){e=!1}return e}
/**
     * @license
     * Copyright 2018 Google Inc.
     *
     * Permission is hereby granted, free of charge, to any person obtaining a copy
     * of this software and associated documentation files (the "Software"), to deal
     * in the Software without restriction, including without limitation the rights
     * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
     * copies of the Software, and to permit persons to whom the Software is
     * furnished to do so, subject to the following conditions:
     *
     * The above copyright notice and this permission notice shall be included in
     * all copies or substantial portions of the Software.
     *
     * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
     * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
     * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
     * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
     * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
     * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
     * THE SOFTWARE.
     */(t)&&{passive:!0}}
/**
     * @license
     * Copyright 2016 Google Inc.
     *
     * Permission is hereby granted, free of charge, to any person obtaining a copy
     * of this software and associated documentation files (the "Software"), to deal
     * in the Software without restriction, including without limitation the rights
     * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
     * copies of the Software, and to permit persons to whom the Software is
     * furnished to do so, subject to the following conditions:
     *
     * The above copyright notice and this permission notice shall be included in
     * all copies or substantial portions of the Software.
     *
     * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
     * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
     * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
     * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
     * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
     * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
     * THE SOFTWARE.
     */
var fi={BG_FOCUSED:"mdc-ripple-upgraded--background-focused",FG_ACTIVATION:"mdc-ripple-upgraded--foreground-activation",FG_DEACTIVATION:"mdc-ripple-upgraded--foreground-deactivation",ROOT:"mdc-ripple-upgraded",UNBOUNDED:"mdc-ripple-upgraded--unbounded"},hi={VAR_FG_SCALE:"--mdc-ripple-fg-scale",VAR_FG_SIZE:"--mdc-ripple-fg-size",VAR_FG_TRANSLATE_END:"--mdc-ripple-fg-translate-end",VAR_FG_TRANSLATE_START:"--mdc-ripple-fg-translate-start",VAR_LEFT:"--mdc-ripple-left",VAR_TOP:"--mdc-ripple-top"},pi={DEACTIVATION_TIMEOUT_MS:225,FG_DEACTIVATION_MS:150,INITIAL_ORIGIN_SCALE:.6,PADDING:10,TAP_DELAY_MS:300},mi=["touchstart","pointerdown","mousedown","keydown"],gi=["touchend","pointerup","mouseup","contextmenu"],vi=[],$i=function(t){function e(n){var i=t.call(this,si(si({},e.defaultAdapter),n))||this;return i.activationAnimationHasEnded_=!1,i.activationTimer_=0,i.fgDeactivationRemovalTimer_=0,i.fgScale_="0",i.frame_={width:0,height:0},i.initialSize_=0,i.layoutFrame_=0,i.maxRadius_=0,i.unboundedCoords_={left:0,top:0},i.activationState_=i.defaultActivationState_(),i.activationTimerCallback_=function(){i.activationAnimationHasEnded_=!0,i.runDeactivationUXLogicIfReady_()},i.activateHandler_=function(t){return i.activate_(t)},i.deactivateHandler_=function(){return i.deactivate_()},i.focusHandler_=function(){return i.handleFocus()},i.blurHandler_=function(){return i.handleBlur()},i.resizeHandler_=function(){return i.layout()},i}return oi(e,t),Object.defineProperty(e,"cssClasses",{get:function(){return fi},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return hi},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return pi},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},browserSupportsCssVars:function(){return!0},computeBoundingRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},containsEventTarget:function(){return!0},deregisterDocumentInteractionHandler:function(){},deregisterInteractionHandler:function(){},deregisterResizeHandler:function(){},getWindowPageOffset:function(){return{x:0,y:0}},isSurfaceActive:function(){return!0},isSurfaceDisabled:function(){return!0},isUnbounded:function(){return!0},registerDocumentInteractionHandler:function(){},registerInteractionHandler:function(){},registerResizeHandler:function(){},removeClass:function(){},updateCssVariable:function(){}}},enumerable:!1,configurable:!0}),e.prototype.init=function(){var t=this,n=this.supportsPressRipple_();if(this.registerRootHandlers_(n),n){var i=e.cssClasses,r=i.ROOT,o=i.UNBOUNDED;requestAnimationFrame((function(){t.adapter.addClass(r),t.adapter.isUnbounded()&&(t.adapter.addClass(o),t.layoutInternal_())}))}},e.prototype.destroy=function(){var t=this;if(this.supportsPressRipple_()){this.activationTimer_&&(clearTimeout(this.activationTimer_),this.activationTimer_=0,this.adapter.removeClass(e.cssClasses.FG_ACTIVATION)),this.fgDeactivationRemovalTimer_&&(clearTimeout(this.fgDeactivationRemovalTimer_),this.fgDeactivationRemovalTimer_=0,this.adapter.removeClass(e.cssClasses.FG_DEACTIVATION));var n=e.cssClasses,i=n.ROOT,r=n.UNBOUNDED;requestAnimationFrame((function(){t.adapter.removeClass(i),t.adapter.removeClass(r),t.removeCssVars_()}))}this.deregisterRootHandlers_(),this.deregisterDeactivationHandlers_()},e.prototype.activate=function(t){this.activate_(t)},e.prototype.deactivate=function(){this.deactivate_()},e.prototype.layout=function(){var t=this;this.layoutFrame_&&cancelAnimationFrame(this.layoutFrame_),this.layoutFrame_=requestAnimationFrame((function(){t.layoutInternal_(),t.layoutFrame_=0}))},e.prototype.setUnbounded=function(t){var n=e.cssClasses.UNBOUNDED;t?this.adapter.addClass(n):this.adapter.removeClass(n)},e.prototype.handleFocus=function(){var t=this;requestAnimationFrame((function(){return t.adapter.addClass(e.cssClasses.BG_FOCUSED)}))},e.prototype.handleBlur=function(){var t=this;requestAnimationFrame((function(){return t.adapter.removeClass(e.cssClasses.BG_FOCUSED)}))},e.prototype.supportsPressRipple_=function(){return this.adapter.browserSupportsCssVars()},e.prototype.defaultActivationState_=function(){return{activationEvent:void 0,hasDeactivationUXRun:!1,isActivated:!1,isProgrammatic:!1,wasActivatedByPointer:!1,wasElementMadeActive:!1}},e.prototype.registerRootHandlers_=function(t){var e=this;t&&(mi.forEach((function(t){e.adapter.registerInteractionHandler(t,e.activateHandler_)})),this.adapter.isUnbounded()&&this.adapter.registerResizeHandler(this.resizeHandler_)),this.adapter.registerInteractionHandler("focus",this.focusHandler_),this.adapter.registerInteractionHandler("blur",this.blurHandler_)},e.prototype.registerDeactivationHandlers_=function(t){var e=this;"keydown"===t.type?this.adapter.registerInteractionHandler("keyup",this.deactivateHandler_):gi.forEach((function(t){e.adapter.registerDocumentInteractionHandler(t,e.deactivateHandler_)}))},e.prototype.deregisterRootHandlers_=function(){var t=this;mi.forEach((function(e){t.adapter.deregisterInteractionHandler(e,t.activateHandler_)})),this.adapter.deregisterInteractionHandler("focus",this.focusHandler_),this.adapter.deregisterInteractionHandler("blur",this.blurHandler_),this.adapter.isUnbounded()&&this.adapter.deregisterResizeHandler(this.resizeHandler_)},e.prototype.deregisterDeactivationHandlers_=function(){var t=this;this.adapter.deregisterInteractionHandler("keyup",this.deactivateHandler_),gi.forEach((function(e){t.adapter.deregisterDocumentInteractionHandler(e,t.deactivateHandler_)}))},e.prototype.removeCssVars_=function(){var t=this,n=e.strings;Object.keys(n).forEach((function(e){0===e.indexOf("VAR_")&&t.adapter.updateCssVariable(n[e],null)}))},e.prototype.activate_=function(t){var e=this;if(!this.adapter.isSurfaceDisabled()){var n=this.activationState_;if(!n.isActivated){var i=this.previousActivationEvent_;if(!(i&&void 0!==t&&i.type!==t.type))n.isActivated=!0,n.isProgrammatic=void 0===t,n.activationEvent=t,n.wasActivatedByPointer=!n.isProgrammatic&&(void 0!==t&&("mousedown"===t.type||"touchstart"===t.type||"pointerdown"===t.type)),void 0!==t&&vi.length>0&&vi.some((function(t){return e.adapter.containsEventTarget(t)}))?this.resetActivationState_():(void 0!==t&&(vi.push(t.target),this.registerDeactivationHandlers_(t)),n.wasElementMadeActive=this.checkElementMadeActive_(t),n.wasElementMadeActive&&this.animateActivation_(),requestAnimationFrame((function(){vi=[],n.wasElementMadeActive||void 0===t||" "!==t.key&&32!==t.keyCode||(n.wasElementMadeActive=e.checkElementMadeActive_(t),n.wasElementMadeActive&&e.animateActivation_()),n.wasElementMadeActive||(e.activationState_=e.defaultActivationState_())})))}}},e.prototype.checkElementMadeActive_=function(t){return void 0===t||"keydown"!==t.type||this.adapter.isSurfaceActive()},e.prototype.animateActivation_=function(){var t=this,n=e.strings,i=n.VAR_FG_TRANSLATE_START,r=n.VAR_FG_TRANSLATE_END,o=e.cssClasses,s=o.FG_DEACTIVATION,a=o.FG_ACTIVATION,l=e.numbers.DEACTIVATION_TIMEOUT_MS;this.layoutInternal_();var c="",u="";if(!this.adapter.isUnbounded()){var d=this.getFgTranslationCoordinates_(),f=d.startPoint,h=d.endPoint;c=f.x+"px, "+f.y+"px",u=h.x+"px, "+h.y+"px"}this.adapter.updateCssVariable(i,c),this.adapter.updateCssVariable(r,u),clearTimeout(this.activationTimer_),clearTimeout(this.fgDeactivationRemovalTimer_),this.rmBoundedActivationClasses_(),this.adapter.removeClass(s),this.adapter.computeBoundingRect(),this.adapter.addClass(a),this.activationTimer_=setTimeout((function(){return t.activationTimerCallback_()}),l)},e.prototype.getFgTranslationCoordinates_=function(){var t,e=this.activationState_,n=e.activationEvent;return{startPoint:t={x:(t=e.wasActivatedByPointer?function(t,e,n){if(!t)return{x:0,y:0};var i,r,o=e.x,s=e.y,a=o+n.left,l=s+n.top;if("touchstart"===t.type){var c=t;i=c.changedTouches[0].pageX-a,r=c.changedTouches[0].pageY-l}else{var u=t;i=u.pageX-a,r=u.pageY-l}return{x:i,y:r}}(n,this.adapter.getWindowPageOffset(),this.adapter.computeBoundingRect()):{x:this.frame_.width/2,y:this.frame_.height/2}).x-this.initialSize_/2,y:t.y-this.initialSize_/2},endPoint:{x:this.frame_.width/2-this.initialSize_/2,y:this.frame_.height/2-this.initialSize_/2}}},e.prototype.runDeactivationUXLogicIfReady_=function(){var t=this,n=e.cssClasses.FG_DEACTIVATION,i=this.activationState_,r=i.hasDeactivationUXRun,o=i.isActivated;(r||!o)&&this.activationAnimationHasEnded_&&(this.rmBoundedActivationClasses_(),this.adapter.addClass(n),this.fgDeactivationRemovalTimer_=setTimeout((function(){t.adapter.removeClass(n)}),pi.FG_DEACTIVATION_MS))},e.prototype.rmBoundedActivationClasses_=function(){var t=e.cssClasses.FG_ACTIVATION;this.adapter.removeClass(t),this.activationAnimationHasEnded_=!1,this.adapter.computeBoundingRect()},e.prototype.resetActivationState_=function(){var t=this;this.previousActivationEvent_=this.activationState_.activationEvent,this.activationState_=this.defaultActivationState_(),setTimeout((function(){return t.previousActivationEvent_=void 0}),e.numbers.TAP_DELAY_MS)},e.prototype.deactivate_=function(){var t=this,e=this.activationState_;if(e.isActivated){var n=si({},e);e.isProgrammatic?(requestAnimationFrame((function(){return t.animateDeactivation_(n)})),this.resetActivationState_()):(this.deregisterDeactivationHandlers_(),requestAnimationFrame((function(){t.activationState_.hasDeactivationUXRun=!0,t.animateDeactivation_(n),t.resetActivationState_()})))}},e.prototype.animateDeactivation_=function(t){var e=t.wasActivatedByPointer,n=t.wasElementMadeActive;(e||n)&&this.runDeactivationUXLogicIfReady_()},e.prototype.layoutInternal_=function(){var t=this;this.frame_=this.adapter.computeBoundingRect();var n=Math.max(this.frame_.height,this.frame_.width);this.maxRadius_=this.adapter.isUnbounded()?n:Math.sqrt(Math.pow(t.frame_.width,2)+Math.pow(t.frame_.height,2))+e.numbers.PADDING;var i=Math.floor(n*e.numbers.INITIAL_ORIGIN_SCALE);this.adapter.isUnbounded()&&i%2!=0?this.initialSize_=i-1:this.initialSize_=i,this.fgScale_=""+this.maxRadius_/this.initialSize_,this.updateLayoutCssVars_()},e.prototype.updateLayoutCssVars_=function(){var t=e.strings,n=t.VAR_FG_SIZE,i=t.VAR_LEFT,r=t.VAR_TOP,o=t.VAR_FG_SCALE;this.adapter.updateCssVariable(n,this.initialSize_+"px"),this.adapter.updateCssVariable(o,this.fgScale_),this.adapter.isUnbounded()&&(this.unboundedCoords_={left:Math.round(this.frame_.width/2-this.initialSize_/2),top:Math.round(this.frame_.height/2-this.initialSize_/2)},this.adapter.updateCssVariable(i,this.unboundedCoords_.left+"px"),this.adapter.updateCssVariable(r,this.unboundedCoords_.top+"px"))},e}(ci),_i=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.disabled=!1,e}return oi(e,t),e.attachTo=function(t,n){void 0===n&&(n={isUnbounded:void 0});var i=new e(t);return void 0!==n.isUnbounded&&(i.unbounded=n.isUnbounded),i},e.createAdapter=function(t){return{addClass:function(e){return t.root.classList.add(e)},browserSupportsCssVars:function(){return function(t,e){void 0===e&&(e=!1);var n,i=t.CSS;if("boolean"==typeof ii&&!e)return ii;if(!i||"function"!=typeof i.supports)return!1;var r=i.supports("--css-vars","yes"),o=i.supports("(--css-vars: yes)")&&i.supports("color","#00000000");return n=r||o,e||(ii=n),n}(window)},computeBoundingRect:function(){return t.root.getBoundingClientRect()},containsEventTarget:function(e){return t.root.contains(e)},deregisterDocumentInteractionHandler:function(t,e){return document.documentElement.removeEventListener(t,e,di())},deregisterInteractionHandler:function(e,n){return t.root.removeEventListener(e,n,di())},deregisterResizeHandler:function(t){return window.removeEventListener("resize",t)},getWindowPageOffset:function(){return{x:window.pageXOffset,y:window.pageYOffset}},isSurfaceActive:function(){return function(t,e){return(t.matches||t.webkitMatchesSelector||t.msMatchesSelector).call(t,e)}(t.root,":active")},isSurfaceDisabled:function(){return Boolean(t.disabled)},isUnbounded:function(){return Boolean(t.unbounded)},registerDocumentInteractionHandler:function(t,e){return document.documentElement.addEventListener(t,e,di())},registerInteractionHandler:function(e,n){return t.root.addEventListener(e,n,di())},registerResizeHandler:function(t){return window.addEventListener("resize",t)},removeClass:function(e){return t.root.classList.remove(e)},updateCssVariable:function(e,n){return t.root.style.setProperty(e,n)}}},Object.defineProperty(e.prototype,"unbounded",{get:function(){return Boolean(this.unbounded_)},set:function(t){this.unbounded_=Boolean(t),this.setUnbounded_()},enumerable:!1,configurable:!0}),e.prototype.activate=function(){this.foundation.activate()},e.prototype.deactivate=function(){this.foundation.deactivate()},e.prototype.layout=function(){this.foundation.layout()},e.prototype.getDefaultFoundation=function(){return new $i(e.createAdapter(this))},e.prototype.initialSyncWithDOM=function(){var t=this.root;this.unbounded="mdcRippleIsUnbounded"in t.dataset},e.prototype.setUnbounded_=function(){this.foundation.setUnbounded(Boolean(this.unbounded_))},e}(ui);function yi(e){let n,r,o,s,a,l,c,u,d,f,h,p,_,y,b,x,A,E,O,S,T,L,M,I,j,D;return{c(){n=$("div"),r=$("div"),o=$("div"),s=$("div"),a=$("input"),l=w(),c=$("label"),c.innerHTML='<span aria-hidden="true">1</span> \n                    <span class="sr-only">Digits</span>',u=w(),d=$("div"),f=$("input"),h=w(),p=$("label"),p.innerHTML='<span aria-hidden="true" style="font-size: 50%;"><span style="position: absolute; top:    12%; left:  20%;">1</span> \n                        <span style="position: absolute; top:    12%; right: 20%;">2</span> \n                        <span style="position: absolute; bottom: 12%; left:  20%;">3</span></span> \n                    <span class="sr-only">Corner Marks</span>',_=w(),y=$("div"),b=$("input"),x=w(),A=$("label"),A.innerHTML='<span aria-hidden="true" style="font-size: 50%;">123</span> \n                    <span class="sr-only">Center Marks</span>',E=w(),O=$("div"),S=$("input"),T=w(),L=$("label"),L.innerHTML='<span class="icon icon-inline icon-c-textinv icon-colors svelte-hmnhaq"></span> \n                    <span class="sr-only">Colors</span>',M=w(),I=$("div"),I.innerHTML='<div class="right svelte-hmnhaq"><div class="num-pad svelte-hmnhaq"><button class="mdc-ripple-surface padbutton svelte-hmnhaq" style="grid-area: 1 / 1 / 2 / 2">1</button> \n                <button class="mdc-ripple-surface padbutton svelte-hmnhaq" style="grid-area: 1 / 2 / 2 / 3">2</button> \n                <button class="mdc-ripple-surface padbutton svelte-hmnhaq" style="grid-area: 1 / 3 / 2 / 4">3</button> \n\n                <button class="mdc-ripple-surface padbutton svelte-hmnhaq" style="grid-area: 2 / 1 / 3 / 2">4</button> \n                <button class="mdc-ripple-surface padbutton svelte-hmnhaq" style="grid-area: 2 / 2 / 3 / 3">5</button> \n                <button class="mdc-ripple-surface padbutton svelte-hmnhaq" style="grid-area: 2 / 3 / 3 / 4">6</button> \n\n                <button class="mdc-ripple-surface padbutton svelte-hmnhaq" style="grid-area: 3 / 1 / 4 / 2">7</button> \n                <button class="mdc-ripple-surface padbutton svelte-hmnhaq" style="grid-area: 3 / 2 / 4 / 3">8</button> \n                <button class="mdc-ripple-surface padbutton svelte-hmnhaq" style="grid-area: 3 / 3 / 4 / 4">9</button> \n\n                <button class="mdc-ripple-surface padbutton svelte-hmnhaq" style="grid-area: 4 / 1 / 5 / 2">0</button> \n                <button class="mdc-ripple-surface padbutton svelte-hmnhaq" style="grid-area: 4 / 2 / 5 / 4" title="Delete" aria-label="Delete"><span class="icon icon-inline icon-c-textinv icon-delete"></span></button></div> \n            <div class="ctrl-pad svelte-hmnhaq"><button class="mdc-ripple-surface padbutton svelte-hmnhaq" title="Undo" aria-label="Undo"><span class="icon icon-inline icon-c-textinv icon-undo"></span></button> \n                <button class="mdc-ripple-surface padbutton svelte-hmnhaq" title="Redo" aria-label="Redo"><span class="icon icon-inline icon-c-textinv icon-undo redo"></span></button> \n                <button class="mdc-ripple-surface padbutton svelte-hmnhaq" title="Take Screenshot" aria-label="Take Screenshot"><span class="icon icon-inline icon-c-textinv icon-screenshot"></span></button></div></div>',C(a,"class","radio-mode-button svelte-hmnhaq"),C(a,"type","radio"),C(a,"name","mode"),C(a,"id","mode-radio-digits"),a.__value="digits",a.value=a.__value,e[2][0].push(a),C(c,"class","mdc-ripple-surface padbutton padbutton-mode svelte-hmnhaq"),C(c,"role","button"),C(c,"for","mode-radio-digits"),C(s,"class","svelte-hmnhaq"),C(f,"class","radio-mode-button svelte-hmnhaq"),C(f,"type","radio"),C(f,"name","mode"),C(f,"id","mode-radio-corner"),f.__value="corner",f.value=f.__value,e[2][0].push(f),C(p,"class","mdc-ripple-surface padbutton padbutton-mode svelte-hmnhaq"),C(p,"role","button"),C(p,"for","mode-radio-corner"),C(d,"class","svelte-hmnhaq"),C(b,"class","radio-mode-button svelte-hmnhaq"),C(b,"type","radio"),C(b,"name","mode"),C(b,"id","mode-radio-center"),b.__value="center",b.value=b.__value,e[2][0].push(b),C(A,"class","mdc-ripple-surface padbutton padbutton-mode svelte-hmnhaq"),C(A,"role","button"),C(A,"for","mode-radio-center"),C(y,"class","svelte-hmnhaq"),C(S,"class","radio-mode-button svelte-hmnhaq"),C(S,"type","radio"),C(S,"name","mode"),C(S,"id","mode-radio-colors"),S.__value="colors",S.value=S.__value,e[2][0].push(S),C(L,"class","mdc-ripple-surface padbutton padbutton-mode svelte-hmnhaq"),C(L,"role","button"),C(L,"for","mode-radio-colors"),C(O,"class","svelte-hmnhaq"),C(o,"class","mode-pad svelte-hmnhaq"),C(r,"class","mode-pad-container svelte-hmnhaq"),C(I,"class","right-container svelte-hmnhaq"),C(n,"class","container svelte-hmnhaq")},m(t,i){g(t,n,i),m(n,r),m(r,o),m(o,s),m(s,a),a.checked=a.__value===e[0],m(s,l),m(s,c),m(o,u),m(o,d),m(d,f),f.checked=f.__value===e[0],m(d,h),m(d,p),m(o,_),m(o,y),m(y,b),b.checked=b.__value===e[0],m(y,x),m(y,A),m(o,E),m(o,O),m(O,S),S.checked=S.__value===e[0],m(O,T),m(O,L),m(n,M),m(n,I),j||(D=[k(a,"change",e[1]),k(f,"change",e[3]),k(b,"change",e[4]),k(S,"change",e[5])],j=!0)},p(t,[e]){1&e&&(a.checked=a.__value===t[0]),1&e&&(f.checked=f.__value===t[0]),1&e&&(b.checked=b.__value===t[0]),1&e&&(S.checked=S.__value===t[0])},i:t,o:t,d(t){t&&v(n),e[2][0].splice(e[2][0].indexOf(a),1),e[2][0].splice(e[2][0].indexOf(f),1),e[2][0].splice(e[2][0].indexOf(b),1),e[2][0].splice(e[2][0].indexOf(S),1),j=!1,i(D)}}}function wi(t,e,n){let i="digits";!function(t){L().$$.on_mount.push(t)}((()=>Array.prototype.forEach.call(document.getElementsByClassName("mdc-ripple-surface"),(t=>_i.attachTo(t)))));return[i,function(){i=this.__value,n(0,i)},[[]],function(){i=this.__value,n(0,i)},function(){i=this.__value,n(0,i)},function(){i=this.__value,n(0,i)}]}class bi extends rt{constructor(t){super(),it(this,t,wi,yi,o,{})}}function ki(e){let n,r,o,s,a,l,c,u,d,f,h,p,_;return o=new bi({}),{c(){n=$("div"),r=$("div"),Q(o.$$.fragment),s=w(),a=$("div"),l=$("input"),c=w(),u=$("input"),d=w(),f=$("textarea"),C(r,"class","entry-pad svelte-fcgi7u"),C(l,"class","info-input title svelte-fcgi7u"),C(l,"type","text"),C(l,"placeholder","Untitled"),l.value="Killer",C(u,"class","info-input setter svelte-fcgi7u"),C(u,"type","text"),C(u,"placeholder","Anonymous"),C(f,"class","rules-text svelte-fcgi7u"),C(f,"spellcheck","false"),f.value="Normal killer sudoku rules apply: digits in cages sum to the number in the cage's top left, and do not repeat.",C(a,"class","entry-info svelte-fcgi7u"),C(n,"class","entry-column svelte-fcgi7u")},m(t,i){g(t,n,i),m(n,r),tt(o,r,null),e[1](r),m(n,s),m(n,a),m(a,l),m(a,c),m(a,u),m(a,d),m(a,f),h=!0,p||(_=[k(f,"focus",xi),k(f,"blur",xi)],p=!0)},p:t,i(t){h||(Y(o.$$.fragment,t),h=!0)},o(t){X(o.$$.fragment,t),h=!1},d(t){t&&v(n),et(o),e[1](null),p=!1,i(_)}}}function xi(t){t.currentTarget.setAttribute("spellcheck",`${document.activeElement===t.currentTarget}`)}function Ai(t,e,n){let i;function r(){n(0,i.style.fontSize=.12*i.clientWidth+"px",i)}return window.addEventListener("resize",r),function(t){L().$$.on_destroy.push(t)}((()=>window.removeEventListener("resize",r))),requestAnimationFrame(r),[i,function(t){j[t?"unshift":"push"]((()=>{i=t,n(0,i)}))}]}class Ci extends rt{constructor(t){super(),it(this,t,Ai,ki,o,{})}}function Ei(e){let n,i,r;return{c(){n=$("div"),n.innerHTML='<ul class="header-buttons left svelte-1gtf4ed"><li>Solving/Setting</li> \n        <li>New Grid</li> \n        <li>Export</li></ul>',i=w(),r=$("div"),r.innerHTML='<ul class="header-buttons right svelte-1gtf4ed"><li>Light/dark</li> \n        <li>Help</li> \n        <li>Settings</li></ul>',C(n,"class","header-left svelte-1gtf4ed"),C(r,"class","header-right svelte-1gtf4ed")},m(t,e){g(t,n,e),g(t,i,e),g(t,r,e)},p:t,i:t,o:t,d(t){t&&v(n),t&&v(i),t&&v(r)}}}class Oi extends rt{constructor(t){super(),it(this,t,null,Ei,o,{})}}function Si(e){let n,i,r,o,s,a,l,c,u,d,f,h,p,_,y,b,k,x,A,E;return o=new Oi({}),d=new ni({}),p=new qn({}),b=new Ci({}),{c(){n=$("header"),i=$("div"),r=$("div"),Q(o.$$.fragment),s=w(),a=$("main"),l=$("div"),c=$("div"),u=$("div"),Q(d.$$.fragment),f=w(),h=$("div"),Q(p.$$.fragment),_=w(),y=$("div"),Q(b.$$.fragment),k=w(),x=$("footer"),A=$("a"),A.textContent="Sudoku Studio version db6254c",C(r,"class","content-row"),C(i,"class","content"),C(n,"class","svelte-uq8vao"),C(u,"class","left-panel svelte-uq8vao"),C(h,"class","center-panel svelte-uq8vao"),C(y,"class","right-panel svelte-uq8vao"),C(c,"class","content-row svelte-uq8vao"),C(l,"class","content svelte-uq8vao"),C(a,"class","svelte-uq8vao"),C(A,"href","https://github.com/SudokuStudio/SudokuStudio"),C(x,"class","svelte-uq8vao")},m(t,e){g(t,n,e),m(n,i),m(i,r),tt(o,r,null),g(t,s,e),g(t,a,e),m(a,l),m(l,c),m(c,u),tt(d,u,null),m(c,f),m(c,h),tt(p,h,null),m(c,_),m(c,y),tt(b,y,null),g(t,k,e),g(t,x,e),m(x,A),E=!0},p:t,i(t){E||(Y(o.$$.fragment,t),Y(d.$$.fragment,t),Y(p.$$.fragment,t),Y(b.$$.fragment,t),E=!0)},o(t){X(o.$$.fragment,t),X(d.$$.fragment,t),X(p.$$.fragment,t),X(b.$$.fragment,t),E=!1},d(t){t&&v(n),et(o),t&&v(s),t&&v(a),et(d),et(p),et(b),t&&v(k),t&&v(x)}}}return new class extends rt{constructor(t){super(),it(this,t,null,Si,o,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
