var sudoku_studio_web=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function i(t){return"function"==typeof t}function o(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function s(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function l(t,e,n){t.$$.on_destroy.push(s(e,n))}function a(t,e,n,r){if(t){const i=c(t,e,n,r);return t[0](i)}}function c(t,e,n,r){return t[1]&&r?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](r(e))):n.ctx}function u(t,e,n,r,i,o,s){const l=function(t,e,n,r){if(t[2]&&r){const i=t[2](r(n));if(void 0===e.dirty)return i;if("object"==typeof i){const t=[],n=Math.max(e.dirty.length,i.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|i[r];return t}return e.dirty|i}return e.dirty}(e,r,i,o);if(l){const i=c(e,n,r,s);t.p(i,l)}}function d(t,e,n=e){return t.set(n),e}let h,f=!1;function p(t,e,n,r){for(;t<e;){const i=t+(e-t>>1);n(i)<=r?t=i+1:e=i}return t}function g(t,e){f?(!function(t){if(t.hydrate_init)return;t.hydrate_init=!0;const e=t.childNodes,n=new Int32Array(e.length+1),r=new Int32Array(e.length);n[0]=-1;let i=0;for(let t=0;t<e.length;t++){const o=p(1,i+1,(t=>e[n[t]].claim_order),e[t].claim_order)-1;r[t]=n[o]+1;const s=o+1;n[s]=t,i=Math.max(s,i)}const o=[],s=[];let l=e.length-1;for(let t=n[i]+1;0!=t;t=r[t-1]){for(o.push(e[t-1]);l>=t;l--)s.push(e[l]);l--}for(;l>=0;l--)s.push(e[l]);o.reverse(),s.sort(((t,e)=>t.claim_order-e.claim_order));for(let e=0,n=0;e<s.length;e++){for(;n<o.length&&s[e].claim_order>=o[n].claim_order;)n++;const r=n<o.length?o[n]:null;t.insertBefore(s[e],r)}}(t),(void 0===t.actual_end_child||null!==t.actual_end_child&&t.actual_end_child.parentElement!==t)&&(t.actual_end_child=t.firstChild),e!==t.actual_end_child?t.insertBefore(e,t.actual_end_child):t.actual_end_child=e.nextSibling):e.parentNode!==t&&t.appendChild(e)}function m(t,e,n){f&&!n?g(t,e):(e.parentNode!==t||n&&e.nextSibling!==n)&&t.insertBefore(e,n||null)}function v(t){t.parentNode.removeChild(t)}function y(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function b(t){return document.createElement(t)}function w(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function _(t){return document.createTextNode(t)}function k(){return _(" ")}function $(){return _("")}function x(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function T(t){return function(e){return e.preventDefault(),t.call(this,e)}}function H(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function C(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function M(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function A(t,e){t.value=null==e?"":e}function S(t,e,n,r){t.style.setProperty(e,n,r?"important":"")}function O(t,e,n){t.classList[n?"add":"remove"](e)}function E(t){h=t}function L(){if(!h)throw new Error("Function called outside component initialization");return h}function I(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t.call(this,e)))}const D=[],j=[],R=[],U=[],P=Promise.resolve();let N=!1;function G(t){R.push(t)}let F=!1;const z=new Set;function B(){if(!F){F=!0;do{for(let t=0;t<D.length;t+=1){const e=D[t];E(e),q(e.$$)}for(E(null),D.length=0;j.length;)j.pop()();for(let t=0;t<R.length;t+=1){const e=R[t];z.has(e)||(z.add(e),e())}R.length=0}while(D.length);for(;U.length;)U.pop()();N=!1,F=!1,z.clear()}}function q(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(G)}}const V=new Set;let K;function Y(){K={r:0,c:[],p:K}}function X(){K.r||r(K.c),K=K.p}function W(t,e){t&&t.i&&(V.delete(t),t.i(e))}function Z(t,e,n,r){if(t&&t.o){if(V.has(t))return;V.add(t),K.c.push((()=>{V.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}function J(t,e){t.d(1),e.delete(t.key)}function Q(t,e){Z(t,1,1,(()=>{e.delete(t.key)}))}function tt(t,e,n,r,i,o,s,l,a,c,u,d){let h=t.length,f=o.length,p=h;const g={};for(;p--;)g[t[p].key]=p;const m=[],v=new Map,y=new Map;for(p=f;p--;){const t=d(i,o,p),l=n(t);let a=s.get(l);a?r&&a.p(t,e):(a=c(l,t),a.c()),v.set(l,m[p]=a),l in g&&y.set(l,Math.abs(p-g[l]))}const b=new Set,w=new Set;function _(t){W(t,1),t.m(l,u),s.set(t.key,t),u=t.first,f--}for(;h&&f;){const e=m[f-1],n=t[h-1],r=e.key,i=n.key;e===n?(u=e.first,h--,f--):v.has(i)?!s.has(r)||b.has(r)?_(e):w.has(i)?h--:y.get(r)>y.get(i)?(w.add(r),_(e)):(b.add(i),h--):(a(n,s),h--)}for(;h--;){const e=t[h];v.has(e.key)||a(e,s)}for(;f;)_(m[f-1]);return m}function et(t){t&&t.c()}function nt(t,n,o,s){const{fragment:l,on_mount:a,on_destroy:c,after_update:u}=t.$$;l&&l.m(n,o),s||G((()=>{const n=a.map(e).filter(i);c?c.push(...n):r(n),t.$$.on_mount=[]})),u.forEach(G)}function rt(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function it(t,e){-1===t.$$.dirty[0]&&(D.push(t),N||(N=!0,P.then(B)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ot(e,i,o,s,l,a,c=[-1]){const u=h;E(e);const d=e.$$={fragment:null,ctx:null,props:a,update:t,not_equal:l,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:i.context||[]),callbacks:n(),dirty:c,skip_bound:!1};let p=!1;if(d.ctx=o?o(e,i.props||{},((t,n,...r)=>{const i=r.length?r[0]:n;return d.ctx&&l(d.ctx[t],d.ctx[t]=i)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](i),p&&it(e,t)),n})):[],d.update(),p=!0,r(d.before_update),d.fragment=!!s&&s(d.ctx),i.target){if(i.hydrate){f=!0;const t=function(t){return Array.from(t.childNodes)}(i.target);d.fragment&&d.fragment.l(t),t.forEach(v)}else d.fragment&&d.fragment.c();i.intro&&W(e.$$.fragment),nt(e,i.target,i.anchor,i.customElement),f=!1,B()}E(u)}class st{$destroy(){rt(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function lt(t,e,n){var r,i,o,s,l;function a(){var c=Date.now()-s;c<e&&c>=0?r=setTimeout(a,e-c):(r=null,n||(l=t.apply(o,i),o=i=null))}null==e&&(e=100);var c=function(){o=this,i=arguments,s=Date.now();var c=n&&!r;return r||(r=setTimeout(a,e)),c&&(l=t.apply(o,i),o=i=null),l};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(l=t.apply(o,i),o=i=null,clearTimeout(r),r=null)},c}lt.debounce=lt;var at=lt;function ct(t){var e={exports:{}};return t(e,e.exports),e.exports}var ut=ct((function(t){var e=function(){var t=String.fromCharCode,e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",r={};function i(t,e){if(!r[t]){r[t]={};for(var n=0;n<t.length;n++)r[t][t.charAt(n)]=n}return r[t][e]}var o={compressToBase64:function(t){if(null==t)return"";var n=o._compress(t,6,(function(t){return e.charAt(t)}));switch(n.length%4){default:case 0:return n;case 1:return n+"===";case 2:return n+"==";case 3:return n+"="}},decompressFromBase64:function(t){return null==t?"":""==t?null:o._decompress(t.length,32,(function(n){return i(e,t.charAt(n))}))},compressToUTF16:function(e){return null==e?"":o._compress(e,15,(function(e){return t(e+32)}))+" "},decompressFromUTF16:function(t){return null==t?"":""==t?null:o._decompress(t.length,16384,(function(e){return t.charCodeAt(e)-32}))},compressToUint8Array:function(t){for(var e=o.compress(t),n=new Uint8Array(2*e.length),r=0,i=e.length;r<i;r++){var s=e.charCodeAt(r);n[2*r]=s>>>8,n[2*r+1]=s%256}return n},decompressFromUint8Array:function(e){if(null==e)return o.decompress(e);for(var n=new Array(e.length/2),r=0,i=n.length;r<i;r++)n[r]=256*e[2*r]+e[2*r+1];var s=[];return n.forEach((function(e){s.push(t(e))})),o.decompress(s.join(""))},compressToEncodedURIComponent:function(t){return null==t?"":o._compress(t,6,(function(t){return n.charAt(t)}))},decompressFromEncodedURIComponent:function(t){return null==t?"":""==t?null:(t=t.replace(/ /g,"+"),o._decompress(t.length,32,(function(e){return i(n,t.charAt(e))})))},compress:function(e){return o._compress(e,16,(function(e){return t(e)}))},_compress:function(t,e,n){if(null==t)return"";var r,i,o,s={},l={},a="",c="",u="",d=2,h=3,f=2,p=[],g=0,m=0;for(o=0;o<t.length;o+=1)if(a=t.charAt(o),Object.prototype.hasOwnProperty.call(s,a)||(s[a]=h++,l[a]=!0),c=u+a,Object.prototype.hasOwnProperty.call(s,c))u=c;else{if(Object.prototype.hasOwnProperty.call(l,u)){if(u.charCodeAt(0)<256){for(r=0;r<f;r++)g<<=1,m==e-1?(m=0,p.push(n(g)),g=0):m++;for(i=u.charCodeAt(0),r=0;r<8;r++)g=g<<1|1&i,m==e-1?(m=0,p.push(n(g)),g=0):m++,i>>=1}else{for(i=1,r=0;r<f;r++)g=g<<1|i,m==e-1?(m=0,p.push(n(g)),g=0):m++,i=0;for(i=u.charCodeAt(0),r=0;r<16;r++)g=g<<1|1&i,m==e-1?(m=0,p.push(n(g)),g=0):m++,i>>=1}0==--d&&(d=Math.pow(2,f),f++),delete l[u]}else for(i=s[u],r=0;r<f;r++)g=g<<1|1&i,m==e-1?(m=0,p.push(n(g)),g=0):m++,i>>=1;0==--d&&(d=Math.pow(2,f),f++),s[c]=h++,u=String(a)}if(""!==u){if(Object.prototype.hasOwnProperty.call(l,u)){if(u.charCodeAt(0)<256){for(r=0;r<f;r++)g<<=1,m==e-1?(m=0,p.push(n(g)),g=0):m++;for(i=u.charCodeAt(0),r=0;r<8;r++)g=g<<1|1&i,m==e-1?(m=0,p.push(n(g)),g=0):m++,i>>=1}else{for(i=1,r=0;r<f;r++)g=g<<1|i,m==e-1?(m=0,p.push(n(g)),g=0):m++,i=0;for(i=u.charCodeAt(0),r=0;r<16;r++)g=g<<1|1&i,m==e-1?(m=0,p.push(n(g)),g=0):m++,i>>=1}0==--d&&(d=Math.pow(2,f),f++),delete l[u]}else for(i=s[u],r=0;r<f;r++)g=g<<1|1&i,m==e-1?(m=0,p.push(n(g)),g=0):m++,i>>=1;0==--d&&(d=Math.pow(2,f),f++)}for(i=2,r=0;r<f;r++)g=g<<1|1&i,m==e-1?(m=0,p.push(n(g)),g=0):m++,i>>=1;for(;;){if(g<<=1,m==e-1){p.push(n(g));break}m++}return p.join("")},decompress:function(t){return null==t?"":""==t?null:o._decompress(t.length,32768,(function(e){return t.charCodeAt(e)}))},_decompress:function(e,n,r){var i,o,s,l,a,c,u,d=[],h=4,f=4,p=3,g="",m=[],v={val:r(0),position:n,index:1};for(i=0;i<3;i+=1)d[i]=i;for(s=0,a=Math.pow(2,2),c=1;c!=a;)l=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),s|=(l>0?1:0)*c,c<<=1;switch(s){case 0:for(s=0,a=Math.pow(2,8),c=1;c!=a;)l=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),s|=(l>0?1:0)*c,c<<=1;u=t(s);break;case 1:for(s=0,a=Math.pow(2,16),c=1;c!=a;)l=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),s|=(l>0?1:0)*c,c<<=1;u=t(s);break;case 2:return""}for(d[3]=u,o=u,m.push(u);;){if(v.index>e)return"";for(s=0,a=Math.pow(2,p),c=1;c!=a;)l=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),s|=(l>0?1:0)*c,c<<=1;switch(u=s){case 0:for(s=0,a=Math.pow(2,8),c=1;c!=a;)l=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),s|=(l>0?1:0)*c,c<<=1;d[f++]=t(s),u=f-1,h--;break;case 1:for(s=0,a=Math.pow(2,16),c=1;c!=a;)l=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),s|=(l>0?1:0)*c,c<<=1;d[f++]=t(s),u=f-1,h--;break;case 2:return m.join("")}if(0==h&&(h=Math.pow(2,p),p++),d[u])g=d[u];else{if(u!==f)return null;g=o+o.charAt(0)}m.push(g),d[f++]=o+g.charAt(0),o=g,0==--h&&(h=Math.pow(2,p),p++)}}};return o}();null!=t&&(t.exports=e)})),dt=ct((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.StateManager=e.StateRef=void 0;const n="function"==typeof Object.fromEntries?Object.fromEntries:t=>{const e=Object.create(null);for(const[n,r]of t)e[n]=r;return e},r=Symbol("watchers key");function i(t,e){return null==t&&null==e||Object.is(t,e)}function o(t){return null==t?null:t}class s{constructor(t,e){this._path=[],this._stateManager=t;for(const t of e)".."===t?this._path.pop():"."===t||this._path.push(t)}path(){return[...this._path]}ref(...t){return new s(this._stateManager,[...this._path,...t])}get(){return this._stateManager.get(...this._path)}watch(t,e){return this._stateManager.watch(t,e,this._path.join("/")),t}unwatch(t){this._stateManager.unwatch(t)}replace(t){return this._stateManager.update({[this._path.join("/")]:t})}update(t){const e=this._path.join("/")+"/",r=n(Object.entries(t).map((([t,n])=>[e+t,n])));return this._stateManager.update(r)}subscribe(t){const e=this.watch(((e,n,r)=>t(r)),!0);return()=>this.unwatch(e)}set(t){this.replace(t)}}e.StateRef=s;class l{constructor(){this._data=null,this._watchers=new Map,this._watcherTreeRoot=Object.create(null)}ref(...t){return new s(this,t)}get(...t){let e=this._data;for(const n of t){if(null==e)break;if(n.includes("/"))throw Error('Path cannot contain "/", split into varargs.');e=e[n]}return o(e)}watch(t,e,...n){let r=this._watchers.get(t);null==r&&(r=new Set,this._watchers.set(t,r));for(const r of n)this._watchPattern(t,e,r);return t}unwatch(t){if(!this._watchers.has(t))throw Error("Cannot find watcher.");const e=this._watchers.get(t);this._watchers.delete(t);for(const n of e)if(!l._unwatchPattern(t,this._watcherTreeRoot,n.split("/")))throw Error(`Failed to remove watcher from pattern: ${n}.`)}update(t){if("object"!=typeof t)throw Error(`Invalid update object: ${t}`);let e=!1;const r=[],o=[];for(const[n,s]of Object.entries(t)){if(0>=n.length)throw Error("Update key cannot be empty.");const t=n.split("/"),{data:a,redo:c,undo:u}=l._updateInternal(this._data,s,t,[],[this._watcherTreeRoot]);i(this._data,a)||(e=!0,this._data=a,r.push(...c),o.push(...u))}return e?{redo:n(r),undo:n(o)}:null}_watchPattern(t,e,n){if(!n||0>=n.length)throw Error(`Pattern cannot be empty: ${n}.`);const i=n.split("/");let o=this._watcherTreeRoot;for(const t of i)"."!==t&&(Object.prototype.hasOwnProperty.call(o,t)||(o[t]=Object.create(null)),o=o[t]);(o[r]||(o[r]=new Set)).add(t),e&&l._triggerNow(this._data,i,[],t)}static _unwatchPattern(t,e,n){if(0===n.length){const n=e[r];return null!=n&&(!!n.delete(t)&&(0>=n.size&&delete e[r],!0))}const[i,...o]=n;return!("."===i&&!this._unwatchPattern(t,e,o))&&(!!Object.prototype.hasOwnProperty.call(e,i)&&(!!this._unwatchPattern(t,e[i],o)&&(0>=Object.keys(e[i]).length&&null==e[r]&&delete e[i],!0)))}static _triggerNow(t,e,n,r){if(null==t)return;if(0>=e.length){try{r(n,null,t)}catch(t){console.error("Watcher threw:",t,r)}return}if("object"!=typeof t)return;const[i,...o]=e;if("."===i)this._triggerNow(t,o,n,r);else if("*"===i)for(const[e,i]of Object.entries(t))this._triggerNow(i,o,[...n,e],r);else Object.prototype.hasOwnProperty.call(t,i)&&this._triggerNow(t[i],o,[...n,i],r)}static _updateInternal(t,e,n,s,a){const c=0>=n.length,u="object"==typeof t?t:null,d="object"==typeof e?e:null,{data:h,redo:f,undo:p}=(()=>{if(c){if(null==u&&null==d)return{data:e,undo:[],redo:[]};const n=new Set([...Object.keys(u||{}),...Object.keys(d||{})]);let r=!1;const c=Object.create(null),h=[],f=[];for(const t of n){const e=u?o(u[t]):null,n=d?o(d[t]):null,p=l._nextWatcherTrees(t,a),{data:g,redo:m,undo:v}=l._updateInternal(e,n,[],[...s,t],p);i(e,g)||(r=!0,h.push(...m),f.push(...v),c[t]=g)}if(!r)return{data:t,redo:h,undo:f};const p=Object.assign(Object.create(null),u);for(const[t,e]of Object.entries(c))null==e?delete p[t]:p[t]=e;return 0===Object.keys(p).length?{data:d||e,redo:h,undo:f}:{data:p,redo:h,undo:f}}const[r,...h]=n,f=u?o(u[r]):null,p=l._nextWatcherTrees(r,a),{data:g,redo:m,undo:v}=l._updateInternal(f,e,h,[...s,r],p);if(i(f,g))return{data:t,redo:m,undo:v};const y=Object.assign(Object.create(null),u);return null==g?delete y[r]:y[r]=g,Object.values(y).every((t=>null==t))?{data:null,redo:m,undo:v}:{data:y,redo:m,undo:v}})();if(!i(t,h)){if(null==t){if(null==h)throw"N/A";"object"==typeof h||(f.length=0,f.push([s.join("/"),h]),p.length=0,p.push([s.join("/"),null]))}else"object"==typeof t?null==h||"object"==typeof h||(f.length=0,f.push([s.join("/"),h])):null==h?(f.length=0,f.push([s.join("/"),null]),p.length=0,p.push([s.join("/"),t])):"object"==typeof h?(p.length=0,p.push([s.join("/"),t])):(f.length=0,f.push([s.join("/"),h]),p.length=0,p.push([s.join("/"),t]));for(const e of a)for(const n of e[r]||[])try{n(s,t,h)}catch(t){console.error("Watcher threw:",t,n)}return{data:h,undo:p,redo:f}}return{data:t,undo:p,redo:f}}static _nextWatcherTrees(t,e){const n=[];for(const r of e)r["*"]&&n.push(r["*"]),r[t]&&n.push(r[t]);return n}}e.StateManager=l}));const ht=.01,ft=.005,pt=.04,gt=.02;function mt(t){const e=[];for(let n=0;null!=t[n];n++)e.push(t[n]);return e}function vt(t,{width:e}){return[t%e,Math.floor(t/e)]}function yt([t,e],{width:n}){return e*n+t}function bt([t,e],{width:n}){return e*(n+1)+t}function wt(t,{width:e}){return[t%(e+1),Math.floor(t/(e+1))]}function _t([t,e],{width:n,height:r},i){if(t<0||n<=t||e<0||r<=e)return null;if(i){const n=t%1-.5,r=e%1-.5;if(.5<Math.abs(n)+Math.abs(r))return null}return[Math.floor(t),Math.floor(e)]}function kt(t,e){const n=e.width*e.height;for(let e=0;e<n;e++)if(t[e])return e;return null}function $t(t){return null==t?[]:Object.keys(t).filter((e=>null!=t[e]&&0!=t[e])).map(Number).sort()}function xt(t,e,n=0){if(0>=t.length)return"";const r=[];for(const n of t){const[t,i]=vt(n,e);r.push([t+.5,i+.5])}if(1===r.length&&r.push(r[0]),0<n){const t=r.length,e=r[t-1][0]-r[t-2][0],i=r[t-1][1]-r[t-2][1];r[t-1][0]+=-e*n,r[t-1][1]+=-i*n}return"M"+r.map((t=>t.join(","))).join("L")}function Tt({offsetX:t,offsetY:e},n){const{width:r,height:i}=n.getBoundingClientRect(),{x:o,y:s,width:l,height:a}=n.viewBox.baseVal;return[l*t/r+o,a*e/i+s]}function Ht(t,e,n=0){const r=new Map;{function n(t,e){const n=r.get(e);if(null==n?void 0:n.has(t))n.delete(t),0>=n.size&&r.delete(e);else{let n=r.get(t);null==n&&(n=new Set,r.set(t,n)),n.add(e)}}for(const r of t){const[t,i]=vt(r,e),o=bt([t,i],e),s=bt([1+t,i],e),l=bt([1+t,1+i],e),a=bt([t,1+i],e);n(o,s),n(s,l),n(l,a),n(a,o)}}if(0>=r.size)return null;const i=[];for(;!(0>=r.size);){const[t,o]=Array.from(r.entries()).find((([t,e])=>1===e.size)),s=Array.from(o)[0];let l=wt(t,e),a=wt(s,e),c=s;const u=[];do{const t=r.get(c);let i=Number.NEGATIVE_INFINITY,o=-1,s=null;for(const n of t){const t=wt(n,e),r=(a[0]-l[0])*(t[1]-a[1])-(a[1]-l[1])*(t[0]-a[0]);i<r&&(i=r,o=n,s=t)}if(null==s)throw"UNREACHABLE";if(t.delete(o),0>=t.size&&r.delete(c),0!==i){let[t,e]=a;e+=n*(a[0]-l[0])+i*n*(l[1]-a[1]),t+=n*(a[1]-s[1])+i*n*(s[0]-a[0]),u.push(`${t},${e}`)}l=a,a=s,c=o}while(s!==c);i.push("M"+u.join("L")+"Z")}return i.join("")}function Ct(t,e){return 0<=t[0]&&t[0]<e.width&&0<=t[1]&&t[1]<e.height}function Mt(t,e){let n,r;if(e<=4)n=t%2*.6-.3,r=.6*(t/2|0)-.3;else{const i=e/2|0;if(t<i){n=t*(.6/(i-1))-.3,r=-.3}else{n=(t-i)*(.6/(e-i-1))-.3,r=.3}}return[n,r]}const At=2*Math.PI;function St(t,e,n,r,i=.2){if(n>=r)throw Error(`INDEX ${n} must be less than SLICES ${r}.`);if(0>n)throw Error(`INDEX ${n} must be positive`);const[o,s]=vt(t,e);if(1===r)return`M${o},${s}L${o+1},${s}L${o+1},${s+1}L${o},${s+1}Z`;const l=((i+n/r)%1+1)%1,a=((i+(n+1)/r)%1+1)%1,c=[.125,.375,.625,.875];let u,d;for(u=0;u<c.length&&c[u]<l;u++);for(d=0;d<c.length&&c[d]<a;d++);u%=c.length,d%=c.length;const h=[l];for(;u!==d;)h.push(c[u]),u++,u%=c.length;return h.push(a),`M${o+.5},${s+.5}L`+h.map((t=>[Math.cos(At*t),Math.sin(At*t)])).map((([t,e])=>{const n=Math.max(Math.abs(t),Math.abs(e));return[t/n,e/n]})).map((([t,e])=>[o+.5*(t+1),s+.5*(e+1)])).map((([t,e])=>`${t},${e}`)).join("L")+"Z"}function Ot(t,e=!0,n=!0){const r={};if(!e&&!n)return r;for(const e of Object.values(t))n&&"filled"===e.type&&Object.assign(r,e.value);for(const n of Object.values(t))if("givens"===n.type)if(e)Object.assign(r,n.value);else for(const t of Object.keys(n.value))delete r[t];return r}const Et=[];function Lt(t,e){return{subscribe:It(t,e).subscribe}}function It(e,n=t){let r;const i=[];function s(t){if(o(e,t)&&(e=t,r)){const t=!Et.length;for(let t=0;t<i.length;t+=1){const n=i[t];n[1](),Et.push(n,e)}if(t){for(let t=0;t<Et.length;t+=2)Et[t][0](Et[t+1]);Et.length=0}}}return{set:s,update:function(t){s(t(e))},subscribe:function(o,l=t){const a=[o,l];return i.push(a),1===i.length&&(r=n(s)||t),o(e),()=>{const t=i.indexOf(a);-1!==t&&i.splice(t,1),0===i.length&&(r(),r=null)}}}}function Dt(e,n,o){const l=!Array.isArray(e),a=l?[e]:e,c=n.length<2;return Lt(o,(e=>{let o=!1;const u=[];let d=0,h=t;const f=()=>{if(d)return;h();const r=n(l?u[0]:u,e);c?e(r):h=i(r)?r:t},p=a.map(((t,e)=>s(t,(t=>{u[e]=t,d&=~(1<<e),o&&f()}),(()=>{d|=1<<e}))));return o=!0,f(),function(){r(p),h()}}))}const jt=It(),Rt=It(),Ut=window.boardState=new dt.StateManager,Pt=Ut.ref("grid");(()=>{Ut.watch(at.debounce(((t,e,n)=>{const r=new URL(window.location.href);r.searchParams.set("b",ut.compressToEncodedURIComponent(JSON.stringify(n))),window.history.replaceState(null,"",r.href)}),200),!1,".");const t=new URL(window.location.href);if(t.searchParams.has("b")){const e=t.searchParams.get("b");try{const t=ut.decompressFromEncodedURIComponent(e);if(null!=t)return void Ut.update(JSON.parse(t))}catch(t){console.error("Failed to update board from `b` param.")}}Ut.update({grid:{width:9,height:9},meta:{title:"Killer",author:null,description:"Normal killer sudoku rules apply: digits in cages sum to the number in the cage's top left, and do not repeat."},elements:{110:{type:"givens",order:15,value:{12:3,13:4,39:4,40:1,64:3}},120:{type:"filled",order:15,value:{}},130:{type:"corner",order:15,value:{}},140:{type:"center",order:15,value:{}},150:{type:"colors",order:.5,value:{}},10:{type:"box",order:10,value:{width:3,height:3}},11:{type:"grid",order:10,value:null},10800:{type:"diagonal",value:{positive:!0,negative:!1},order:9.5},10090:{type:"knight",value:!1},10100:{type:"king",value:!1},10110:{type:"disjointGroups",value:!1},10120:{type:"consecutive",value:!1},10140:{type:"thermo",order:3,value:{110:{0:3,1:13,2:23},120:{0:29,1:20,2:21}}},10141:{type:"between",order:5,value:{}},10150:{type:"arrow",order:9,value:{110:{head:{0:27},body:{0:27,1:28,2:29}},120:{head:{0:45,1:46},body:{0:46,1:47,2:56,3:66,4:57}}}},10160:{type:"min",order:2,value:{56:!0,57:!0,63:!0,64:!0,65:!0}},10170:{type:"max",order:2,value:{58:!0,67:!0,68:!0,77:!0}},10180:{type:"killer",order:12,value:{150:{sum:43,cells:{28:!0,36:!0,37:!0,38:!0,45:!0,47:!0,54:!0,55:!0}},160:{sum:18,cells:{60:!0,61:!0,69:!0}},170:{sum:16,cells:{71:!0,79:!0,80:!0}}}},10190:{type:"quadruple",order:11,value:{12:{0:1,1:5,2:9},24:{0:8,1:9},66:{0:1,1:1,2:2,3:2}}}}})})();var Nt=Nt||{};Nt.Geometry=function(){},Nt.Geometry.intersectLineLine=function(t,e){var n=(t.intercept-e.intercept)/(e.slope-t.slope);return{x:n,y:t.slope*n+t.intercept}},Nt.Geometry.distanceFromOrigin=function(t){return Math.sqrt(Math.pow(t.x,2)+Math.pow(t.y,2))},Nt.Geometry.distanceLineFromOrigin=function(t){return Math.abs(t.intercept)/Math.sqrt(Math.pow(t.slope,2)+1)},Nt.Geometry.perpendicularThroughPoint=function(t,e){var n=-1/t.slope;return{slope:n,intercept:e.y-n*e.x}},Nt.Geometry.angleFromOrigin=function(t){return Math.atan2(t.y,t.x)},Nt.Geometry.normalizeAngle=function(t){var e=2*Math.PI;return(t%e+e)%e},Nt.Geometry.lengthOfRayUntilIntersect=function(t,e){return e.intercept/(Math.sin(t)-e.slope*Math.cos(t))},Nt.Hsluv=function(){},Nt.Hsluv.getBounds=function(t){for(var e=[],n=Math.pow(t+16,3)/1560896,r=n>Nt.Hsluv.epsilon?n:t/Nt.Hsluv.kappa,i=0;i<3;)for(var o=i++,s=Nt.Hsluv.m[o][0],l=Nt.Hsluv.m[o][1],a=Nt.Hsluv.m[o][2],c=0;c<2;){var u=c++,d=(284517*s-94839*a)*r,h=(838422*a+769860*l+731718*s)*t*r-769860*u*t,f=(632260*a-126452*l)*r+126452*u;e.push({slope:d/f,intercept:h/f})}return e},Nt.Hsluv.maxSafeChromaForL=function(t){for(var e=Nt.Hsluv.getBounds(t),n=1/0,r=0;r<e.length;){var i=e[r];++r;var o=Nt.Geometry.distanceLineFromOrigin(i);n=Math.min(n,o)}return n},Nt.Hsluv.maxChromaForLH=function(t,e){for(var n=e/360*Math.PI*2,r=Nt.Hsluv.getBounds(t),i=1/0,o=0;o<r.length;){var s=r[o];++o;var l=Nt.Geometry.lengthOfRayUntilIntersect(n,s);l>=0&&(i=Math.min(i,l))}return i},Nt.Hsluv.dotProduct=function(t,e){for(var n=0,r=0,i=t.length;r<i;){var o=r++;n+=t[o]*e[o]}return n},Nt.Hsluv.fromLinear=function(t){return t<=.0031308?12.92*t:1.055*Math.pow(t,.4166666666666667)-.055},Nt.Hsluv.toLinear=function(t){return t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92},Nt.Hsluv.xyzToRgb=function(t){return[Nt.Hsluv.fromLinear(Nt.Hsluv.dotProduct(Nt.Hsluv.m[0],t)),Nt.Hsluv.fromLinear(Nt.Hsluv.dotProduct(Nt.Hsluv.m[1],t)),Nt.Hsluv.fromLinear(Nt.Hsluv.dotProduct(Nt.Hsluv.m[2],t))]},Nt.Hsluv.rgbToXyz=function(t){var e=[Nt.Hsluv.toLinear(t[0]),Nt.Hsluv.toLinear(t[1]),Nt.Hsluv.toLinear(t[2])];return[Nt.Hsluv.dotProduct(Nt.Hsluv.minv[0],e),Nt.Hsluv.dotProduct(Nt.Hsluv.minv[1],e),Nt.Hsluv.dotProduct(Nt.Hsluv.minv[2],e)]},Nt.Hsluv.yToL=function(t){return t<=Nt.Hsluv.epsilon?t/Nt.Hsluv.refY*Nt.Hsluv.kappa:116*Math.pow(t/Nt.Hsluv.refY,.3333333333333333)-16},Nt.Hsluv.lToY=function(t){return t<=8?Nt.Hsluv.refY*t/Nt.Hsluv.kappa:Nt.Hsluv.refY*Math.pow((t+16)/116,3)},Nt.Hsluv.xyzToLuv=function(t){var e=t[0],n=t[1],r=e+15*n+3*t[2],i=4*e,o=9*n;0!=r?(i/=r,o/=r):(i=NaN,o=NaN);var s=Nt.Hsluv.yToL(n);return 0==s?[0,0,0]:[s,13*s*(i-Nt.Hsluv.refU),13*s*(o-Nt.Hsluv.refV)]},Nt.Hsluv.luvToXyz=function(t){var e=t[0],n=t[1],r=t[2];if(0==e)return[0,0,0];var i=n/(13*e)+Nt.Hsluv.refU,o=r/(13*e)+Nt.Hsluv.refV,s=Nt.Hsluv.lToY(e),l=0-9*s*i/((i-4)*o-i*o);return[l,s,(9*s-15*o*s-o*l)/(3*o)]},Nt.Hsluv.luvToLch=function(t){var e,n=t[0],r=t[1],i=t[2],o=Math.sqrt(r*r+i*i);o<1e-8?e=0:(e=180*Math.atan2(i,r)/Math.PI)<0&&(e=360+e);return[n,o,e]},Nt.Hsluv.lchToLuv=function(t){var e=t[0],n=t[1],r=t[2]/360*2*Math.PI;return[e,Math.cos(r)*n,Math.sin(r)*n]},Nt.Hsluv.hsluvToLch=function(t){var e=t[0],n=t[1],r=t[2];return r>99.9999999?[100,0,e]:r<1e-8?[0,0,e]:[r,Nt.Hsluv.maxChromaForLH(r,e)/100*n,e]},Nt.Hsluv.lchToHsluv=function(t){var e=t[0],n=t[1],r=t[2];return e>99.9999999?[r,0,100]:e<1e-8?[r,0,0]:[r,n/Nt.Hsluv.maxChromaForLH(e,r)*100,e]},Nt.Hsluv.hpluvToLch=function(t){var e=t[0],n=t[1],r=t[2];return r>99.9999999?[100,0,e]:r<1e-8?[0,0,e]:[r,Nt.Hsluv.maxSafeChromaForL(r)/100*n,e]},Nt.Hsluv.lchToHpluv=function(t){var e=t[0],n=t[1],r=t[2];return e>99.9999999?[r,0,100]:e<1e-8?[r,0,0]:[r,n/Nt.Hsluv.maxSafeChromaForL(e)*100,e]},Nt.Hsluv.rgbToHex=function(t){for(var e="#",n=0;n<3;){var r=t[n++],i=Math.round(255*r),o=i%16,s=(i-o)/16|0;e+=Nt.Hsluv.hexChars.charAt(s)+Nt.Hsluv.hexChars.charAt(o)}return e},Nt.Hsluv.hexToRgb=function(t){t=t.toLowerCase();for(var e=[],n=0;n<3;){var r=n++,i=16*Nt.Hsluv.hexChars.indexOf(t.charAt(2*r+1))+Nt.Hsluv.hexChars.indexOf(t.charAt(2*r+2));e.push(i/255)}return e},Nt.Hsluv.lchToRgb=function(t){return Nt.Hsluv.xyzToRgb(Nt.Hsluv.luvToXyz(Nt.Hsluv.lchToLuv(t)))},Nt.Hsluv.rgbToLch=function(t){return Nt.Hsluv.luvToLch(Nt.Hsluv.xyzToLuv(Nt.Hsluv.rgbToXyz(t)))},Nt.Hsluv.hsluvToRgb=function(t){return Nt.Hsluv.lchToRgb(Nt.Hsluv.hsluvToLch(t))},Nt.Hsluv.rgbToHsluv=function(t){return Nt.Hsluv.lchToHsluv(Nt.Hsluv.rgbToLch(t))},Nt.Hsluv.hpluvToRgb=function(t){return Nt.Hsluv.lchToRgb(Nt.Hsluv.hpluvToLch(t))},Nt.Hsluv.rgbToHpluv=function(t){return Nt.Hsluv.lchToHpluv(Nt.Hsluv.rgbToLch(t))},Nt.Hsluv.hsluvToHex=function(t){return Nt.Hsluv.rgbToHex(Nt.Hsluv.hsluvToRgb(t))},Nt.Hsluv.hpluvToHex=function(t){return Nt.Hsluv.rgbToHex(Nt.Hsluv.hpluvToRgb(t))},Nt.Hsluv.hexToHsluv=function(t){return Nt.Hsluv.rgbToHsluv(Nt.Hsluv.hexToRgb(t))},Nt.Hsluv.hexToHpluv=function(t){return Nt.Hsluv.rgbToHpluv(Nt.Hsluv.hexToRgb(t))},Nt.Hsluv.m=[[3.240969941904521,-1.537383177570093,-.498610760293],[-.96924363628087,1.87596750150772,.041555057407175],[.055630079696993,-.20397695888897,1.056971514242878]],Nt.Hsluv.minv=[[.41239079926595,.35758433938387,.18048078840183],[.21263900587151,.71516867876775,.072192315360733],[.019330818715591,.11919477979462,.95053215224966]],Nt.Hsluv.refY=1,Nt.Hsluv.refU=.19783000664283,Nt.Hsluv.refV=.46831999493879,Nt.Hsluv.kappa=903.2962962,Nt.Hsluv.epsilon=.0088564516,Nt.Hsluv.hexChars="0123456789abcdef";var Gt={hsluvToRgb:Nt.Hsluv.hsluvToRgb,rgbToHsluv:Nt.Hsluv.rgbToHsluv,hpluvToRgb:Nt.Hsluv.hpluvToRgb,rgbToHpluv:Nt.Hsluv.rgbToHpluv,hsluvToHex:Nt.Hsluv.hsluvToHex,hexToHsluv:Nt.Hsluv.hexToHsluv,hpluvToHex:Nt.Hsluv.hpluvToHex,hexToHpluv:Nt.Hsluv.hexToHpluv,lchToHpluv:Nt.Hsluv.lchToHpluv,hpluvToLch:Nt.Hsluv.hpluvToLch,lchToHsluv:Nt.Hsluv.lchToHsluv,hsluvToLch:Nt.Hsluv.hsluvToLch,lchToLuv:Nt.Hsluv.lchToLuv,luvToLch:Nt.Hsluv.luvToLch,xyzToLuv:Nt.Hsluv.xyzToLuv,luvToXyz:Nt.Hsluv.luvToXyz,xyzToRgb:Nt.Hsluv.xyzToRgb,rgbToXyz:Nt.Hsluv.rgbToXyz,lchToRgb:Nt.Hsluv.lchToRgb,rgbToLch:Nt.Hsluv.rgbToLch};function Ft(t,e,n){const r=t.slice();return r[5]=e[n].idx,r[6]=e[n].slices,r}function zt(t,e,n){const r=t.slice();return r[9]=e[n].d,r[10]=e[n].fill,r}function Bt(t){let e,n,r;return{c(){e=w("path"),C(e,"d",n=t[9]),C(e,"fill",r=t[10]),C(e,"fill-opacity","0.6"),C(e,"stroke","none")},m(t,n){m(t,e,n)},p(t,i){4&i&&n!==(n=t[9])&&C(e,"d",n),4&i&&r!==(r=t[10])&&C(e,"fill",r)},d(t){t&&v(e)}}}function qt(t,e){let n,r,i=e[6],o=[];for(let t=0;t<i.length;t+=1)o[t]=Bt(zt(e,i,t));return{key:t,first:null,c(){n=w("g");for(let t=0;t<o.length;t+=1)o[t].c();C(n,"id",r="colors-"+e[0]+"-"+e[5]),this.first=n},m(t,e){m(t,n,e);for(let t=0;t<o.length;t+=1)o[t].m(n,null)},p(t,s){if(e=t,12&s){let t;for(i=e[6],t=0;t<i.length;t+=1){const r=zt(e,i,t);o[t]?o[t].p(r,s):(o[t]=Bt(r),o[t].c(),o[t].m(n,null))}for(;t<o.length;t+=1)o[t].d(1);o.length=i.length}5&s&&r!==(r="colors-"+e[0]+"-"+e[5])&&C(n,"id",r)},d(t){t&&v(n),y(o,t)}}}function Vt(e){let n,r=[],i=new Map,o=e[3](e[2]||{});const s=t=>t[5];for(let t=0;t<o.length;t+=1){let n=Ft(e,o,t),l=s(n);i.set(l,r[t]=qt(l,n))}return{c(){n=w("g");for(let t=0;t<r.length;t+=1)r[t].c();C(n,"id",e[0])},m(t,e){m(t,n,e);for(let t=0;t<r.length;t+=1)r[t].m(n,null)},p(t,[e]){13&e&&(o=t[3](t[2]||{}),r=tt(r,e,s,1,t,o,i,n,J,qt,null,Ft)),1&e&&C(n,"id",t[0])},i:t,o:t,d(t){t&&v(n);for(let t=0;t<r.length;t+=1)r[t].d()}}}function Kt(e,n,r){let i,o=t,l=()=>(o(),o=s(c,(t=>r(2,i=t))),c);e.$$.on_destroy.push((()=>o()));let{id:a}=n,{ref:c}=n;l();let{grid:u}=n;return e.$$set=t=>{"id"in t&&r(0,a=t.id),"ref"in t&&l(r(1,c=t.ref)),"grid"in t&&r(4,u=t.grid)},[a,c,i,function(t){const e=[];for(const[n,r]of Object.entries(t)){const t=Object.keys(r||{});t.sort(((t,e)=>{const n=Gt.hexToHsluv(t),r=Gt.hexToHsluv(e);return n[0]-r[0]||n[1]-r[1]||n[2]-r[2]}));const i=t.map(((t,e,r)=>({fill:t,d:St(+n,u,e,r.length)})));e.push({idx:+n,slices:i})}return e},u]}function Yt(t,e,n){const r=t.slice();return r[5]=e[n].idx,r[6]=e[n].x,r[7]=e[n].y,r[8]=e[n].nums,r}function Xt(t,e){let n,r,i,o,s,l=e[8].join("")+"";return{key:t,first:null,c(){n=w("text"),r=_(l),C(n,"x",i=e[6]),C(n,"y",o=e[7]),C(n,"fill","#4e72b0"),C(n,"text-anchor","middle"),C(n,"dominant-baseline","central"),C(n,"font-size","0.3"),C(n,"font-weight","600"),C(n,"textLength",s=e[8].length>5?"0.9":void 0),C(n,"lengthAdjust","spacingAndGlyphs"),this.first=n},m(t,e){m(t,n,e),g(n,r)},p(t,a){e=t,4&a&&l!==(l=e[8].join("")+"")&&M(r,l),4&a&&i!==(i=e[6])&&C(n,"x",i),4&a&&o!==(o=e[7])&&C(n,"y",o),4&a&&s!==(s=e[8].length>5?"0.9":void 0)&&C(n,"textLength",s)},d(t){t&&v(n)}}}function Wt(e){let n,r=[],i=new Map,o=e[3](e[2]||{});const s=t=>t[5];for(let t=0;t<o.length;t+=1){let n=Yt(e,o,t),l=s(n);i.set(l,r[t]=Xt(l,n))}return{c(){n=w("g");for(let t=0;t<r.length;t+=1)r[t].c();C(n,"id",e[0]),C(n,"mask","url(#SUDOKU_MASK_GIVENS_FILLED)")},m(t,e){m(t,n,e);for(let t=0;t<r.length;t+=1)r[t].m(n,null)},p(t,[e]){12&e&&(o=t[3](t[2]||{}),r=tt(r,e,s,1,t,o,i,n,J,Xt,null,Yt)),1&e&&C(n,"id",t[0])},i:t,o:t,d(t){t&&v(n);for(let t=0;t<r.length;t+=1)r[t].d()}}}function Zt(e,n,r){let i,o=t,l=()=>(o(),o=s(c,(t=>r(2,i=t))),c);e.$$.on_destroy.push((()=>o()));let{id:a}=n,{ref:c}=n;l();let{grid:u}=n;return e.$$set=t=>{"id"in t&&r(0,a=t.id),"ref"in t&&l(r(1,c=t.ref)),"grid"in t&&r(4,u=t.grid)},[a,c,i,function(t){const e=[];for(const[n,r]of Object.entries(t)){const[t,i]=vt(+n,u).map((t=>t+.5));e.push({idx:+n,x:t,y:i,nums:$t(r)})}return e},u]}function Jt(t,e,n){const r=t.slice();return r[5]=e[n].idx,r[6]=e[n].nums,r}function Qt(t,e,n){const r=t.slice();return r[9]=e[n].x,r[10]=e[n].y,r[11]=e[n].num,r}function te(t){let e,n,r,i,o=t[11]+"";return{c(){e=w("text"),n=_(o),C(e,"x",r=t[9]),C(e,"y",i=t[10]),C(e,"fill","#4e72b0"),C(e,"text-anchor","middle"),C(e,"dominant-baseline","central"),C(e,"font-size","0.3"),C(e,"font-weight","600")},m(t,r){m(t,e,r),g(e,n)},p(t,s){4&s&&o!==(o=t[11]+"")&&M(n,o),4&s&&r!==(r=t[9])&&C(e,"x",r),4&s&&i!==(i=t[10])&&C(e,"y",i)},d(t){t&&v(e)}}}function ee(t,e){let n,r,i=e[6],o=[];for(let t=0;t<i.length;t+=1)o[t]=te(Qt(e,i,t));return{key:t,first:null,c(){n=$();for(let t=0;t<o.length;t+=1)o[t].c();r=$(),this.first=n},m(t,e){m(t,n,e);for(let n=0;n<o.length;n+=1)o[n].m(t,e);m(t,r,e)},p(t,n){if(e=t,12&n){let t;for(i=e[6],t=0;t<i.length;t+=1){const s=Qt(e,i,t);o[t]?o[t].p(s,n):(o[t]=te(s),o[t].c(),o[t].m(r.parentNode,r))}for(;t<o.length;t+=1)o[t].d(1);o.length=i.length}},d(t){t&&v(n),y(o,t),t&&v(r)}}}function ne(e){let n,r=[],i=new Map,o=e[3](e[2]||{});const s=t=>t[5];for(let t=0;t<o.length;t+=1){let n=Jt(e,o,t),l=s(n);i.set(l,r[t]=ee(l,n))}return{c(){n=w("g");for(let t=0;t<r.length;t+=1)r[t].c();C(n,"id",e[0]),C(n,"mask","url(#SUDOKU_MASK_GIVENS_FILLED)")},m(t,e){m(t,n,e);for(let t=0;t<r.length;t+=1)r[t].m(n,null)},p(t,[e]){12&e&&(o=t[3](t[2]||{}),r=tt(r,e,s,1,t,o,i,n,J,ee,null,Jt)),1&e&&C(n,"id",t[0])},i:t,o:t,d(t){t&&v(n);for(let t=0;t<r.length;t+=1)r[t].d()}}}function re(e,n,r){let i,o=t,l=()=>(o(),o=s(c,(t=>r(2,i=t))),c);e.$$.on_destroy.push((()=>o()));let{id:a}=n,{ref:c}=n;l();let{grid:u}=n;return e.$$set=t=>{"id"in t&&r(0,a=t.id),"ref"in t&&l(r(1,c=t.ref)),"grid"in t&&r(4,u=t.grid)},[a,c,i,function(t){const e=[];for(const[n,r]of Object.entries(t)){const t=vt(+n,u)[0]+.5,i=vt(+n,u)[1]+.5,o=!0===r?[]:$t(r).map(((e,n,r)=>{const[o,s]=Mt(n,r.length);return{x:t+o,y:i+s,num:e}}));e.push({idx:+n,nums:o})}return e},u]}function ie(e){let n,r,i,o,s,l,a,c,u,d,h,f,p,y,b,_,$,x,T,H,M,A,S;return{c(){n=w("filter"),r=w("feGaussianBlur"),i=w("feComponentTransfer"),o=w("feFuncR"),s=w("feFuncG"),l=w("feFuncB"),a=w("feFuncA"),u=k(),d=w("mask"),h=w("rect"),y=w("path"),T=k(),H=w("g"),M=w("path"),A=w("path"),C(r,"in","SourceGraphic"),C(r,"stdDeviation",se),C(o,"type","identity"),C(s,"type","identity"),C(l,"type","identity"),C(a,"type","linear"),C(a,"slope","20"),C(a,"intercept","-9.5"),C(n,"id",c="select-"+e[0]+"-blur"),C(h,"x","0"),C(h,"y","0"),C(h,"width",f=e[1].width),C(h,"height",p=e[1].height),C(h,"fill",le),C(y,"d",e[2]),C(y,"fill",ae),C(y,"stroke","none"),C(y,"filter",b="url(#select-"+e[0]+"-blur)"),C(d,"id",_="select-"+e[0]+"-mask"),C(d,"maskUnits","userSpaceOnUse"),C(d,"x","0"),C(d,"y","0"),C(d,"width",$=e[1].width),C(d,"height",x=e[1].height),C(M,"d",e[3]),C(M,"fill",oe),C(M,"stroke","none"),C(A,"d",e[4]),C(A,"fill",oe),C(A,"stroke","none"),C(A,"mask",S="url(#select-"+e[0]+"-mask)"),C(H,"id",e[0])},m(t,e){m(t,n,e),g(n,r),g(n,i),g(i,o),g(i,s),g(i,l),g(i,a),m(t,u,e),m(t,d,e),g(d,h),g(d,y),m(t,T,e),m(t,H,e),g(H,M),g(H,A)},p(t,[e]){1&e&&c!==(c="select-"+t[0]+"-blur")&&C(n,"id",c),2&e&&f!==(f=t[1].width)&&C(h,"width",f),2&e&&p!==(p=t[1].height)&&C(h,"height",p),4&e&&C(y,"d",t[2]),1&e&&b!==(b="url(#select-"+t[0]+"-blur)")&&C(y,"filter",b),1&e&&_!==(_="select-"+t[0]+"-mask")&&C(d,"id",_),2&e&&$!==($=t[1].width)&&C(d,"width",$),2&e&&x!==(x=t[1].height)&&C(d,"height",x),8&e&&C(M,"d",t[3]),16&e&&C(A,"d",t[4]),1&e&&S!==(S="url(#select-"+t[0]+"-mask)")&&C(A,"mask",S),1&e&&C(H,"id",t[0])},i:t,o:t,d(t){t&&v(n),t&&v(u),t&&v(d),t&&v(T),t&&v(H)}}}const oe="#08f",se=.05,le="#b2b2b2",ae="#080808";function ce(t,e,n){let r,i,o,{id:s}=e,{ref:a}=e,{grid:c}=e;const u=Dt(a.ref("cursor"),(t=>{if(null==t)return"";const[e,n]=vt(t,c);return`M${e},${n}L${e+.2},${n}L${e},${n+.2}Z`}));l(t,u,(t=>n(3,i=t)));const d=a.ref("select"),h=Dt(d,(t=>Ht($t(t),c,.075)||void 0));l(t,h,(t=>n(2,r=t)));const f=Dt(d,(t=>Ht($t(t),c,0)||void 0));return l(t,f,(t=>n(4,o=t))),t.$$set=t=>{"id"in t&&n(0,s=t.id),"ref"in t&&n(8,a=t.ref),"grid"in t&&n(1,c=t.grid)},[s,c,r,i,o,u,h,f,a]}class ue extends st{constructor(t){super(),ot(this,t,ce,ie,o,{id:0,ref:8,grid:1})}}function de(e){let n,r,i,o,s,l,a;return{c(){n=w("g"),r=w("line"),s=w("line"),C(r,"x1","0"),C(r,"y1",i=e[1].height),C(r,"x2",o=e[1].width),C(r,"y2","0"),C(r,"class","svelte-1qd4hgf"),O(r,"hide",!e[2]),C(s,"x1","0"),C(s,"y1","0"),C(s,"x2",l=e[1].width),C(s,"y2",a=e[1].height),C(s,"class","svelte-1qd4hgf"),O(s,"hide",!e[3]),C(n,"id",e[0])},m(t,e){m(t,n,e),g(n,r),g(n,s)},p(t,[e]){2&e&&i!==(i=t[1].height)&&C(r,"y1",i),2&e&&o!==(o=t[1].width)&&C(r,"x2",o),4&e&&O(r,"hide",!t[2]),2&e&&l!==(l=t[1].width)&&C(s,"x2",l),2&e&&a!==(a=t[1].height)&&C(s,"y2",a),8&e&&O(s,"hide",!t[3]),1&e&&C(n,"id",t[0])},i:t,o:t,d(t){t&&v(n)}}}function he(t,e,n){let r,i,{id:o}=e,{ref:s}=e,{grid:a}=e;const c=s.ref("positive");l(t,c,(t=>n(2,r=t)));const u=s.ref("negative");return l(t,u,(t=>n(3,i=t))),t.$$set=t=>{"id"in t&&n(0,o=t.id),"ref"in t&&n(6,s=t.ref),"grid"in t&&n(1,a=t.grid)},[o,a,r,i,c,u,s]}function fe(t,e,n){const r=t.slice();return r[5]=e[n].idx,r[6]=e[n].x,r[7]=e[n].y,r[8]=e[n].lines,r}function pe(t,e,n){const r=t.slice();return r[11]=e[n],r[13]=n,r}function ge(t){let e,n,r,i,o=t[11]+"";return{c(){e=w("text"),n=_(o),C(e,"x",r=t[6]),C(e,"y",i=t[7]+_e*(t[13]-.5*(t[8].length-1))),C(e,"text-anchor","middle"),C(e,"dominant-baseline","central"),C(e,"font-size",_e),C(e,"font-weight","600")},m(t,r){m(t,e,r),g(e,n)},p(t,s){4&s&&o!==(o=t[11]+"")&&M(n,o),4&s&&r!==(r=t[6])&&C(e,"x",r),4&s&&i!==(i=t[7]+_e*(t[13]-.5*(t[8].length-1)))&&C(e,"y",i)},d(t){t&&v(e)}}}function me(t,e){let n,r,i,o,s=e[8],l=[];for(let t=0;t<s.length;t+=1)l[t]=ge(pe(e,s,t));return{key:t,first:null,c(){n=w("circle");for(let t=0;t<l.length;t+=1)l[t].c();o=$(),C(n,"cx",r=e[6]),C(n,"cy",i=e[7]),C(n,"r",ye),C(n,"fill","#fff"),C(n,"stroke","#000"),C(n,"stroke-width",be),this.first=n},m(t,e){m(t,n,e);for(let n=0;n<l.length;n+=1)l[n].m(t,e);m(t,o,e)},p(t,a){if(e=t,4&a&&r!==(r=e[6])&&C(n,"cx",r),4&a&&i!==(i=e[7])&&C(n,"cy",i),12&a){let t;for(s=e[8],t=0;t<s.length;t+=1){const n=pe(e,s,t);l[t]?l[t].p(n,a):(l[t]=ge(n),l[t].c(),l[t].m(o.parentNode,o))}for(;t<l.length;t+=1)l[t].d(1);l.length=s.length}},d(t){t&&v(n),y(l,t),t&&v(o)}}}function ve(e){let n,r=[],i=new Map,o=e[3](e[2]||{});const s=t=>t[5];for(let t=0;t<o.length;t+=1){let n=fe(e,o,t),l=s(n);i.set(l,r[t]=me(l,n))}return{c(){n=w("g");for(let t=0;t<r.length;t+=1)r[t].c();C(n,"id",e[0])},m(t,e){m(t,n,e);for(let t=0;t<r.length;t+=1)r[t].m(n,null)},p(t,[e]){12&e&&(o=t[3](t[2]||{}),r=tt(r,e,s,1,t,o,i,n,J,me,null,fe)),1&e&&C(n,"id",t[0])},i:t,o:t,d(t){t&&v(n);for(let t=0;t<r.length;t+=1)r[t].d()}}}const ye=.2125,be=.02,we=/.{1,2}/g,_e=.2;function ke(e,n,r){let i,o=t,l=()=>(o(),o=s(c,(t=>r(2,i=t))),c);e.$$.on_destroy.push((()=>o()));let{id:a}=n,{ref:c}=n;l();let{grid:u}=n;return e.$$set=t=>{"id"in t&&r(0,a=t.id),"ref"in t&&l(r(1,c=t.ref)),"grid"in t&&r(4,u=t.grid)},[a,c,i,function(t){const e=[];for(const[n,r]of Object.entries(t)){const[t,i]=wt(+n,u),o=mt(r).join("").match(we)||[];e.push({idx:+n,x:t,y:i,lines:o})}return e},u]}function $e(t,e,n){const r=t.slice();return r[5]=e[n].cageId,r[6]=e[n].sum,r[7]=e[n].labelPos,r[8]=e[n].d,r}function xe(t,e,n){const r=t.slice();return r[5]=e[n].cageId,r[6]=e[n].sum,r[7]=e[n].labelPos,r}function Te(t,e){let n,r,i,o;return{key:t,first:null,c(){n=w("rect"),C(n,"x",r=e[7].x),C(n,"y",i=e[7].y),C(n,"width",o=.7*`${e[6]}`.length*Ae),C(n,"height",1.1*Ae),C(n,"fill","#000"),this.first=n},m(t,e){m(t,n,e)},p(t,s){e=t,8&s&&r!==(r=e[7].x)&&C(n,"x",r),8&s&&i!==(i=e[7].y)&&C(n,"y",i),8&s&&o!==(o=.7*`${e[6]}`.length*Ae)&&C(n,"width",o)},d(t){t&&v(n)}}}function He(t,e){let n,r,i,o,s,l,a,c=e[6]+"";return{key:t,first:null,c(){n=w("text"),r=_(c),s=w("path"),C(n,"x",i=e[7].x),C(n,"y",o=e[7].y),C(n,"text-anchor","start"),C(n,"dominant-baseline","hanging"),C(n,"font-size",Ae),C(n,"font-weight","600"),C(s,"d",l=e[8]),C(s,"fill","none"),C(s,"stroke","#000"),C(s,"stroke-width",Se),C(s,"stroke-dasharray","0.075 0.04"),C(s,"mask",a="url(#killer-"+e[0]+"-mask)"),this.first=n},m(t,e){m(t,n,e),g(n,r),m(t,s,e)},p(t,u){e=t,8&u&&c!==(c=e[6]+"")&&M(r,c),8&u&&i!==(i=e[7].x)&&C(n,"x",i),8&u&&o!==(o=e[7].y)&&C(n,"y",o),8&u&&l!==(l=e[8])&&C(s,"d",l),1&u&&a!==(a="url(#killer-"+e[0]+"-mask)")&&C(s,"mask",a)},d(t){t&&v(n),t&&v(s)}}}function Ce(e){let n,r,i,o,s,l,a,c,u,d=[],h=new Map,f=[],p=new Map,y=e[4](e[3]||{});const b=t=>t[5];for(let t=0;t<y.length;t+=1){let n=xe(e,y,t),r=b(n);h.set(r,d[t]=Te(r,n))}let _=e[4](e[3]||{});const $=t=>t[5];for(let t=0;t<_.length;t+=1){let n=$e(e,_,t),r=$(n);p.set(r,f[t]=He(r,n))}return{c(){n=w("mask"),r=w("rect");for(let t=0;t<d.length;t+=1)d[t].c();c=k(),u=w("g");for(let t=0;t<f.length;t+=1)f[t].c();C(r,"x","0"),C(r,"y","0"),C(r,"width",i=e[2].width),C(r,"height",o=e[2].height),C(r,"fill","#fff"),C(n,"id",s="killer-"+e[0]+"-mask"),C(n,"maskUnits","userSpaceOnUse"),C(n,"maskContentUnits","userSpaceOnUse"),C(n,"x","0"),C(n,"y","0"),C(n,"width",l=e[2].width),C(n,"height",a=e[2].height),C(u,"id",e[0])},m(t,e){m(t,n,e),g(n,r);for(let t=0;t<d.length;t+=1)d[t].m(n,null);m(t,c,e),m(t,u,e);for(let t=0;t<f.length;t+=1)f[t].m(u,null)},p(t,[e]){4&e&&i!==(i=t[2].width)&&C(r,"width",i),4&e&&o!==(o=t[2].height)&&C(r,"height",o),24&e&&(y=t[4](t[3]||{}),d=tt(d,e,b,1,t,y,h,n,J,Te,null,xe)),1&e&&s!==(s="killer-"+t[0]+"-mask")&&C(n,"id",s),4&e&&l!==(l=t[2].width)&&C(n,"width",l),4&e&&a!==(a=t[2].height)&&C(n,"height",a),25&e&&(_=t[4](t[3]||{}),f=tt(f,e,$,1,t,_,p,u,J,He,null,$e)),1&e&&C(u,"id",t[0])},i:t,o:t,d(t){t&&v(n);for(let t=0;t<d.length;t+=1)d[t].d();t&&v(c),t&&v(u);for(let t=0;t<f.length;t+=1)f[t].d()}}}const Me=.075,Ae=.2,Se=.015;function Oe(e,n,r){let i,o=t,l=()=>(o(),o=s(c,(t=>r(3,i=t))),c);e.$$.on_destroy.push((()=>o()));let{id:a}=n,{ref:c}=n;l();let{grid:u}=n;return e.$$set=t=>{"id"in t&&r(0,a=t.id),"ref"in t&&l(r(1,c=t.ref)),"grid"in t&&r(2,u=t.grid)},[a,c,u,i,function(t){const e=[];for(const[n,{sum:r,cells:i}]of Object.entries(t)){const t=kt(i,u),o=Ht($t(i),u,Me);if(null!=o&&null!=t){const i=vt(t,u),s={x:i[0]+Me-Se,y:i[1]+Me-Se};e.push({cageId:n,sum:r,labelPos:s,d:o})}}return e}]}function Ee(t,e,n){const r=t.slice();return r[4]=e[n][0],r[5]=e[n][1],r}function Le(t,e,n){const r=t.slice();return r[4]=e[n][0],r[5]=e[n][1],r}function Ie(t,e,n){const r=t.slice();return r[4]=e[n][0],r[5]=e[n][1],r}function De(t,e){let n,r,i;return{key:t,first:null,c(){n=w("use"),C(n,"href",r="#max-"+e[0]+"-maskitem"),C(n,"transform",i="translate("+vt(+e[4],e[2])[0]+","+vt(+e[4],e[2])[1]+")"),C(n,"fill","#000"),this.first=n},m(t,e){m(t,n,e)},p(t,o){e=t,1&o&&r!==(r="#max-"+e[0]+"-maskitem")&&C(n,"href",r),12&o&&i!==(i="translate("+vt(+e[4],e[2])[0]+","+vt(+e[4],e[2])[1]+")")&&C(n,"transform",i)},d(t){t&&v(n)}}}function je(t,e){let n,r,i;return{key:t,first:null,c(){n=w("rect"),C(n,"x",r=vt(+e[4],e[2])[0]),C(n,"y",i=vt(+e[4],e[2])[1]),C(n,"width","1"),C(n,"height","1"),C(n,"fill","#7d3737"),C(n,"fill-opacity","0.1"),this.first=n},m(t,e){m(t,n,e)},p(t,o){e=t,12&o&&r!==(r=vt(+e[4],e[2])[0])&&C(n,"x",r),12&o&&i!==(i=vt(+e[4],e[2])[1])&&C(n,"y",i)},d(t){t&&v(n)}}}function Re(t,e){let n,r,i;return{key:t,first:null,c(){n=w("use"),C(n,"href",r="#max-"+e[0]),C(n,"transform",i="translate("+vt(+e[4],e[2])[0]+","+vt(+e[4],e[2])[1]+")"),this.first=n},m(t,e){m(t,n,e)},p(t,o){e=t,1&o&&r!==(r="#max-"+e[0])&&C(n,"href",r),12&o&&i!==(i="translate("+vt(+e[4],e[2])[0]+","+vt(+e[4],e[2])[1]+")")&&C(n,"transform",i)},d(t){t&&v(n)}}}function Ue(e){let n,r,i,o,s,l,a,c,u,d,h,f,p,y,b,_,$,x,T,H,M,A=[],S=new Map,O=[],E=new Map,L=[],I=new Map,D=Object.entries(e[3]||{});const j=t=>t[4];for(let t=0;t<D.length;t+=1){let n=Ie(e,D,t),r=j(n);S.set(r,A[t]=De(r,n))}let R=Object.entries(e[3]||{});const U=t=>t[4];for(let t=0;t<R.length;t+=1){let n=Le(e,R,t),r=U(n);E.set(r,O[t]=je(r,n))}let P=Object.entries(e[3]||{});const N=t=>t[4];for(let t=0;t<P.length;t+=1){let n=Ee(e,P,t),r=N(n);I.set(r,L[t]=Re(r,n))}return{c(){n=w("path"),i=k(),o=w("path"),l=k(),a=w("mask"),c=w("rect");for(let t=0;t<A.length;t+=1)A[t].c();y=k(),b=w("rect"),x=k(),T=w("g");for(let t=0;t<O.length;t+=1)O[t].c();H=w("g");for(let t=0;t<L.length;t+=1)L[t].c();C(n,"id",r="max-"+e[0]),C(n,"d","M 0.12,0.38 L 0.08,0.50 L 0.12,0.62 M 0.38,0.12 L 0.50,0.08 L 0.62,0.12 M 0.88,0.62 L 0.92,0.50 L 0.88,0.38 M 0.62,0.88 L 0.50,0.92 L 0.38,0.88"),C(n,"fill","none"),C(n,"stroke","#000"),C(n,"stroke-width","0.025"),C(n,"stroke-miterlimit","1.5"),C(o,"id",s="max-"+e[0]+"-maskitem"),C(o,"d","M -0.5,0.5 L 0.5,-0.5 L 1.5,0.5 L 0.5,1.5 M 0,0 L 0,1 L 1,1 L 1,0"),C(o,"fill","#000"),C(c,"x","0.25"),C(c,"y","0.25"),C(c,"width",u=e[2].width-.5),C(c,"height",d=e[2].height-.5),C(c,"fill","#fff"),C(a,"id",h="max-"+e[0]+"-mask"),C(a,"maskUnits","userSpaceOnUse"),C(a,"maskContentUnits","userSpaceOnUse"),C(a,"x","0"),C(a,"y","0"),C(a,"width",f=e[2].width),C(a,"height",p=e[2].height),C(b,"width",_=e[2].width),C(b,"height",$=e[2].height),C(b,"fill","#fff"),C(H,"mask",M="url(#max-"+e[0]+"-mask)"),C(T,"id",e[0])},m(t,e){m(t,n,e),m(t,i,e),m(t,o,e),m(t,l,e),m(t,a,e),g(a,c);for(let t=0;t<A.length;t+=1)A[t].m(a,null);m(t,y,e),m(t,b,e),m(t,x,e),m(t,T,e);for(let t=0;t<O.length;t+=1)O[t].m(T,null);g(T,H);for(let t=0;t<L.length;t+=1)L[t].m(H,null)},p(t,[e]){1&e&&r!==(r="max-"+t[0])&&C(n,"id",r),1&e&&s!==(s="max-"+t[0]+"-maskitem")&&C(o,"id",s),4&e&&u!==(u=t[2].width-.5)&&C(c,"width",u),4&e&&d!==(d=t[2].height-.5)&&C(c,"height",d),13&e&&(D=Object.entries(t[3]||{}),A=tt(A,e,j,1,t,D,S,a,J,De,null,Ie)),1&e&&h!==(h="max-"+t[0]+"-mask")&&C(a,"id",h),4&e&&f!==(f=t[2].width)&&C(a,"width",f),4&e&&p!==(p=t[2].height)&&C(a,"height",p),4&e&&_!==(_=t[2].width)&&C(b,"width",_),4&e&&$!==($=t[2].height)&&C(b,"height",$),12&e&&(R=Object.entries(t[3]||{}),O=tt(O,e,U,1,t,R,E,T,J,je,H,Le)),13&e&&(P=Object.entries(t[3]||{}),L=tt(L,e,N,1,t,P,I,H,J,Re,null,Ee)),1&e&&M!==(M="url(#max-"+t[0]+"-mask)")&&C(H,"mask",M),1&e&&C(T,"id",t[0])},i:t,o:t,d(t){t&&v(n),t&&v(i),t&&v(o),t&&v(l),t&&v(a);for(let t=0;t<A.length;t+=1)A[t].d();t&&v(y),t&&v(b),t&&v(x),t&&v(T);for(let t=0;t<O.length;t+=1)O[t].d();for(let t=0;t<L.length;t+=1)L[t].d()}}}function Pe(e,n,r){let i,o=t,l=()=>(o(),o=s(c,(t=>r(3,i=t))),c);e.$$.on_destroy.push((()=>o()));let{id:a}=n,{ref:c}=n;l();let{grid:u}=n;return e.$$set=t=>{"id"in t&&r(0,a=t.id),"ref"in t&&l(r(1,c=t.ref)),"grid"in t&&r(2,u=t.grid)},[a,c,u,i]}function Ne(t,e,n){const r=t.slice();return r[4]=e[n][0],r[5]=e[n][1],r}function Ge(t,e,n){const r=t.slice();return r[4]=e[n][0],r[5]=e[n][1],r}function Fe(t,e,n){const r=t.slice();return r[4]=e[n][0],r[5]=e[n][1],r}function ze(t,e){let n,r,i;return{key:t,first:null,c(){n=w("use"),C(n,"href",r="#min-"+e[0]+"-maskitem"),C(n,"transform",i="translate("+vt(+e[4],e[2])[0]+","+vt(+e[4],e[2])[1]+")"),C(n,"fill","#000"),this.first=n},m(t,e){m(t,n,e)},p(t,o){e=t,1&o&&r!==(r="#min-"+e[0]+"-maskitem")&&C(n,"href",r),12&o&&i!==(i="translate("+vt(+e[4],e[2])[0]+","+vt(+e[4],e[2])[1]+")")&&C(n,"transform",i)},d(t){t&&v(n)}}}function Be(t,e){let n,r,i;return{key:t,first:null,c(){n=w("rect"),C(n,"x",r=vt(+e[4],e[2])[0]),C(n,"y",i=vt(+e[4],e[2])[1]),C(n,"width","1"),C(n,"height","1"),C(n,"fill","#694b7d"),C(n,"fill-opacity","0.1"),this.first=n},m(t,e){m(t,n,e)},p(t,o){e=t,12&o&&r!==(r=vt(+e[4],e[2])[0])&&C(n,"x",r),12&o&&i!==(i=vt(+e[4],e[2])[1])&&C(n,"y",i)},d(t){t&&v(n)}}}function qe(t,e){let n,r,i;return{key:t,first:null,c(){n=w("use"),C(n,"href",r="#min-"+e[0]),C(n,"transform",i="translate("+vt(+e[4],e[2])[0]+","+vt(+e[4],e[2])[1]+")"),this.first=n},m(t,e){m(t,n,e)},p(t,o){e=t,1&o&&r!==(r="#min-"+e[0])&&C(n,"href",r),12&o&&i!==(i="translate("+vt(+e[4],e[2])[0]+","+vt(+e[4],e[2])[1]+")")&&C(n,"transform",i)},d(t){t&&v(n)}}}function Ve(e){let n,r,i,o,s,l,a,c,u,d,h,f,p,y,b,_,$,x,T,H,M,A=[],S=new Map,O=[],E=new Map,L=[],I=new Map,D=Object.entries(e[3]||{});const j=t=>t[4];for(let t=0;t<D.length;t+=1){let n=Fe(e,D,t),r=j(n);S.set(r,A[t]=ze(r,n))}let R=Object.entries(e[3]||{});const U=t=>t[4];for(let t=0;t<R.length;t+=1){let n=Ge(e,R,t),r=U(n);E.set(r,O[t]=Be(r,n))}let P=Object.entries(e[3]||{});const N=t=>t[4];for(let t=0;t<P.length;t+=1){let n=Ne(e,P,t),r=N(n);I.set(r,L[t]=qe(r,n))}return{c(){n=w("path"),i=k(),o=w("path"),l=k(),a=w("mask"),c=w("rect");for(let t=0;t<A.length;t+=1)A[t].c();y=k(),b=w("rect"),x=k(),T=w("g");for(let t=0;t<O.length;t+=1)O[t].c();H=w("g");for(let t=0;t<L.length;t+=1)L[t].c();C(n,"id",r="min-"+e[0]),C(n,"d","M 0.08,0.38 L 0.12,0.50 L 0.08,0.62 M 0.38,0.08 L 0.50,0.12 L 0.62,0.08 M 0.92,0.62 L 0.88,0.50 L 0.92,0.38 M 0.62,0.92 L 0.50,0.88 L 0.38,0.92"),C(n,"fill","none"),C(n,"stroke","#000"),C(n,"stroke-width","0.025"),C(n,"stroke-miterlimit","1.5"),C(o,"id",s="min-"+e[0]+"-maskitem"),C(o,"d","M -0.5,0.5 L 0.5,-0.5 L 1.5,0.5 L 0.5,1.5 M 0,0 L 0,1 L 1,1 L 1,0"),C(o,"fill","#000"),C(c,"x","0.25"),C(c,"y","0.25"),C(c,"width",u=e[2].width-.5),C(c,"height",d=e[2].height-.5),C(c,"fill","#fff"),C(a,"id",h="min-"+e[0]+"-mask"),C(a,"maskUnits","userSpaceOnUse"),C(a,"maskContentUnits","userSpaceOnUse"),C(a,"x","0"),C(a,"y","0"),C(a,"width",f=e[2].width),C(a,"height",p=e[2].height),C(b,"width",_=e[2].width),C(b,"height",$=e[2].height),C(b,"fill","#fff"),C(H,"mask",M="url(#min-"+e[0]+"-mask)"),C(T,"id",e[0])},m(t,e){m(t,n,e),m(t,i,e),m(t,o,e),m(t,l,e),m(t,a,e),g(a,c);for(let t=0;t<A.length;t+=1)A[t].m(a,null);m(t,y,e),m(t,b,e),m(t,x,e),m(t,T,e);for(let t=0;t<O.length;t+=1)O[t].m(T,null);g(T,H);for(let t=0;t<L.length;t+=1)L[t].m(H,null)},p(t,[e]){1&e&&r!==(r="min-"+t[0])&&C(n,"id",r),1&e&&s!==(s="min-"+t[0]+"-maskitem")&&C(o,"id",s),4&e&&u!==(u=t[2].width-.5)&&C(c,"width",u),4&e&&d!==(d=t[2].height-.5)&&C(c,"height",d),13&e&&(D=Object.entries(t[3]||{}),A=tt(A,e,j,1,t,D,S,a,J,ze,null,Fe)),1&e&&h!==(h="min-"+t[0]+"-mask")&&C(a,"id",h),4&e&&f!==(f=t[2].width)&&C(a,"width",f),4&e&&p!==(p=t[2].height)&&C(a,"height",p),4&e&&_!==(_=t[2].width)&&C(b,"width",_),4&e&&$!==($=t[2].height)&&C(b,"height",$),12&e&&(R=Object.entries(t[3]||{}),O=tt(O,e,U,1,t,R,E,T,J,Be,H,Ge)),13&e&&(P=Object.entries(t[3]||{}),L=tt(L,e,N,1,t,P,I,H,J,qe,null,Ne)),1&e&&M!==(M="url(#min-"+t[0]+"-mask)")&&C(H,"mask",M),1&e&&C(T,"id",t[0])},i:t,o:t,d(t){t&&v(n),t&&v(i),t&&v(o),t&&v(l),t&&v(a);for(let t=0;t<A.length;t+=1)A[t].d();t&&v(y),t&&v(b),t&&v(x),t&&v(T);for(let t=0;t<O.length;t+=1)O[t].d();for(let t=0;t<L.length;t+=1)L[t].d()}}}function Ke(e,n,r){let i,o=t,l=()=>(o(),o=s(c,(t=>r(3,i=t))),c);e.$$.on_destroy.push((()=>o()));let{id:a}=n,{ref:c}=n;l();let{grid:u}=n;return e.$$set=t=>{"id"in t&&r(0,a=t.id),"ref"in t&&l(r(1,c=t.ref)),"grid"in t&&r(2,u=t.grid)},[a,c,u,i]}function Ye(t,e,n){const r=t.slice();return r[4]=e[n][0],r[5]=e[n][1],r}function Xe(t,e){let n,r,i,o,s,l,a,c,u,d,h,f,p,y;return{key:t,first:null,c(){n=w("mask"),r=w("rect"),s=w("path"),c=w("path"),h=w("path"),C(r,"width",i=e[2].width),C(r,"height",o=e[2].height),C(r,"fill","#fff"),C(s,"d",l=xt(mt(e[5].head),e[2])),C(s,"fill","none"),C(s,"stroke","#000"),C(s,"stroke-width",2*Ze-Je),C(s,"stroke-linejoin","round"),C(s,"stroke-linecap","round"),C(n,"id",a="arrow-"+e[0]+"-mask-"+e[4]),C(n,"maskUnits","userSpaceOnUse"),C(c,"d",u=xt(mt(e[5].head),e[2])),C(c,"fill","none"),C(c,"stroke","#000"),C(c,"stroke-width",2*Ze+Je),C(c,"mask",d="url(#arrow-"+e[0]+"-mask-"+e[4]+")"),C(c,"stroke-linejoin","round"),C(c,"stroke-linecap","round"),C(h,"d",f=xt(mt(e[5].body),e[2],.15)),C(h,"fill","none"),C(h,"stroke","#000"),C(h,"stroke-width",Qe),C(h,"mask",p="url(#arrow-"+e[0]+"-mask-"+e[4]+")"),C(h,"stroke-miterlimit","1.5"),C(h,"marker-end",y="url(#arrow-head-"+e[0]+")"),this.first=n},m(t,e){m(t,n,e),g(n,r),g(n,s),m(t,c,e),m(t,h,e)},p(t,g){e=t,4&g&&i!==(i=e[2].width)&&C(r,"width",i),4&g&&o!==(o=e[2].height)&&C(r,"height",o),12&g&&l!==(l=xt(mt(e[5].head),e[2]))&&C(s,"d",l),9&g&&a!==(a="arrow-"+e[0]+"-mask-"+e[4])&&C(n,"id",a),12&g&&u!==(u=xt(mt(e[5].head),e[2]))&&C(c,"d",u),9&g&&d!==(d="url(#arrow-"+e[0]+"-mask-"+e[4]+")")&&C(c,"mask",d),12&g&&f!==(f=xt(mt(e[5].body),e[2],.15))&&C(h,"d",f),9&g&&p!==(p="url(#arrow-"+e[0]+"-mask-"+e[4]+")")&&C(h,"mask",p),1&g&&y!==(y="url(#arrow-head-"+e[0]+")")&&C(h,"marker-end",y)},d(t){t&&v(n),t&&v(c),t&&v(h)}}}function We(e){let n,r,i,o,s,l=[],a=new Map,c=Object.entries(e[3]||{});const u=t=>t[4];for(let t=0;t<c.length;t+=1){let n=Ye(e,c,t),r=u(n);a.set(r,l[t]=Xe(r,n))}return{c(){n=w("marker"),r=w("path"),o=k(),s=w("g");for(let t=0;t<l.length;t+=1)l[t].c();C(r,"d","M 0.4,0.425 L 0.5,0.5 L 0.4,0.575"),C(r,"fill","none"),C(r,"stroke","#000"),C(r,"stroke-width",Qe),C(n,"id",i="arrow-head-"+e[0]),C(n,"viewBox","0 0 1 1"),C(n,"refX","0.5"),C(n,"refY","0.5"),C(n,"markerUnits","userSpaceOnUse"),C(n,"markerWidth","1"),C(n,"markerHeight","1"),C(n,"orient","auto"),C(s,"id",e[0])},m(t,e){m(t,n,e),g(n,r),m(t,o,e),m(t,s,e);for(let t=0;t<l.length;t+=1)l[t].m(s,null)},p(t,[e]){1&e&&i!==(i="arrow-head-"+t[0])&&C(n,"id",i),13&e&&(c=Object.entries(t[3]||{}),l=tt(l,e,u,1,t,c,a,s,J,Xe,null,Ye)),1&e&&C(s,"id",t[0])},i:t,o:t,d(t){t&&v(n),t&&v(o),t&&v(s);for(let t=0;t<l.length;t+=1)l[t].d()}}}const Ze=.375,Je=.025,Qe=.025;function tn(e,n,r){let i,o=t,l=()=>(o(),o=s(c,(t=>r(3,i=t))),c);e.$$.on_destroy.push((()=>o()));let{id:a}=n,{ref:c}=n;l();let{grid:u}=n;return e.$$set=t=>{"id"in t&&r(0,a=t.id),"ref"in t&&l(r(1,c=t.ref)),"grid"in t&&r(2,u=t.grid)},[a,c,u,i]}function en(t,e,n){const r=t.slice();return r[6]=e[n].itemId,r[7]=e[n].d,r}function nn(t,e,n){const r=t.slice();return r[6]=e[n].itemId,r[10]=e[n].head,r[11]=e[n].tail,r}function rn(t,e){let n,r,i,o,s,l;return{key:t,first:null,c(){n=w("circle"),o=w("circle"),C(n,"cx",r=e[10][0]+.5),C(n,"cy",i=e[10][1]+.5),C(n,"r",ln-.5*an),C(n,"fill","#000"),C(n,"stroke","none"),C(o,"cx",s=e[11][0]+.5),C(o,"cy",l=e[11][1]+.5),C(o,"r",ln-.5*an),C(o,"fill","#000"),C(o,"stroke","none"),this.first=n},m(t,e){m(t,n,e),m(t,o,e)},p(t,a){e=t,4&a&&r!==(r=e[10][0]+.5)&&C(n,"cx",r),4&a&&i!==(i=e[10][1]+.5)&&C(n,"cy",i),4&a&&s!==(s=e[11][0]+.5)&&C(o,"cx",s),4&a&&l!==(l=e[11][1]+.5)&&C(o,"cy",l)},d(t){t&&v(n),t&&v(o)}}}function on(t,e){let n,r,i,o,s;return{key:t,first:null,c(){n=w("path"),C(n,"d",r=e[7]),C(n,"fill","none"),C(n,"stroke","#c18bb7"),C(n,"stroke-linejoin","round"),C(n,"stroke-linecap","round"),C(n,"stroke-width",cn),C(n,"mask",i="url(#between-"+e[0]+"-mask)"),C(n,"marker-start",o="url(#between-bulb-"+e[0]+")"),C(n,"marker-end",s="url(#between-bulb-"+e[0]+")"),this.first=n},m(t,e){m(t,n,e)},p(t,l){e=t,4&l&&r!==(r=e[7])&&C(n,"d",r),1&l&&i!==(i="url(#between-"+e[0]+"-mask)")&&C(n,"mask",i),1&l&&o!==(o="url(#between-bulb-"+e[0]+")")&&C(n,"marker-start",o),1&l&&s!==(s="url(#between-bulb-"+e[0]+")")&&C(n,"marker-end",s)},d(t){t&&v(n)}}}function sn(e){let n,r,i,o,s,l,a,c,u,d,h,f,p,y=[],b=new Map,_=[],$=new Map,x=e[2];const T=t=>t[6];for(let t=0;t<x.length;t+=1){let n=nn(e,x,t),r=T(n);b.set(r,y[t]=rn(r,n))}let H=e[2];const M=t=>t[6];for(let t=0;t<H.length;t+=1){let n=en(e,H,t),r=M(n);$.set(r,_[t]=on(r,n))}return{c(){n=w("marker"),r=w("circle"),o=k(),s=w("mask"),l=w("rect");for(let t=0;t<y.length;t+=1)y[t].c();f=k(),p=w("g");for(let t=0;t<_.length;t+=1)_[t].c();C(r,"cx","0.5"),C(r,"cy","0.5"),C(r,"r",ln+.5*an),C(r,"fill","#000"),C(n,"id",i="between-bulb-"+e[0]),C(n,"viewBox","0 0 1 1"),C(n,"refX","0.5"),C(n,"refY","0.5"),C(n,"markerUnits","userSpaceOnUse"),C(n,"markerWidth","1"),C(n,"markerHeight","1"),C(n,"orient","auto"),C(l,"width",a=e[1].width),C(l,"height",c=e[1].height),C(l,"fill","#fff"),C(s,"id",u="between-"+e[0]+"-mask"),C(s,"maskUnits","userSpaceOnUse"),C(s,"x","0"),C(s,"y","0"),C(s,"width",d=e[1].width),C(s,"height",h=e[1].height),C(p,"id",e[0])},m(t,e){m(t,n,e),g(n,r),m(t,o,e),m(t,s,e),g(s,l);for(let t=0;t<y.length;t+=1)y[t].m(s,null);m(t,f,e),m(t,p,e);for(let t=0;t<_.length;t+=1)_[t].m(p,null)},p(t,[e]){1&e&&i!==(i="between-bulb-"+t[0])&&C(n,"id",i),2&e&&a!==(a=t[1].width)&&C(l,"width",a),2&e&&c!==(c=t[1].height)&&C(l,"height",c),4&e&&(x=t[2],y=tt(y,e,T,1,t,x,b,s,J,rn,null,nn)),1&e&&u!==(u="between-"+t[0]+"-mask")&&C(s,"id",u),2&e&&d!==(d=t[1].width)&&C(s,"width",d),2&e&&h!==(h=t[1].height)&&C(s,"height",h),5&e&&(H=t[2],_=tt(_,e,M,1,t,H,$,p,J,on,null,en)),1&e&&C(p,"id",t[0])},i:t,o:t,d(t){t&&v(n),t&&v(o),t&&v(s);for(let t=0;t<y.length;t+=1)y[t].d();t&&v(f),t&&v(p);for(let t=0;t<_.length;t+=1)_[t].d()}}}const ln=.375,an=.025,cn=.1;function un(t,e,n){let r,{id:i}=e,{ref:o}=e,{grid:s}=e;const a=Dt(o,(function(t){if(null==t)return[];const e=[];for(const[n,r]of Object.entries(t)){const t=mt(r);e.push({head:vt(t[0],s),tail:vt(t[t.length-1],s),itemId:n,d:xt(t,s)})}return e}));return l(t,a,(t=>n(2,r=t))),t.$$set=t=>{"id"in t&&n(0,i=t.id),"ref"in t&&n(4,o=t.ref),"grid"in t&&n(1,s=t.grid)},[i,s,r,a,o]}function dn(t,e,n){const r=t.slice();return r[5]=e[n].thermoId,r[6]=e[n].d,r[7]=e[n].invalid,r}function hn(t,e){let n,r,i,o;return{key:t,first:null,c(){n=w("path"),C(n,"d",r=e[6]),C(n,"fill","none"),C(n,"stroke",i=e[7]?"#333":"#666"),C(n,"stroke-width","0.2"),C(n,"marker-start",o="url(#thermo-bulb-"+e[0]+")"),C(n,"stroke-linejoin","round"),C(n,"stroke-linecap","round"),this.first=n},m(t,e){m(t,n,e)},p(t,s){e=t,16&s&&r!==(r=e[6])&&C(n,"d",r),16&s&&i!==(i=e[7]?"#333":"#666")&&C(n,"stroke",i),1&s&&o!==(o="url(#thermo-bulb-"+e[0]+")")&&C(n,"marker-start",o)},d(t){t&&v(n)}}}function fn(e){let n,r,i,o,s,l,a,c,u,d,h,f,p,y,b=[],_=new Map,$=e[3](e[4]||{});const x=t=>t[5];for(let t=0;t<$.length;t+=1){let n=dn(e,$,t),r=x(n);_.set(r,b[t]=hn(r,n))}return{c(){n=w("marker"),r=w("circle"),o=k(),s=w("mask");for(let t=0;t<b.length;t+=1)b[t].c();u=k(),d=w("g"),h=w("rect"),C(r,"cx","0.5"),C(r,"cy","0.5"),C(r,"r",pn),C(r,"fill","#666"),C(n,"id",i="thermo-bulb-"+e[0]),C(n,"viewBox","0 0 1 1"),C(n,"refX","0.5"),C(n,"refY","0.5"),C(n,"markerUnits","userSpaceOnUse"),C(n,"markerWidth","1"),C(n,"markerHeight","1"),C(n,"orient","auto"),C(s,"id",l="thermo-"+e[0]+"-mask"),C(s,"maskUnits","userSpaceOnUse"),C(s,"x","0"),C(s,"y","0"),C(s,"width",a=e[2].width),C(s,"height",c=e[2].height),C(h,"x","0"),C(h,"y","0"),C(h,"width",f=e[2].width),C(h,"height",p=e[2].height),C(h,"fill","#888"),C(h,"stroke","none"),C(h,"mask",y="url(#thermo-"+e[0]+"-mask)"),C(d,"id",e[0])},m(t,e){m(t,n,e),g(n,r),m(t,o,e),m(t,s,e);for(let t=0;t<b.length;t+=1)b[t].m(s,null);m(t,u,e),m(t,d,e),g(d,h)},p(t,[e]){1&e&&i!==(i="thermo-bulb-"+t[0])&&C(n,"id",i),25&e&&($=t[3](t[4]||{}),b=tt(b,e,x,1,t,$,_,s,J,hn,null,dn)),1&e&&l!==(l="thermo-"+t[0]+"-mask")&&C(s,"id",l),4&e&&a!==(a=t[2].width)&&C(s,"width",a),4&e&&c!==(c=t[2].height)&&C(s,"height",c),4&e&&f!==(f=t[2].width)&&C(h,"width",f),4&e&&p!==(p=t[2].height)&&C(h,"height",p),1&e&&y!==(y="url(#thermo-"+t[0]+"-mask)")&&C(h,"mask",y),1&e&&C(d,"id",t[0])},i:t,o:t,d(t){t&&v(n),t&&v(o),t&&v(s);for(let t=0;t<b.length;t+=1)b[t].d();t&&v(u),t&&v(d)}}}const pn=.375;function gn(e,n,r){let i,o=t,l=()=>(o(),o=s(c,(t=>r(4,i=t))),c);e.$$.on_destroy.push((()=>o()));let{id:a}=n,{ref:c}=n;l();let{grid:u}=n;return e.$$set=t=>{"id"in t&&r(0,a=t.id),"ref"in t&&l(r(1,c=t.ref)),"grid"in t&&r(2,u=t.grid)},[a,c,u,function(t){const e=[];for(const[n,r]of Object.entries(t)){const t=mt(r);e.push({thermoId:n,d:xt(t,u,.25),invalid:t.length>u.width})}return e},i]}function mn(t,e,n){const r=t.slice();return r[6]=e[n][0],r[7]=e[n][1],r}function vn(t,e){let n,r,i,o,s=e[7]+"";return{key:t,first:null,c(){n=w("text"),r=_(s),C(n,"x",i=vt(+e[6],e[2])[0]+.5),C(n,"y",o=vt(+e[6],e[2])[1]+.5),C(n,"fill",e[3]),C(n,"text-anchor","middle"),C(n,"dominant-baseline","central"),C(n,"font-size","0.775"),C(n,"font-weight","600"),this.first=n},m(t,e){m(t,n,e),g(n,r)},p(t,l){e=t,32&l&&s!==(s=e[7]+"")&&M(r,s),36&l&&i!==(i=vt(+e[6],e[2])[0]+.5)&&C(n,"x",i),36&l&&o!==(o=vt(+e[6],e[2])[1]+.5)&&C(n,"y",o),8&l&&C(n,"fill",e[3])},d(t){t&&v(n)}}}function yn(e){let n,r=[],i=new Map,o=Object.entries(e[5]||{});const s=t=>t[6];for(let t=0;t<o.length;t+=1){let n=mn(e,o,t),l=s(n);i.set(l,r[t]=vn(l,n))}return{c(){n=w("g");for(let t=0;t<r.length;t+=1)r[t].c();C(n,"id",e[0]),C(n,"mask",e[4])},m(t,e){m(t,n,e);for(let t=0;t<r.length;t+=1)r[t].m(n,null)},p(t,[e]){44&e&&(o=Object.entries(t[5]||{}),r=tt(r,e,s,1,t,o,i,n,J,vn,null,mn)),1&e&&C(n,"id",t[0]),16&e&&C(n,"mask",t[4])},i:t,o:t,d(t){t&&v(n);for(let t=0;t<r.length;t+=1)r[t].d()}}}function bn(e,n,r){let i,o=t,l=()=>(o(),o=s(c,(t=>r(5,i=t))),c);e.$$.on_destroy.push((()=>o()));let{id:a}=n,{ref:c}=n;l();let{grid:u}=n,{color:d="#000"}=n,{mask:h}=n;return e.$$set=t=>{"id"in t&&r(0,a=t.id),"ref"in t&&l(r(1,c=t.ref)),"grid"in t&&r(2,u=t.grid),"color"in t&&r(3,d=t.color),"mask"in t&&r(4,h=t.mask)},[a,c,u,d,h,i]}class wn extends st{constructor(t){super(),ot(this,t,bn,yn,o,{id:0,ref:1,grid:2,color:3,mask:4})}}function _n(e){let n,r,i,o,s,l,a,c,u,d,h,f;return{c(){n=w("pattern"),r=w("rect"),c=k(),u=w("rect"),C(r,"width",i=e[3].width),C(r,"height",o=e[3].height),C(r,"stroke","#000"),C(r,"fill","none"),C(r,"stroke-width",pt),C(n,"id",s="box-"+e[0]),C(n,"width",l=e[3].width),C(n,"height",a=e[3].height),C(n,"patternUnits","userSpaceOnUse"),C(u,"id",e[0]),C(u,"x",-.02),C(u,"y",-.02),C(u,"width",d=e[2].width+pt),C(u,"height",h=e[2].height+pt),C(u,"fill",f="url(#box-"+e[0]+")"),C(u,"stroke","none")},m(t,e){m(t,n,e),g(n,r),m(t,c,e),m(t,u,e)},p(t,[e]){8&e&&i!==(i=t[3].width)&&C(r,"width",i),8&e&&o!==(o=t[3].height)&&C(r,"height",o),1&e&&s!==(s="box-"+t[0])&&C(n,"id",s),8&e&&l!==(l=t[3].width)&&C(n,"width",l),8&e&&a!==(a=t[3].height)&&C(n,"height",a),1&e&&C(u,"id",t[0]),4&e&&d!==(d=t[2].width+pt)&&C(u,"width",d),4&e&&h!==(h=t[2].height+pt)&&C(u,"height",h),1&e&&f!==(f="url(#box-"+t[0]+")")&&C(u,"fill",f)},i:t,o:t,d(t){t&&v(n),t&&v(c),t&&v(u)}}}function kn(e,n,r){let i,o=t,l=()=>(o(),o=s(c,(t=>r(3,i=t))),c);e.$$.on_destroy.push((()=>o()));let{id:a}=n,{ref:c}=n;l();let{grid:u}=n;return e.$$set=t=>{"id"in t&&r(0,a=t.id),"ref"in t&&l(r(1,c=t.ref)),"grid"in t&&r(2,u=t.grid)},[a,c,u,i]}function $n(e){let n,r,i,o,s,l,a,c;return{c(){n=w("pattern"),r=w("rect"),o=k(),s=w("rect"),C(r,"width","1"),C(r,"height","1"),C(r,"stroke","#000"),C(r,"fill","none"),C(r,"stroke-width",ht),C(n,"id",i="grid-"+e[0]),C(n,"width","1"),C(n,"height","1"),C(n,"patternUnits","userSpaceOnUse"),C(s,"id",e[0]),C(s,"x",-.005),C(s,"y",-.005),C(s,"width",l=e[2].width+ft),C(s,"height",a=e[2].height+ft),C(s,"fill",c="url(#grid-"+e[0]+")"),C(s,"stroke","none")},m(t,e){m(t,n,e),g(n,r),m(t,o,e),m(t,s,e)},p(t,[e]){1&e&&i!==(i="grid-"+t[0])&&C(n,"id",i),1&e&&C(s,"id",t[0]),4&e&&l!==(l=t[2].width+ft)&&C(s,"width",l),4&e&&a!==(a=t[2].height+ft)&&C(s,"height",a),1&e&&c!==(c="url(#grid-"+t[0]+")")&&C(s,"fill",c)},i:t,o:t,d(t){t&&v(n),t&&v(o),t&&v(s)}}}function xn(e,n,r){let i=t,o=()=>(i(),i=s(a,(t=>r(3,t))),a);e.$$.on_destroy.push((()=>i()));let{id:l}=n,{ref:a}=n;o();let{grid:c}=n;return e.$$set=t=>{"id"in t&&r(0,l=t.id),"ref"in t&&o(r(1,a=t.ref)),"grid"in t&&r(2,c=t.grid)},[l,a,c]}function Tn(t,e,n){const r=t.slice();return r[15]=e[n].id,r}function Hn(t,e,n){const r=t.slice();return r[15]=e[n].id,r[18]=e[n].ref,r[19]=e[n].element,r}function Cn(t,e){let n,r,i,o;var s=e[19];function l(t){return{props:{id:t[15],ref:t[18],grid:t[2]}}}return s&&(r=new s(l(e))),{key:t,first:null,c(){n=$(),r&&et(r.$$.fragment),i=$(),this.first=n},m(t,e){m(t,n,e),r&&nt(r,t,e),m(t,i,e),o=!0},p(t,n){e=t;const o={};if(32&n&&(o.id=e[15]),32&n&&(o.ref=e[18]),4&n&&(o.grid=e[2]),s!==(s=e[19])){if(r){Y();const t=r;Z(t.$$.fragment,1,0,(()=>{rt(t,1)})),X()}s?(r=new s(l(e)),et(r.$$.fragment),W(r.$$.fragment,1),nt(r,i.parentNode,i)):r=null}else s&&r.$set(o)},i(t){o||(r&&W(r.$$.fragment,t),o=!0)},o(t){r&&Z(r.$$.fragment,t),o=!1},d(t){t&&v(n),t&&v(i),r&&rt(r,t)}}}function Mn(t,e){let n,r;return{key:t,first:null,c(){n=w("use"),C(n,"href",r="#"+e[15]),this.first=n},m(t,e){m(t,n,e)},p(t,i){e=t,32&i&&r!==(r="#"+e[15])&&C(n,"href",r)},d(t){t&&v(n)}}}function An(t){let e,n,r,i,o,s,l,a,c,u,d,h,f,p,y,b,k=[],$=new Map,x=[],T=new Map,H=t[5];const M=t=>t[15];for(let e=0;e<H.length;e+=1){let n=Hn(t,H,e),r=M(n);$.set(r,k[e]=Cn(r,n))}let A=t[5];const S=t=>t[15];for(let e=0;e<A.length;e+=1){let n=Tn(t,A,e),r=S(n);T.set(r,x[e]=Mn(r,n))}return{c(){e=w("svg"),n=w("style"),r=_("svg {\n            -webkit-tap-highlight-color: transparent;\n            touch-action: none;\n        }\n        text {\n            -webkit-user-select: none;\n            -moz-user-select: none;\n            -ms-user-select: none;\n            user-select: none;\n        }\n        text::selection {\n            background: none;\n        }\n        svg * {\n            pointer-events: none;\n        }\n        .hide {\n            display: none;\n        }\n    "),i=w("defs"),o=w("mask"),s=w("rect"),c=w("path"),u=w("mask"),d=w("rect"),p=w("path");for(let t=0;t<k.length;t+=1)k[t].c();for(let t=0;t<x.length;t+=1)x[t].c();C(s,"x","0"),C(s,"y","0"),C(s,"width",l=t[2].width),C(s,"height",a=t[2].height),C(s,"fill","#fff"),C(c,"d",t[3]),C(c,"fill","#000"),C(c,"stroke","none"),C(o,"id","SUDOKU_MASK_GIVENS"),C(o,"maskUnits","userSpaceOnUse"),C(d,"x","0"),C(d,"y","0"),C(d,"width",h=t[2].width),C(d,"height",f=t[2].height),C(d,"fill","#fff"),C(p,"d",t[4]),C(p,"fill","#000"),C(p,"stroke","none"),C(u,"id","SUDOKU_MASK_GIVENS_FILLED"),C(u,"maskUnits","userSpaceOnUse"),C(e,"viewBox",y=t[1].x+" "+t[1].y+" "+t[1].width+" "+t[1].height),C(e,"xmlns","http://www.w3.org/2000/svg")},m(l,a){m(l,e,a),g(e,n),g(n,r),g(e,i),g(i,o),g(o,s),g(o,c),g(i,u),g(u,d),g(u,p);for(let t=0;t<k.length;t+=1)k[t].m(i,null);for(let t=0;t<x.length;t+=1)x[t].m(e,null);t[13](e),b=!0},p(t,[n]){(!b||4&n&&l!==(l=t[2].width))&&C(s,"width",l),(!b||4&n&&a!==(a=t[2].height))&&C(s,"height",a),(!b||8&n)&&C(c,"d",t[3]),(!b||4&n&&h!==(h=t[2].width))&&C(d,"width",h),(!b||4&n&&f!==(f=t[2].height))&&C(d,"height",f),(!b||16&n)&&C(p,"d",t[4]),36&n&&(H=t[5],Y(),k=tt(k,n,M,1,t,H,$,i,Q,Cn,null,Hn),X()),32&n&&(A=t[5],x=tt(x,n,S,1,t,A,T,e,J,Mn,null,Tn)),(!b||2&n&&y!==(y=t[1].x+" "+t[1].y+" "+t[1].width+" "+t[1].height))&&C(e,"viewBox",y)},i(t){if(!b){for(let t=0;t<H.length;t+=1)W(k[t]);b=!0}},o(t){for(let t=0;t<k.length;t+=1)Z(k[t]);b=!1},d(n){n&&v(e);for(let t=0;t<k.length;t+=1)k[t].d();for(let t=0;t<x.length;t+=1)x[t].d();t[13](null)}}}const Sn={select:ue,grid:class extends st{constructor(t){super(),ot(this,t,xn,$n,o,{id:0,ref:1,grid:2})}},box:class extends st{constructor(t){super(),ot(this,t,kn,_n,o,{id:0,ref:1,grid:2})}},givens:wn,filled:function(t){return t.props.color="#4e72b0",t.props.mask="url(#SUDOKU_MASK_GIVENS)",new wn(t)},corner:class extends st{constructor(t){super(),ot(this,t,re,ne,o,{id:0,ref:1,grid:4})}},center:class extends st{constructor(t){super(),ot(this,t,Zt,Wt,o,{id:0,ref:1,grid:4})}},colors:class extends st{constructor(t){super(),ot(this,t,Kt,Vt,o,{id:0,ref:1,grid:4})}},thermo:class extends st{constructor(t){super(),ot(this,t,gn,fn,o,{id:0,ref:1,grid:2,getThermos:3})}get getThermos(){return this.$$.ctx[3]}},between:class extends st{constructor(t){super(),ot(this,t,un,sn,o,{id:0,ref:4,grid:1})}},arrow:class extends st{constructor(t){super(),ot(this,t,tn,We,o,{id:0,ref:1,grid:2})}},sandwich:null,min:class extends st{constructor(t){super(),ot(this,t,Ke,Ve,o,{id:0,ref:1,grid:2})}},max:class extends st{constructor(t){super(),ot(this,t,Pe,Ue,o,{id:0,ref:1,grid:2})}},killer:class extends st{constructor(t){super(),ot(this,t,Oe,Ce,o,{id:0,ref:1,grid:2})}},quadruple:class extends st{constructor(t){super(),ot(this,t,ke,ve,o,{id:0,ref:1,grid:4})}},diagonal:class extends st{constructor(t){super(),ot(this,t,he,de,o,{id:0,ref:6,grid:1})}},knight:null,king:null,disjointGroups:null,consecutive:null},On={grid:ft,box:gt,quadruple:.2225};function En(t,e,n){let r,i,o,s,a,{userState:c}=e,{boardState:u}=e,{svg:d=null}=e;const h=u.ref("grid");l(t,h,(t=>n(2,i=t)));const f=u.ref("elements"),p=Dt([f,h],(([t,e])=>Ht($t(Ot(t||{},!0,!1)),e,0)||void 0));l(t,p,(t=>n(3,o=t)));const g=Dt([f,h],(([t,e])=>Ht($t(Ot(t||{},!0,!0)),e,0)||void 0));l(t,g,(t=>n(4,s=t)));const m=Lt([],(t=>{const e=[{id:"select_192839012",type:"select",order:9.5,ref:c,element:ue}];u.ref("elements/*").watch((([n,r],i,o)=>{let s=-1;if(null!=i){if(null==Sn[i.type])return;if(s=e.findIndex((({id:t})=>r===t)),0>s)return void console.error(`Failed to find renderer for constraint with id ${r}.`)}if(null==o)delete e[s];else{const t=Sn[o.type];if(null==t)return void console.warn(`Cannot render unknown constraint type: ${o.type}.`);const l={id:r,type:o.type,order:o.order,ref:u.ref(n,r,"value"),element:t};null==i?e.push(l):(i.type!==o.type&&console.error("Cannot change type of constraint!"),e[s]=l)}e.sort(((t,e)=>t.order-e.order)),t(e)}),!0)}));l(t,m,(t=>n(5,a=t)));const v=Dt([h,m],(([t,e])=>{const n=e.map((({type:t})=>On[t])).filter((t=>null!=t)).reduce(((t,e)=>t>e?t:e),0);return{x:-n,y:-n,width:t.width+2*n,height:t.height+2*n}}));return l(t,v,(t=>n(1,r=t))),t.$$set=t=>{"userState"in t&&n(11,c=t.userState),"boardState"in t&&n(12,u=t.boardState),"svg"in t&&n(0,d=t.svg)},[d,r,i,o,s,a,h,p,g,m,v,c,u,function(t){j[t?"unshift":"push"]((()=>{d=t,n(0,d)}))}]}class Ln extends st{constructor(t){super(),ot(this,t,En,An,o,{userState:11,boardState:12,svg:0})}}const In=window.userState=new dt.StateManager;In.update({select:{},cursor:null,tool:"120",prevTool:"120",marks:{filled:"120",corner:"130",center:"140",colors:"150"},history:{},historyUndone:{}});const Dn=In.ref("select"),jn=In.ref("cursor"),Rn=In.ref("prevTool"),Un=In.ref("tool"),Pn="tool";function Nn(t){return!!t&&((0!==Object.keys(t.redo).length||0!==Object.keys(t.undo).length)&&(In.update({[`history/${Date.now()}`]:JSON.stringify(t),historyUndone:null}),!0))}function Gn(t){const e=In.get(t?"historyUndone":"history")||{},n=Object.keys(e);if(0===n.length)return!1;const r=n.reduce(((e,n)=>t!==+e>+n?e:n)),i=e[`${r}`];null==i&&(console.warn("EMPTY HISTORY ENTRY",r,i),In.update({[`${t?"historyUndone":"history"}/${r}`]:null}),Gn(t));const o=JSON.parse(i);return Ut.update(t?o.redo:o.undo),In.update({[`history/${r}`]:t?i:null,[`historyUndone/${r}`]:t?null:i}),!0}window.changeHistory=Gn,window.addEventListener("keydown",(t=>{if("KeyZ"===t.code&&t.ctrlKey)Gn(t.shiftKey);else{if("KeyY"!==t.code||!t.ctrlKey)return;Gn(!0)}t.preventDefault(),t.stopImmediatePropagation()}));class Fn{constructor(t){this.onTap=null,this.onDrag=null,this.onDragStart=null,this.onDragEnd=null,this._prevPos=null,this._prevCell=null,this._isDown=!1,this._isTap=!1,this._interpolateOnReender=t}down(t){this.onDragStart&&this.onDragStart(t),this._isDown=!0,this._isTap=!0}move(t,e,n){this._isDown&&this._handle(t,e,n)}up(){this._isDown&&(this.onDragEnd&&this.onDragEnd(),this._prevPos=null,this._prevCell=null,this._isDown=!1)}leave(t,e,n){this._isDown&&this._handle(t,e,n)}click(t,e,n){if(this._isTap){const r=_t(Tt(t,n),e,!1);null!=r&&this.onTap&&this.onTap({event:t,coord:r,grid:e})}}_handle(t,e,n){const r=Tt(t,n);if(null!=this._prevPos&&1<function(t,e){const n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r}(this._prevPos,r)){for(const n of function(t,e,n){const r=Math.floor(e[0])-Math.floor(t[0]),i=Math.floor(e[1])-Math.floor(t[1]),o=Math.max(Math.abs(r),Math.abs(i)),s=[];for(let r=1;r<=o;r++){const i=r/o,l=(1-i)*t[0]+i*e[0],a=(1-i)*t[1]+i*e[1];0<=l&&l<n.width&&0<=a&&a<n.height&&s.push([Math.floor(l),Math.floor(a)])}return s}(this._prevPos,r,e))this.onDrag&&this.onDrag({event:t,coord:n,grid:e}),this._prevCell=yt(n,e);this._prevPos=this._interpolateOnReender||Ct(r,e)?r:null,this._isTap=!1}else{const n=_t(r,e,!(null==this._prevPos));null!=n?(this._prevCell!==yt(n,e)&&(null!=this._prevCell&&(this._isTap=!1),this.onDrag&&this.onDrag({event:t,coord:n,grid:e}),this._prevCell=yt(n,e)),this._prevPos=r):this._interpolateOnReender||Ct(r,e)||(this._prevCell=null,this._prevPos=null,this._isTap=!1)}}}const zn=/^(?:Digit|Numpad)?(\d)$/,Bn={Delete:null,Backspace:null,NumpadDecimal:null};function qn(t){if(t in Bn)return Bn[t];const e=zn.exec(t);return e?Number(e[1]):void 0}const Vn=new Fn(!1);function Kn(t,e,n,r){const{multipleDigits:i,blockedByGivens:o,blockedByFilled:s,digitMapping:l,nextMode:a}=r,c=["filled","corner","center","colors"];function u(e){let n=qn(e);if(l&&null!=n&&n in l&&(n=l[n]),void 0===n)return!1;if(d(t,n))for(const t of c){const e=In.get("marks",t);if(null==e)continue;if(!d(Ut.ref("elements",`${e}`,"value"),n))break}return!0}function d(t,e){const n=function(t=!0,e=!0){return Ot(Ut.get("elements")||{},t,e)}(o,s),r={};let l=!0;for(const o of $t(Dn.get()))null==n[o]&&(i&&null!=e?(r[`${o}/${e}`]=!0,l&&(l=!!t.ref(`${o}`,`${e}`).get())):(r[`${o}`]=e,l&&(l=e==t.ref(`${o}`).get())));if(l){if(null==e)return!0;for(const t of Object.keys(r))r[t]=null}return Nn(t.update(r)),!1}const h=new Set(["Shift","Control","Alt","Meta"]);function f(t){if("Space"===t.code)return"keydown"===t.type&&Un.replace(In.get("marks",a)),!0;if(!h.has(t.key))return!1;const e=Un.get();if(t.shiftKey)t.ctrlKey||t.metaKey?Un.replace(In.get("marks","colors")):Un.replace(In.get("marks","corner"));else if(t.ctrlKey||t.metaKey)Un.replace(In.get("marks","center"));else{if(!t.altKey)return Un.replace(Rn.get()),!0;Un.replace(In.get("marks","colors"))}return null==Rn.get()&&(Rn.replace(e),!0)}const p={ArrowLeft:[-1,0],ArrowUp:[0,-1],ArrowRight:[1,0],ArrowDown:[0,1]};return{load(){},unload(){Vn.up()},blur(t){Un.replace(Rn.get())},keydown(t){(u(t.code)||f(t)||function(t){if(!(t.code in p))return!1;const[n,r]=p[t.code];let[i,o]=vt(jn.get()||0,e);i+=n+e.width,o+=r+e.height,i%=e.width,o%=e.height;const s=yt([i,o],e);jn.replace(s),t.shiftKey?Dn.ref(`${s}`).replace(!0):t.ctrlKey?Dn.ref(`${s}`).replace(null):Dn.replace({[s]:!0})}(t))&&(t.stopImmediatePropagation(),t.preventDefault())},keyup(t){f(t)&&(t.stopImmediatePropagation(),t.preventDefault())},padClick(t){u(t.currentTarget.value)},down(t){Vn.down(t)},move(t){Vn.move(t,e,n)},up(t){Vn.up()},leave(t){Vn.leave(t,e,n)},click(t){Vn.click(t,e,n)}}}(()=>{let t;!function(t){t[t.RESETTING=0]="RESETTING",t[t.DYNAMIC=1]="DYNAMIC",t[t.SELECTING=2]="SELECTING",t[t.DESELCTING=3]="DESELCTING"}(t||(t={}));let e=t.RESETTING;function n(n,r){const{coord:i,grid:o}=n,s=yt(i,o);if(jn.replace(s),t.RESETTING===e){const n=r&&Dn.get()||{};return r&&1===Object.keys(n).length&&n[`${s}`]?Dn.replace({}):Dn.replace({[`${s}`]:!0}),void(e=t.SELECTING)}t.DYNAMIC===e&&(e=Dn.ref(`${s}`).get()?t.DESELCTING:t.SELECTING),Dn.ref(`${s}`).replace(t.SELECTING===e||null)}Vn.onDragStart=n=>{var r;e=(r=n).shiftKey?t.SELECTING:r.ctrlKey||r.metaKey?t.DYNAMIC:r.altKey?t.DESELCTING:t.RESETTING},Vn.onDrag=t=>{n(t,!1)},Vn.onTap=t=>{n(t,!0)}})();function Yn(t,e,n,r){const{deletePrioritizeHead:i,deletePrioritizeTail:o}=r,s=new Fn(!0);let l=null;const a=[];return s.onDragStart=e=>{a.length=0,l=t.ref(`${Date.now()}_${Math.random()}`)},s.onDrag=t=>{if(null==l)throw"UNREACHABLE";const{coord:e,grid:n}=t,r=yt(e,n),i=a.indexOf(r);0<=i?a.length=i+1:a.push(r),l.replace(a.length>1?a:null)},s.onDragEnd=()=>{if(null==l)throw new Error("Line handler, onDragEnd NULL lineRef.");if(1>=a.length)l.replace(null);else{const t=l.path().join("/"),e={redo:{},undo:{[t]:null}};for(let n=0;n<a.length;n++)e.redo[`${t}/${n}`]=a[n];Nn(e)}l=null},s.onTap=e=>{const{coord:n,grid:r}=e,s=yt(n,r);let l=null;for(const[e,n]of Object.entries(t.get()||{})){const t=mt(n);if(i&&s===t[0]){l=e;break}if(o&&s===t[t.length-1]){l=e;break}t.includes(s)&&(l=e)}null==l||Nn(t.ref(`${l}`).replace(null))},{load(){Dn.replace(null),jn.replace(null)},unload(){s.up()},blur(t){},keydown(t){},keyup(t){},padClick(t){},down(t){s.down(t)},move(t){s.move(t,e,n)},up(t){s.up()},leave(t){s.leave(t,e,n)},click(t){s.click(t,e,n)}}}function Xn(t,e,n){const r=new Fn(!0);let i;function o(e){return void 0===i&&(i=!t.ref(`${e}`).get()||null),i}const s={redo:{},undo:{}};return r.onDragStart=t=>{i=void 0},r.onDrag=e=>{const{coord:n,grid:r}=e,i=yt(n,r),l=t.ref(`${i}`).replace(o(i));null!=l&&(Object.assign(s.redo,l.redo),Object.assign(s.undo,l.undo))},r.onDragEnd=()=>{Nn(s),s.redo={},s.undo={}},r.onTap=e=>{const{coord:n,grid:r}=e,i=yt(n,r);Nn(t.ref(`${i}`).replace(o(i)))},{load(){Dn.replace(null),jn.replace(null)},unload(){r.up()},blur(t){},keydown(t){},keyup(t){},padClick(t){},down(t){r.down(t)},move(t){r.move(t,e,n)},up(t){r.up()},leave(t){r.leave(t,e,n)},click(t){r.click(t,e,n)}}}const Wn={givens:{getInputHandler:(t,e,n)=>Kn(t,e,n,{multipleDigits:!1,blockedByGivens:!1,blockedByFilled:!1,nextMode:"corner"}),inGlobalMenu:!1,menu:{type:"select",name:"Givens",icon:"given"}},filled:{getInputHandler:(t,e,n)=>Kn(t,e,n,{multipleDigits:!1,blockedByGivens:!0,blockedByFilled:!1,nextMode:"corner"})},center:{getInputHandler:(t,e,n)=>Kn(t,e,n,{multipleDigits:!0,blockedByGivens:!0,blockedByFilled:!0,nextMode:"colors"})},corner:{getInputHandler:(t,e,n)=>Kn(t,e,n,{multipleDigits:!0,blockedByGivens:!0,blockedByFilled:!0,nextMode:"center"})},colors:{getInputHandler:(t,e,n)=>Kn(t,e,n,{multipleDigits:!0,blockedByGivens:!1,blockedByFilled:!1,nextMode:"filled",digitMapping:["#111111","#666666","#b2b2b2",Gt.hsluvToHex([10,100,60]),Gt.hsluvToHex([40,100,65]),Gt.hsluvToHex([70,100,92]),Gt.hsluvToHex([120,100,80]),Gt.hsluvToHex([230,100,85]),Gt.hsluvToHex([260,100,55]),Gt.hsluvToHex([300,100,70])]})},grid:null,box:null,thermo:{getInputHandler:(t,e,n)=>Yn(t,e,n,{deletePrioritizeHead:!0,deletePrioritizeTail:!1}),inGlobalMenu:!1,menu:{type:"select",name:"Thermos",icon:"thermo"}},between:{getInputHandler:(t,e,n)=>Yn(t,e,n,{deletePrioritizeHead:!0,deletePrioritizeTail:!0}),inGlobalMenu:!1,menu:{type:"select",name:"Between",icon:"between"}},diagonal:{inGlobalMenu:!0,menu:{type:"checkbox",name:"Diagonals",checkbox:[{name:"Positive Diagonal",icon:"positive-diagonal",refPath:"positive"},{name:"Negative Diagonal",icon:"negative-diagonal",refPath:"negative"}]}},arrow:null,sandwich:null,min:{getInputHandler:Xn,inGlobalMenu:!1,menu:{type:"select",name:"Min",icon:"min"}},max:{getInputHandler:Xn,inGlobalMenu:!1,menu:{type:"select",name:"Max",icon:"max"}},killer:null,quadruple:{getInputHandler:function(t,e,n){const r=[];let i=null;function o(t){if(null==i)return!1;const e=qn(t);if(void 0===e)return!1;if(null==e)r.length=0;else{if(4<=r.length)return!1;r.push(e),r.sort()}return Nn(i.replace(!(0<r.length)||r)),!0}return{load(){Dn.replace(null),jn.replace(null)},unload(){},blur(t){},keydown(t){o(t.code)&&(t.stopImmediatePropagation(),t.preventDefault())},keyup(t){},padClick(t){o(t.currentTarget.value)&&(t.stopImmediatePropagation(),t.preventDefault())},down(t){},move(t){},up(t){},leave(t){},click(r){const s=function([t,e],{width:n,height:r}){const i=Math.round(t),o=Math.round(e);return i<0||n<i||o<0||r<o?null:[i,o]}(Tt(r,n),e);if(null==s)return;const l=bt(s,e),a=t.ref(`${l}`);!0!==a.get()?(i=a,o("Delete")):a.replace(null)}}},inGlobalMenu:!1,menu:{type:"select",name:"Quadruple",icon:"quadruple"}},knight:{inGlobalMenu:!0,menu:{type:"checkbox",name:"Antiknight",checkbox:{name:"Antiknight",icon:"knight"}}},king:{inGlobalMenu:!0,menu:{type:"checkbox",name:"Antiking",checkbox:{name:"Antiking",icon:"king"}}},disjointGroups:{inGlobalMenu:!0,menu:{type:"checkbox",name:"Disjoint Groups",checkbox:{name:"Disjoint Groups",icon:"disjoint"}}},consecutive:{inGlobalMenu:!0,menu:{type:"checkbox",name:"Nonconsecutive",checkbox:{name:"Nonconsecutive",icon:"nonconsecutive"}}}},Zn=Lt([],(t=>{const e=[];Ut.ref("elements/*").watch((([n,r],i,o)=>{const s=(null==i?void 0:i.type)||o.type,l=Wn[s];if(null==l)return void console.warn(`Unknown constraint type: ${s}.`);let a=-1;if(null!=i&&(a=e.findIndex((({id:t})=>r===t)),0>a))console.error(`Failed to find constraint with id ${r}.`);else{if(null==o)delete e[a];else if(null==i){const t=Ut.ref(n,r,"value");e.push({id:r,valueRef:t,info:l})}else i.type!==o.type&&console.error(`Cannot change type of constraint! ${i.type} -> ${o.type}`);t(e)}}),!0)})),Jn=Dt([Lt(null,(t=>{let e=[];Zn.subscribe((t=>e=t)),Un.watch(((n,r,i)=>{const o=i,s=e.find((({id:t})=>o===t))||null;t(s)}),!0)})),jt],(([t,e])=>{if(null==t)return null;const{info:n,valueRef:r}=t;if(null==n||null==n.getInputHandler)return null;const i=n.getInputHandler(r,Pt.get(),e);return i.load(),i}));function Qn(t){let e,n,o,s,l,a,c;function u(e){t[6](e)}let d={boardState:Ut,userState:In};return void 0!==t[2]&&(d.svg=t[2]),o=new Ln({props:d}),j.push((()=>function(t,e,n){const r=t.$$.props[e];void 0!==r&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}(o,"svg",u))),{c(){e=b("div"),n=k(),et(o.$$.fragment),C(e,"class","overlay svelte-kdd1wn"),C(e,"tabindex","0")},m(r,s){m(r,e,s),t[4](e),m(r,n,s),nt(o,r,s),l=!0,a||(c=[x(window,"blur",(function(){i(t[3](t[1],"blur"))&&t[3](t[1],"blur").apply(this,arguments)})),x(window,"mouseup",(function(){i(t[3](t[1],"up"))&&t[3](t[1],"up").apply(this,arguments)})),x(window,"keydown",(function(){i(t[3](t[1],"keydown"))&&t[3](t[1],"keydown").apply(this,arguments)})),x(window,"keyup",(function(){i(t[3](t[1],"keyup"))&&t[3](t[1],"keyup").apply(this,arguments)})),x(e,"mousedown",H(T(t[5])),!0),x(e,"mousemove",H(T((function(){i(t[3](t[1],"move"))&&t[3](t[1],"move").apply(this,arguments)}))),!0),x(e,"click",H(T((function(){i(t[3](t[1],"click"))&&t[3](t[1],"click").apply(this,arguments)}))),!0),x(e,"contextmenu",H(T((function(){i(t[3](t[1],"click"))&&t[3](t[1],"click").apply(this,arguments)}))),!0),x(e,"mouseleave",H(T((function(){i(t[3](t[1],"leave"))&&t[3](t[1],"leave").apply(this,arguments)}))),!0)],a=!0)},p(e,[n]){t=e;const r={};var i;!s&&4&n&&(s=!0,r.svg=t[2],i=()=>s=!1,U.push(i)),o.$set(r)},i(t){l||(W(o.$$.fragment,t),l=!0)},o(t){Z(o.$$.fragment,t),l=!1},d(i){i&&v(e),t[4](null),i&&v(n),rt(o,i),a=!1,r(c)}}}function tr(t,e,n){let r,i,o;l(t,Rt,(t=>n(0,r=t))),l(t,Jn,(t=>n(1,i=t))),l(t,jt,(t=>n(2,o=t)));return[r,i,o,function(t,e){return n=>{null==t||document.activeElement!==r&&document.activeElement!==document.body||t[e](n)}},function(t){j[t?"unshift":"push"]((()=>{r=t,Rt.set(r)}))},t=>(t.currentTarget.focus(),i&&i.down(t)),function(t){o=t,jt.set(o)}]}class er extends st{constructor(t){super(),ot(this,t,tr,Qn,o,{})}}function nr(t){let e,n,r,i,o,s,l,c,d,h,f;const p=t[4].default,y=a(p,t,t[3],null);return{c(){e=b("div"),n=b("button"),r=_(t[1]),i=k(),o=b("span"),s=k(),l=b("div"),c=b("div"),y&&y.c(),C(o,"class","tree-menu icon icon-inline icon-c-clickable icon-tree-menu svelte-1o8sn12"),C(n,"class","section-title nobutton svelte-1o8sn12"),C(c,"class","panel svelte-1o8sn12"),C(l,"class","panel-wrapper svelte-1o8sn12"),C(e,"class","container svelte-1o8sn12"),O(e,"closed",t[0])},m(a,u){m(a,e,u),g(e,n),g(n,r),g(n,i),g(n,o),g(e,s),g(e,l),g(l,c),y&&y.m(c,null),d=!0,h||(f=x(n,"click",t[2]),h=!0)},p(t,[n]){(!d||2&n)&&M(r,t[1]),y&&y.p&&(!d||8&n)&&u(y,p,t,t[3],d?n:-1,null,null),1&n&&O(e,"closed",t[0])},i(t){d||(W(y,t),d=!0)},o(t){Z(y,t),d=!1},d(t){t&&v(e),y&&y.d(t),h=!1,f()}}}function rr(t,e,n){let{$$slots:r={},$$scope:i}=e,{title:o}=e,{closed:s=!1}=e;return t.$$set=t=>{"title"in t&&n(1,o=t.title),"closed"in t&&n(0,s=t.closed),"$$scope"in t&&n(3,i=t.$$scope)},[s,o,function(){n(0,s=!s)},i,r]}class ir extends st{constructor(t){super(),ot(this,t,rr,nr,o,{title:1,closed:0})}}function or(t){let e,n,i,o,s,l;return{c(){e=b("input"),i=k(),o=b("button"),o.textContent="Jump To Board",C(e,"class","radio-select-button svelte-1xnmwrx"),C(e,"type","radio"),C(e,"id",n="local-radio-"+ ++cr),e.__value=t[0],e.value=e.__value,C(e,"name",Pn),t[11][0].push(e),C(o,"class","nobutton focus-skip")},m(n,r){m(n,e,r),e.checked=e.__value===t[6],m(n,i,r),m(n,o,r),s||(l=[x(e,"change",t[10]),x(e,"change",t[12]),x(o,"click",t[13])],s=!0)},p(t,n){1&n&&(e.__value=t[0],e.value=e.__value),64&n&&(e.checked=e.__value===t[6])},d(n){n&&v(e),t[11][0].splice(t[11][0].indexOf(e),1),n&&v(i),n&&v(o),s=!1,r(l)}}}function sr(t){let e,n;return{c(){e=b("span"),n=_(t[1]),C(e,"class","name svelte-1xnmwrx"),O(e,"unused",t[2])},m(t,r){m(t,e,r),g(e,n)},p(t,r){2&r&&M(n,t[1]),4&r&&O(e,"unused",t[2])},d(t){t&&v(e)}}}function lr(t){let e,n;return{c(){e=b("label"),n=_(t[1]),C(e,"class","name clickable svelte-1xnmwrx"),C(e,"for","local-radio-"+cr),O(e,"unused",t[2])},m(t,r){m(t,e,r),g(e,n)},p(t,r){2&r&&M(n,t[1]),4&r&&O(e,"unused",t[2])},d(t){t&&v(e)}}}function ar(t){let e,n,o,s,l,c,d,h,f,p,y,w=t[3]&&or(t);function _(t,e){return t[3]?lr:sr}let $=_(t),T=$(t);const M=t[9].default,A=a(M,t,t[8],null);return{c(){e=b("div"),w&&w.c(),n=k(),o=b("div"),s=b("div"),l=b("button"),l.innerHTML='<span class="icon icon-inline icon-c-clickable icon-trash"></span>',c=k(),T.c(),d=k(),h=b("div"),A&&A.c(),C(l,"class","nobutton"),C(s,"class","constraint-row-left svelte-1xnmwrx"),C(h,"class","constraint-row-right svelte-1xnmwrx"),C(o,"class","constraint-row svelte-1xnmwrx"),C(o,"role","button"),C(e,"class","constraint-row-container svelte-1xnmwrx")},m(r,a){m(r,e,a),w&&w.m(e,null),g(e,n),g(e,o),g(o,s),g(s,l),g(s,c),T.m(s,null),g(o,d),g(o,h),A&&A.m(h,null),f=!0,p||(y=[x(l,"click",H((function(){i(t[5])&&t[5].apply(this,arguments)}))),x(o,"click",H((function(){i(t[4])&&t[4].apply(this,arguments)})))],p=!0)},p(r,[i]){(t=r)[3]?w?w.p(t,i):(w=or(t),w.c(),w.m(e,n)):w&&(w.d(1),w=null),$===($=_(t))&&T?T.p(t,i):(T.d(1),T=$(t),T&&(T.c(),T.m(s,null))),A&&A.p&&(!f||256&i)&&u(A,M,t,t[8],f?i:-1,null,null)},i(t){f||(W(A,t),f=!0)},o(t){Z(A,t),f=!1},d(t){t&&v(e),w&&w.d(),T.d(),A&&A.d(t),p=!1,r(y)}}}let cr=0;function ur(t,e,n){let r,i;l(t,Un,(t=>n(6,r=t))),l(t,Rt,(t=>n(7,i=t)));let{$$slots:o={},$$scope:s}=e,{id:a}=e,{name:c}=e,{unused:u}=e,{isLocal:h=!1}=e,{onClick:f=(h?()=>d(Un,r=a,r):void 0)}=e,{onTrash:p}=e;return t.$$set=t=>{"id"in t&&n(0,a=t.id),"name"in t&&n(1,c=t.name),"unused"in t&&n(2,u=t.unused),"isLocal"in t&&n(3,h=t.isLocal),"onClick"in t&&n(4,f=t.onClick),"onTrash"in t&&n(5,p=t.onTrash),"$$scope"in t&&n(8,s=t.$$scope)},[a,c,u,h,f,p,r,i,s,o,function(){r=this.__value,Un.set(r)},[[]],()=>Rn.set(Un.get()),()=>i&&i.focus()]}class dr extends st{constructor(t){super(),ot(this,t,ur,ar,o,{id:0,name:1,unused:2,isLocal:3,onClick:4,onTrash:5})}}function hr(t){let e,n;return{c(){e=b("span"),C(e,"class",n="icon icon-inline icon-c-clickable icon-"+t[2].icon)},m(t,n){m(t,e,n)},p(t,r){4&r&&n!==(n="icon icon-inline icon-c-clickable icon-"+t[2].icon)&&C(e,"class",n)},d(t){t&&v(e)}}}function fr(t){let e,n;return e=new dr({props:{id:t[0],name:t[2].name,unused:!1,isLocal:!0,$$slots:{default:[hr]},$$scope:{ctx:t}}}),{c(){et(e.$$.fragment)},m(t,r){nt(e,t,r),n=!0},p(t,[n]){const r={};1&n&&(r.id=t[0]),4&n&&(r.name=t[2].name),20&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(W(e.$$.fragment,t),n=!0)},o(t){Z(e.$$.fragment,t),n=!1},d(t){rt(e,t)}}}function pr(e,n,r){let i=t,o=()=>(i(),i=s(a,(t=>r(3,t))),a);e.$$.on_destroy.push((()=>i()));let{id:l}=n,{ref:a}=n;o();let{info:c}=n;return e.$$set=t=>{"id"in t&&r(0,l=t.id),"ref"in t&&o(r(1,a=t.ref)),"info"in t&&r(2,c=t.info)},[l,a,c]}class gr extends st{constructor(t){super(),ot(this,t,pr,fr,o,{id:0,ref:1,info:2})}}function mr(e){let n,i,o,s,l,a,c,u,d,h,f;return{c(){n=b("div"),i=b("label"),o=b("span"),l=k(),a=b("span"),c=_(e[0]),u=k(),d=b("input"),C(o,"class",s="icon icon-inline icon-c-text icon-"+e[1]+" svelte-1ns67sk"),C(a,"class","sr-only"),C(i,"for","checkbox-"+ ++vr),C(i,"title",e[0]),C(i,"class","clickable"),C(d,"id","checkbox-"+vr),C(d,"type","checkbox"),C(n,"class","constraint-checkbox svelte-1ns67sk")},m(t,r){m(t,n,r),g(n,i),g(i,o),g(i,l),g(i,a),g(a,c),g(n,u),g(n,d),d.checked=e[3],h||(f=[x(d,"change",e[5]),x(n,"click",H(e[4]))],h=!0)},p(t,[e]){2&e&&s!==(s="icon icon-inline icon-c-text icon-"+t[1]+" svelte-1ns67sk")&&C(o,"class",s),1&e&&M(c,t[0]),1&e&&C(i,"title",t[0]),8&e&&(d.checked=t[3])},i:t,o:t,d(t){t&&v(n),h=!1,r(f)}}}let vr=0;function yr(e,n,r){let i,o=t,l=()=>(o(),o=s(u,(t=>r(3,i=t))),u);e.$$.on_destroy.push((()=>o()));let{name:a}=n,{icon:c}=n,{checked:u}=n;return l(),e.$$set=t=>{"name"in t&&r(0,a=t.name),"icon"in t&&r(1,c=t.icon),"checked"in t&&l(r(2,u=t.checked))},[a,c,u,i,function(t){I.call(this,e,t)},function(){i=this.checked,u.set(i)}]}class br extends st{constructor(t){super(),ot(this,t,yr,mr,o,{name:0,icon:1,checked:2})}}function wr(t,e,n){const r=t.slice();return r[6]=e[n].name,r[7]=e[n].icon,r[8]=e[n].refPath,r}function _r(t){let e,n;return e=new br({props:{name:t[6],icon:t[7],checked:t[8]?t[1].ref(t[8]):t[1]}}),{c(){et(e.$$.fragment)},m(t,r){nt(e,t,r),n=!0},p(t,n){const r={};4&n&&(r.name=t[6]),4&n&&(r.icon=t[7]),6&n&&(r.checked=t[8]?t[1].ref(t[8]):t[1]),e.$set(r)},i(t){n||(W(e.$$.fragment,t),n=!0)},o(t){Z(e.$$.fragment,t),n=!1},d(t){rt(e,t)}}}function kr(t){let e,n,r=Array.isArray(t[2].checkbox)?t[2].checkbox:[t[2].checkbox],i=[];for(let e=0;e<r.length;e+=1)i[e]=_r(wr(t,r,e));const o=t=>Z(i[t],1,1,(()=>{i[t]=null}));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=$()},m(t,r){for(let e=0;e<i.length;e+=1)i[e].m(t,r);m(t,e,r),n=!0},p(t,n){if(6&n){let s;for(r=Array.isArray(t[2].checkbox)?t[2].checkbox:[t[2].checkbox],s=0;s<r.length;s+=1){const o=wr(t,r,s);i[s]?(i[s].p(o,n),W(i[s],1)):(i[s]=_r(o),i[s].c(),W(i[s],1),i[s].m(e.parentNode,e))}for(Y(),s=r.length;s<i.length;s+=1)o(s);X()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)W(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)Z(i[t]);n=!1},d(t){y(i,t),t&&v(e)}}}function $r(t){let e,n;return e=new dr({props:{id:t[0],name:t[2].name,unused:t[5](t[3]),onClick:t[4],$$slots:{default:[kr]},$$scope:{ctx:t}}}),{c(){et(e.$$.fragment)},m(t,r){nt(e,t,r),n=!0},p(t,[n]){const r={};1&n&&(r.id=t[0]),4&n&&(r.name=t[2].name),8&n&&(r.unused=t[5](t[3])),2054&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(W(e.$$.fragment,t),n=!0)},o(t){Z(e.$$.fragment,t),n=!1},d(t){rt(e,t)}}}function xr(e,n,r){let i,o=t,l=()=>(o(),o=s(c,(t=>r(3,i=t))),c);e.$$.on_destroy.push((()=>o()));let{id:a}=n,{ref:c}=n;l();let{info:u}=n;return e.$$set=t=>{"id"in t&&r(0,a=t.id),"ref"in t&&l(r(1,c=t.ref)),"info"in t&&r(2,u=t.info)},[a,c,u,i,function(){if(Array.isArray(u.checkbox)){const t=u.checkbox.some((({refPath:t})=>!c.ref(t).get())),e={};for(const{refPath:n}of u.checkbox)e[n]=t;Nn(c.replace(e))}else{Nn(c.replace(!c.get()))}},function(t){return Array.isArray(u.checkbox)?u.checkbox.every((({refPath:t})=>!c.ref(t).get())):!t}]}class Tr extends st{constructor(t){super(),ot(this,t,xr,$r,o,{id:0,ref:1,info:2})}}function Hr(t,e,n){const r=t.slice();return r[5]=e[n].id,r[6]=e[n].valueRef,r[7]=e[n].info,r}function Cr(t,e,n){const r=t.slice();return r[5]=e[n].id,r[6]=e[n].valueRef,r[7]=e[n].info,r}function Mr(t){let e;return{c(){e=b("p"),e.textContent="Nothing Here!",S(e,"margin","0"),S(e,"padding","0.25em 1em")},m(t,n){m(t,e,n)},d(t){t&&v(e)}}}function Ar(t,e){let n,r,i,o;var s=e[4](e[7]);function l(t){return{props:{id:t[5],ref:t[6]}}}return s&&(r=new s(l(e))),{key:t,first:null,c(){n=b("li"),r&&et(r.$$.fragment),i=k(),this.first=n},m(t,e){m(t,n,e),r&&nt(r,n,null),g(n,i),o=!0},p(t,o){e=t;const a={};if(1&o&&(a.id=e[5]),1&o&&(a.ref=e[6]),s!==(s=e[4](e[7]))){if(r){Y();const t=r;Z(t.$$.fragment,1,0,(()=>{rt(t,1)})),X()}s?(r=new s(l(e)),et(r.$$.fragment),W(r.$$.fragment,1),nt(r,n,i)):r=null}else s&&r.$set(a)},i(t){o||(r&&W(r.$$.fragment,t),o=!0)},o(t){r&&Z(r.$$.fragment,t),o=!1},d(t){t&&v(n),r&&rt(r)}}}function Sr(t){let e,n,r=[],i=new Map,o=t[0];const s=t=>t[5];for(let e=0;e<o.length;e+=1){let n=Cr(t,o,e),l=s(n);i.set(l,r[e]=Ar(l,n))}return{c(){e=b("ul");for(let t=0;t<r.length;t+=1)r[t].c();C(e,"class","nolist")},m(t,i){m(t,e,i);for(let t=0;t<r.length;t+=1)r[t].m(e,null);n=!0},p(t,n){17&n&&(o=t[0],Y(),r=tt(r,n,s,1,t,o,i,e,Q,Ar,null,Cr),X())},i(t){if(!n){for(let t=0;t<o.length;t+=1)W(r[t]);n=!0}},o(t){for(let t=0;t<r.length;t+=1)Z(r[t]);n=!1},d(t){t&&v(e);for(let t=0;t<r.length;t+=1)r[t].d()}}}function Or(t,e){let n,r,i,o;var s=e[4](e[7]);function l(t){return{props:{id:t[5],ref:t[6]}}}return s&&(r=new s(l(e))),{key:t,first:null,c(){n=b("li"),r&&et(r.$$.fragment),i=k(),this.first=n},m(t,e){m(t,n,e),r&&nt(r,n,null),g(n,i),o=!0},p(t,o){e=t;const a={};if(2&o&&(a.id=e[5]),2&o&&(a.ref=e[6]),s!==(s=e[4](e[7]))){if(r){Y();const t=r;Z(t.$$.fragment,1,0,(()=>{rt(t,1)})),X()}s?(r=new s(l(e)),et(r.$$.fragment),W(r.$$.fragment,1),nt(r,n,i)):r=null}else s&&r.$set(a)},i(t){o||(r&&W(r.$$.fragment,t),o=!0)},o(t){r&&Z(r.$$.fragment,t),o=!1},d(t){t&&v(n),r&&rt(r)}}}function Er(t){let e,n,r=[],i=new Map,o=t[1];const s=t=>t[5];for(let e=0;e<o.length;e+=1){let n=Hr(t,o,e),l=s(n);i.set(l,r[e]=Or(l,n))}return{c(){e=b("ul");for(let t=0;t<r.length;t+=1)r[t].c();C(e,"class","nolist")},m(t,i){m(t,e,i);for(let t=0;t<r.length;t+=1)r[t].m(e,null);n=!0},p(t,n){18&n&&(o=t[1],Y(),r=tt(r,n,s,1,t,o,i,e,Q,Or,null,Hr),X())},i(t){if(!n){for(let t=0;t<o.length;t+=1)W(r[t]);n=!0}},o(t){for(let t=0;t<r.length;t+=1)Z(r[t]);n=!1},d(t){t&&v(e);for(let t=0;t<r.length;t+=1)r[t].d()}}}function Lr(t){let e;return{c(){e=b("p"),e.textContent="Nothing Here!",S(e,"margin","0"),S(e,"padding","0.25em 1em")},m(t,n){m(t,e,n)},d(t){t&&v(e)}}}function Ir(t){let e,n,r,i,o,s,l,a,c,u,d,h,f;return r=new ir({props:{title:"Solver Panel",$$slots:{default:[Mr]},$$scope:{ctx:t}}}),s=new ir({props:{title:"Global Constraints",$$slots:{default:[Sr]},$$scope:{ctx:t}}}),c=new ir({props:{title:"Local Constraints",$$slots:{default:[Er]},$$scope:{ctx:t}}}),h=new ir({props:{title:"Cosmetic Tools",$$slots:{default:[Lr]},$$scope:{ctx:t}}}),{c(){e=b("ul"),n=b("li"),et(r.$$.fragment),i=k(),o=b("li"),et(s.$$.fragment),l=k(),a=b("li"),et(c.$$.fragment),u=k(),d=b("li"),et(h.$$.fragment),C(e,"class","nolist")},m(t,p){m(t,e,p),g(e,n),nt(r,n,null),g(e,i),g(e,o),nt(s,o,null),g(e,l),g(e,a),nt(c,a,null),g(e,u),g(e,d),nt(h,d,null),f=!0},p(t,[e]){const n={};4096&e&&(n.$$scope={dirty:e,ctx:t}),r.$set(n);const i={};4097&e&&(i.$$scope={dirty:e,ctx:t}),s.$set(i);const o={};4098&e&&(o.$$scope={dirty:e,ctx:t}),c.$set(o);const l={};4096&e&&(l.$$scope={dirty:e,ctx:t}),h.$set(l)},i(t){f||(W(r.$$.fragment,t),W(s.$$.fragment,t),W(c.$$.fragment,t),W(h.$$.fragment,t),f=!0)},o(t){Z(r.$$.fragment,t),Z(s.$$.fragment,t),Z(c.$$.fragment,t),Z(h.$$.fragment,t),f=!1},d(t){t&&v(e),rt(r),rt(s),rt(c),rt(h)}}}function Dr(t,e,n){let r,i;const o=Dt(Zn,(t=>t.filter((({info:t})=>t.menu&&t.inGlobalMenu))));l(t,o,(t=>n(0,r=t)));const s=Dt(Zn,(t=>t.filter((({info:t})=>t.menu&&!t.inGlobalMenu))));return l(t,s,(t=>n(1,i=t))),[r,i,o,s,function(t){const e=t.menu;return null==e?null:function(t){if("select"===e.type)return t.props.info=e,new gr(t);if("checkbox"===e.type)return t.props.info=e,new Tr(t);throw Error(`Unknown menu type "${e.type}".`)}}]}class jr extends st{constructor(t){super(),ot(this,t,Dr,Ir,o,{})}}var Rr;
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
var Ur=function(t,e){return(Ur=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Pr(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Ur(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Nr=function(){return(Nr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function Gr(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function Fr(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||e)}
/**
     * @license
     * Copyright 2016 Google Inc.
     *
     * Permission is hereby granted, free of charge, to any person obtaining a copy
     * of this software and associated documentation files (the "Software"), to deal
     * in the Software without restriction, including without limitation the rights
     * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
     * copies of the Software, and to permit persons to whom the Software is
     * furnished to do so, subject to the following conditions:
     *
     * The above copyright notice and this permission notice shall be included in
     * all copies or substantial portions of the Software.
     *
     * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
     * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
     * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
     * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
     * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
     * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
     * THE SOFTWARE.
     */var zr=function(){function t(t){void 0===t&&(t={}),this.adapter=t}return Object.defineProperty(t,"cssClasses",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{}},enumerable:!1,configurable:!0}),t.prototype.init=function(){},t.prototype.destroy=function(){},t}(),Br=function(){function t(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];this.root=t,this.initialize.apply(this,Fr([],Gr(n))),this.foundation=void 0===e?this.getDefaultFoundation():e,this.foundation.init(),this.initialSyncWithDOM()}return t.attachTo=function(e){return new t(e,new zr({}))},t.prototype.initialize=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.getDefaultFoundation=function(){throw new Error("Subclasses must override getDefaultFoundation to return a properly configured foundation class")},t.prototype.initialSyncWithDOM=function(){},t.prototype.destroy=function(){this.foundation.destroy()},t.prototype.listen=function(t,e,n){this.root.addEventListener(t,e,n)},t.prototype.unlisten=function(t,e,n){this.root.removeEventListener(t,e,n)},t.prototype.emit=function(t,e,n){var r;void 0===n&&(n=!1),"function"==typeof CustomEvent?r=new CustomEvent(t,{bubbles:n,detail:e}):(r=document.createEvent("CustomEvent")).initCustomEvent(t,n,!1,e),this.root.dispatchEvent(r)},t}();
/**
     * @license
     * Copyright 2016 Google Inc.
     *
     * Permission is hereby granted, free of charge, to any person obtaining a copy
     * of this software and associated documentation files (the "Software"), to deal
     * in the Software without restriction, including without limitation the rights
     * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
     * copies of the Software, and to permit persons to whom the Software is
     * furnished to do so, subject to the following conditions:
     *
     * The above copyright notice and this permission notice shall be included in
     * all copies or substantial portions of the Software.
     *
     * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
     * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
     * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
     * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
     * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
     * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
     * THE SOFTWARE.
     */
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Permission is hereby granted, free of charge, to any person obtaining a copy
     * of this software and associated documentation files (the "Software"), to deal
     * in the Software without restriction, including without limitation the rights
     * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
     * copies of the Software, and to permit persons to whom the Software is
     * furnished to do so, subject to the following conditions:
     *
     * The above copyright notice and this permission notice shall be included in
     * all copies or substantial portions of the Software.
     *
     * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
     * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
     * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
     * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
     * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
     * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
     * THE SOFTWARE.
     */
function qr(t){return void 0===t&&(t=window),!!function(t){void 0===t&&(t=window);var e=!1;try{var n={get passive(){return e=!0,!1}},r=function(){};t.document.addEventListener("test",r,n),t.document.removeEventListener("test",r,n)}catch(t){e=!1}return e}
/**
     * @license
     * Copyright 2018 Google Inc.
     *
     * Permission is hereby granted, free of charge, to any person obtaining a copy
     * of this software and associated documentation files (the "Software"), to deal
     * in the Software without restriction, including without limitation the rights
     * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
     * copies of the Software, and to permit persons to whom the Software is
     * furnished to do so, subject to the following conditions:
     *
     * The above copyright notice and this permission notice shall be included in
     * all copies or substantial portions of the Software.
     *
     * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
     * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
     * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
     * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
     * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
     * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
     * THE SOFTWARE.
     */(t)&&{passive:!0}}
/**
     * @license
     * Copyright 2016 Google Inc.
     *
     * Permission is hereby granted, free of charge, to any person obtaining a copy
     * of this software and associated documentation files (the "Software"), to deal
     * in the Software without restriction, including without limitation the rights
     * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
     * copies of the Software, and to permit persons to whom the Software is
     * furnished to do so, subject to the following conditions:
     *
     * The above copyright notice and this permission notice shall be included in
     * all copies or substantial portions of the Software.
     *
     * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
     * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
     * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
     * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
     * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
     * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
     * THE SOFTWARE.
     */
var Vr={BG_FOCUSED:"mdc-ripple-upgraded--background-focused",FG_ACTIVATION:"mdc-ripple-upgraded--foreground-activation",FG_DEACTIVATION:"mdc-ripple-upgraded--foreground-deactivation",ROOT:"mdc-ripple-upgraded",UNBOUNDED:"mdc-ripple-upgraded--unbounded"},Kr={VAR_FG_SCALE:"--mdc-ripple-fg-scale",VAR_FG_SIZE:"--mdc-ripple-fg-size",VAR_FG_TRANSLATE_END:"--mdc-ripple-fg-translate-end",VAR_FG_TRANSLATE_START:"--mdc-ripple-fg-translate-start",VAR_LEFT:"--mdc-ripple-left",VAR_TOP:"--mdc-ripple-top"},Yr={DEACTIVATION_TIMEOUT_MS:225,FG_DEACTIVATION_MS:150,INITIAL_ORIGIN_SCALE:.6,PADDING:10,TAP_DELAY_MS:300},Xr=["touchstart","pointerdown","mousedown","keydown"],Wr=["touchend","pointerup","mouseup","contextmenu"],Zr=[],Jr=function(t){function e(n){var r=t.call(this,Nr(Nr({},e.defaultAdapter),n))||this;return r.activationAnimationHasEnded_=!1,r.activationTimer_=0,r.fgDeactivationRemovalTimer_=0,r.fgScale_="0",r.frame_={width:0,height:0},r.initialSize_=0,r.layoutFrame_=0,r.maxRadius_=0,r.unboundedCoords_={left:0,top:0},r.activationState_=r.defaultActivationState_(),r.activationTimerCallback_=function(){r.activationAnimationHasEnded_=!0,r.runDeactivationUXLogicIfReady_()},r.activateHandler_=function(t){return r.activate_(t)},r.deactivateHandler_=function(){return r.deactivate_()},r.focusHandler_=function(){return r.handleFocus()},r.blurHandler_=function(){return r.handleBlur()},r.resizeHandler_=function(){return r.layout()},r}return Pr(e,t),Object.defineProperty(e,"cssClasses",{get:function(){return Vr},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return Kr},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return Yr},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},browserSupportsCssVars:function(){return!0},computeBoundingRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},containsEventTarget:function(){return!0},deregisterDocumentInteractionHandler:function(){},deregisterInteractionHandler:function(){},deregisterResizeHandler:function(){},getWindowPageOffset:function(){return{x:0,y:0}},isSurfaceActive:function(){return!0},isSurfaceDisabled:function(){return!0},isUnbounded:function(){return!0},registerDocumentInteractionHandler:function(){},registerInteractionHandler:function(){},registerResizeHandler:function(){},removeClass:function(){},updateCssVariable:function(){}}},enumerable:!1,configurable:!0}),e.prototype.init=function(){var t=this,n=this.supportsPressRipple_();if(this.registerRootHandlers_(n),n){var r=e.cssClasses,i=r.ROOT,o=r.UNBOUNDED;requestAnimationFrame((function(){t.adapter.addClass(i),t.adapter.isUnbounded()&&(t.adapter.addClass(o),t.layoutInternal_())}))}},e.prototype.destroy=function(){var t=this;if(this.supportsPressRipple_()){this.activationTimer_&&(clearTimeout(this.activationTimer_),this.activationTimer_=0,this.adapter.removeClass(e.cssClasses.FG_ACTIVATION)),this.fgDeactivationRemovalTimer_&&(clearTimeout(this.fgDeactivationRemovalTimer_),this.fgDeactivationRemovalTimer_=0,this.adapter.removeClass(e.cssClasses.FG_DEACTIVATION));var n=e.cssClasses,r=n.ROOT,i=n.UNBOUNDED;requestAnimationFrame((function(){t.adapter.removeClass(r),t.adapter.removeClass(i),t.removeCssVars_()}))}this.deregisterRootHandlers_(),this.deregisterDeactivationHandlers_()},e.prototype.activate=function(t){this.activate_(t)},e.prototype.deactivate=function(){this.deactivate_()},e.prototype.layout=function(){var t=this;this.layoutFrame_&&cancelAnimationFrame(this.layoutFrame_),this.layoutFrame_=requestAnimationFrame((function(){t.layoutInternal_(),t.layoutFrame_=0}))},e.prototype.setUnbounded=function(t){var n=e.cssClasses.UNBOUNDED;t?this.adapter.addClass(n):this.adapter.removeClass(n)},e.prototype.handleFocus=function(){var t=this;requestAnimationFrame((function(){return t.adapter.addClass(e.cssClasses.BG_FOCUSED)}))},e.prototype.handleBlur=function(){var t=this;requestAnimationFrame((function(){return t.adapter.removeClass(e.cssClasses.BG_FOCUSED)}))},e.prototype.supportsPressRipple_=function(){return this.adapter.browserSupportsCssVars()},e.prototype.defaultActivationState_=function(){return{activationEvent:void 0,hasDeactivationUXRun:!1,isActivated:!1,isProgrammatic:!1,wasActivatedByPointer:!1,wasElementMadeActive:!1}},e.prototype.registerRootHandlers_=function(t){var e=this;t&&(Xr.forEach((function(t){e.adapter.registerInteractionHandler(t,e.activateHandler_)})),this.adapter.isUnbounded()&&this.adapter.registerResizeHandler(this.resizeHandler_)),this.adapter.registerInteractionHandler("focus",this.focusHandler_),this.adapter.registerInteractionHandler("blur",this.blurHandler_)},e.prototype.registerDeactivationHandlers_=function(t){var e=this;"keydown"===t.type?this.adapter.registerInteractionHandler("keyup",this.deactivateHandler_):Wr.forEach((function(t){e.adapter.registerDocumentInteractionHandler(t,e.deactivateHandler_)}))},e.prototype.deregisterRootHandlers_=function(){var t=this;Xr.forEach((function(e){t.adapter.deregisterInteractionHandler(e,t.activateHandler_)})),this.adapter.deregisterInteractionHandler("focus",this.focusHandler_),this.adapter.deregisterInteractionHandler("blur",this.blurHandler_),this.adapter.isUnbounded()&&this.adapter.deregisterResizeHandler(this.resizeHandler_)},e.prototype.deregisterDeactivationHandlers_=function(){var t=this;this.adapter.deregisterInteractionHandler("keyup",this.deactivateHandler_),Wr.forEach((function(e){t.adapter.deregisterDocumentInteractionHandler(e,t.deactivateHandler_)}))},e.prototype.removeCssVars_=function(){var t=this,n=e.strings;Object.keys(n).forEach((function(e){0===e.indexOf("VAR_")&&t.adapter.updateCssVariable(n[e],null)}))},e.prototype.activate_=function(t){var e=this;if(!this.adapter.isSurfaceDisabled()){var n=this.activationState_;if(!n.isActivated){var r=this.previousActivationEvent_;if(!(r&&void 0!==t&&r.type!==t.type))n.isActivated=!0,n.isProgrammatic=void 0===t,n.activationEvent=t,n.wasActivatedByPointer=!n.isProgrammatic&&(void 0!==t&&("mousedown"===t.type||"touchstart"===t.type||"pointerdown"===t.type)),void 0!==t&&Zr.length>0&&Zr.some((function(t){return e.adapter.containsEventTarget(t)}))?this.resetActivationState_():(void 0!==t&&(Zr.push(t.target),this.registerDeactivationHandlers_(t)),n.wasElementMadeActive=this.checkElementMadeActive_(t),n.wasElementMadeActive&&this.animateActivation_(),requestAnimationFrame((function(){Zr=[],n.wasElementMadeActive||void 0===t||" "!==t.key&&32!==t.keyCode||(n.wasElementMadeActive=e.checkElementMadeActive_(t),n.wasElementMadeActive&&e.animateActivation_()),n.wasElementMadeActive||(e.activationState_=e.defaultActivationState_())})))}}},e.prototype.checkElementMadeActive_=function(t){return void 0===t||"keydown"!==t.type||this.adapter.isSurfaceActive()},e.prototype.animateActivation_=function(){var t=this,n=e.strings,r=n.VAR_FG_TRANSLATE_START,i=n.VAR_FG_TRANSLATE_END,o=e.cssClasses,s=o.FG_DEACTIVATION,l=o.FG_ACTIVATION,a=e.numbers.DEACTIVATION_TIMEOUT_MS;this.layoutInternal_();var c="",u="";if(!this.adapter.isUnbounded()){var d=this.getFgTranslationCoordinates_(),h=d.startPoint,f=d.endPoint;c=h.x+"px, "+h.y+"px",u=f.x+"px, "+f.y+"px"}this.adapter.updateCssVariable(r,c),this.adapter.updateCssVariable(i,u),clearTimeout(this.activationTimer_),clearTimeout(this.fgDeactivationRemovalTimer_),this.rmBoundedActivationClasses_(),this.adapter.removeClass(s),this.adapter.computeBoundingRect(),this.adapter.addClass(l),this.activationTimer_=setTimeout((function(){return t.activationTimerCallback_()}),a)},e.prototype.getFgTranslationCoordinates_=function(){var t,e=this.activationState_,n=e.activationEvent;return{startPoint:t={x:(t=e.wasActivatedByPointer?function(t,e,n){if(!t)return{x:0,y:0};var r,i,o=e.x,s=e.y,l=o+n.left,a=s+n.top;if("touchstart"===t.type){var c=t;r=c.changedTouches[0].pageX-l,i=c.changedTouches[0].pageY-a}else{var u=t;r=u.pageX-l,i=u.pageY-a}return{x:r,y:i}}(n,this.adapter.getWindowPageOffset(),this.adapter.computeBoundingRect()):{x:this.frame_.width/2,y:this.frame_.height/2}).x-this.initialSize_/2,y:t.y-this.initialSize_/2},endPoint:{x:this.frame_.width/2-this.initialSize_/2,y:this.frame_.height/2-this.initialSize_/2}}},e.prototype.runDeactivationUXLogicIfReady_=function(){var t=this,n=e.cssClasses.FG_DEACTIVATION,r=this.activationState_,i=r.hasDeactivationUXRun,o=r.isActivated;(i||!o)&&this.activationAnimationHasEnded_&&(this.rmBoundedActivationClasses_(),this.adapter.addClass(n),this.fgDeactivationRemovalTimer_=setTimeout((function(){t.adapter.removeClass(n)}),Yr.FG_DEACTIVATION_MS))},e.prototype.rmBoundedActivationClasses_=function(){var t=e.cssClasses.FG_ACTIVATION;this.adapter.removeClass(t),this.activationAnimationHasEnded_=!1,this.adapter.computeBoundingRect()},e.prototype.resetActivationState_=function(){var t=this;this.previousActivationEvent_=this.activationState_.activationEvent,this.activationState_=this.defaultActivationState_(),setTimeout((function(){return t.previousActivationEvent_=void 0}),e.numbers.TAP_DELAY_MS)},e.prototype.deactivate_=function(){var t=this,e=this.activationState_;if(e.isActivated){var n=Nr({},e);e.isProgrammatic?(requestAnimationFrame((function(){return t.animateDeactivation_(n)})),this.resetActivationState_()):(this.deregisterDeactivationHandlers_(),requestAnimationFrame((function(){t.activationState_.hasDeactivationUXRun=!0,t.animateDeactivation_(n),t.resetActivationState_()})))}},e.prototype.animateDeactivation_=function(t){var e=t.wasActivatedByPointer,n=t.wasElementMadeActive;(e||n)&&this.runDeactivationUXLogicIfReady_()},e.prototype.layoutInternal_=function(){var t=this;this.frame_=this.adapter.computeBoundingRect();var n=Math.max(this.frame_.height,this.frame_.width);this.maxRadius_=this.adapter.isUnbounded()?n:Math.sqrt(Math.pow(t.frame_.width,2)+Math.pow(t.frame_.height,2))+e.numbers.PADDING;var r=Math.floor(n*e.numbers.INITIAL_ORIGIN_SCALE);this.adapter.isUnbounded()&&r%2!=0?this.initialSize_=r-1:this.initialSize_=r,this.fgScale_=""+this.maxRadius_/this.initialSize_,this.updateLayoutCssVars_()},e.prototype.updateLayoutCssVars_=function(){var t=e.strings,n=t.VAR_FG_SIZE,r=t.VAR_LEFT,i=t.VAR_TOP,o=t.VAR_FG_SCALE;this.adapter.updateCssVariable(n,this.initialSize_+"px"),this.adapter.updateCssVariable(o,this.fgScale_),this.adapter.isUnbounded()&&(this.unboundedCoords_={left:Math.round(this.frame_.width/2-this.initialSize_/2),top:Math.round(this.frame_.height/2-this.initialSize_/2)},this.adapter.updateCssVariable(r,this.unboundedCoords_.left+"px"),this.adapter.updateCssVariable(i,this.unboundedCoords_.top+"px"))},e}(zr),Qr=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.disabled=!1,e}return Pr(e,t),e.attachTo=function(t,n){void 0===n&&(n={isUnbounded:void 0});var r=new e(t);return void 0!==n.isUnbounded&&(r.unbounded=n.isUnbounded),r},e.createAdapter=function(t){return{addClass:function(e){return t.root.classList.add(e)},browserSupportsCssVars:function(){return function(t,e){void 0===e&&(e=!1);var n,r=t.CSS;if("boolean"==typeof Rr&&!e)return Rr;if(!r||"function"!=typeof r.supports)return!1;var i=r.supports("--css-vars","yes"),o=r.supports("(--css-vars: yes)")&&r.supports("color","#00000000");return n=i||o,e||(Rr=n),n}(window)},computeBoundingRect:function(){return t.root.getBoundingClientRect()},containsEventTarget:function(e){return t.root.contains(e)},deregisterDocumentInteractionHandler:function(t,e){return document.documentElement.removeEventListener(t,e,qr())},deregisterInteractionHandler:function(e,n){return t.root.removeEventListener(e,n,qr())},deregisterResizeHandler:function(t){return window.removeEventListener("resize",t)},getWindowPageOffset:function(){return{x:window.pageXOffset,y:window.pageYOffset}},isSurfaceActive:function(){return function(t,e){return(t.matches||t.webkitMatchesSelector||t.msMatchesSelector).call(t,e)}(t.root,":active")},isSurfaceDisabled:function(){return Boolean(t.disabled)},isUnbounded:function(){return Boolean(t.unbounded)},registerDocumentInteractionHandler:function(t,e){return document.documentElement.addEventListener(t,e,qr())},registerInteractionHandler:function(e,n){return t.root.addEventListener(e,n,qr())},registerResizeHandler:function(t){return window.addEventListener("resize",t)},removeClass:function(e){return t.root.classList.remove(e)},updateCssVariable:function(e,n){return t.root.style.setProperty(e,n)}}},Object.defineProperty(e.prototype,"unbounded",{get:function(){return Boolean(this.unbounded_)},set:function(t){this.unbounded_=Boolean(t),this.setUnbounded_()},enumerable:!1,configurable:!0}),e.prototype.activate=function(){this.foundation.activate()},e.prototype.deactivate=function(){this.foundation.deactivate()},e.prototype.layout=function(){this.foundation.layout()},e.prototype.getDefaultFoundation=function(){return new Jr(e.createAdapter(this))},e.prototype.initialSyncWithDOM=function(){var t=this.root;this.unbounded="mdcRippleIsUnbounded"in t.dataset},e.prototype.setUnbounded_=function(){this.foundation.setUnbounded(Boolean(this.unbounded_))},e}(Br);function ti(e){let n,o,s,l,a,c,u,d,h,f,p,y,w,_,$,T,H,M,A,O,E,L,I,D,j,R,U,P,N,G,F,z,B,q,V,K,Y,X,W,Z,J,Q,tt,et,nt,rt,it,ot,st,lt,at,ct,ut,dt,ht,ft;return{c(){n=b("div"),o=b("div"),s=b("div"),l=b("div"),a=b("input"),c=k(),u=b("label"),u.innerHTML='<span aria-hidden="true">1</span> \n                    <span class="sr-only">Digits</span>',d=k(),h=b("div"),f=b("input"),p=k(),y=b("label"),y.innerHTML='<span aria-hidden="true" style="font-size: 50%;"><span style="position: absolute; top:    12%; left:  20%;">1</span> \n                        <span style="position: absolute; top:    12%; right: 20%;">2</span> \n                        <span style="position: absolute; bottom: 12%; left:  20%;">3</span></span> \n                    <span class="sr-only">Corner Marks</span>',w=k(),_=b("div"),$=b("input"),T=k(),H=b("label"),H.innerHTML='<span aria-hidden="true" style="font-size: 50%;">123</span> \n                    <span class="sr-only">Center Marks</span>',M=k(),A=b("div"),O=b("input"),E=k(),L=b("label"),L.innerHTML='<span class="icon icon-inline icon-c-textinv icon-colors svelte-hmnhaq"></span> \n                    <span class="sr-only">Colors</span>',I=k(),D=b("div"),j=b("div"),R=b("div"),U=b("button"),U.textContent="1",P=k(),N=b("button"),N.textContent="2",G=k(),F=b("button"),F.textContent="3",z=k(),B=b("button"),B.textContent="4",q=k(),V=b("button"),V.textContent="5",K=k(),Y=b("button"),Y.textContent="6",X=k(),W=b("button"),W.textContent="7",Z=k(),J=b("button"),J.textContent="8",Q=k(),tt=b("button"),tt.textContent="9",et=k(),nt=b("button"),nt.textContent="0",rt=k(),it=b("button"),it.innerHTML='<span class="icon icon-inline icon-c-textinv icon-delete"></span>',ot=k(),st=b("div"),lt=b("button"),lt.innerHTML='<span class="icon icon-inline icon-c-textinv icon-undo"></span>',at=k(),ct=b("button"),ct.innerHTML='<span class="icon icon-inline icon-c-textinv icon-undo redo"></span>',ut=k(),dt=b("button"),dt.innerHTML='<span class="icon icon-inline icon-c-textinv icon-screenshot"></span>',C(a,"class","radio-mode-button svelte-hmnhaq"),C(a,"type","radio"),C(a,"name",Pn),C(a,"id","mode-radio-digits"),a.__value=e[0],a.value=a.__value,e[12][0].push(a),C(u,"class","mdc-ripple-surface padbutton padbutton-mode svelte-hmnhaq"),C(u,"role","button"),C(u,"for","mode-radio-digits"),C(l,"class","svelte-hmnhaq"),C(f,"class","radio-mode-button svelte-hmnhaq"),C(f,"type","radio"),C(f,"name",Pn),C(f,"id","mode-radio-corner"),f.__value=e[2],f.value=f.__value,e[12][0].push(f),C(y,"class","mdc-ripple-surface padbutton padbutton-mode svelte-hmnhaq"),C(y,"role","button"),C(y,"for","mode-radio-corner"),C(h,"class","svelte-hmnhaq"),C($,"class","radio-mode-button svelte-hmnhaq"),C($,"type","radio"),C($,"name",Pn),C($,"id","mode-radio-center"),$.__value=e[3],$.value=$.__value,e[12][0].push($),C(H,"class","mdc-ripple-surface padbutton padbutton-mode svelte-hmnhaq"),C(H,"role","button"),C(H,"for","mode-radio-center"),C(_,"class","svelte-hmnhaq"),C(O,"class","radio-mode-button svelte-hmnhaq"),C(O,"type","radio"),C(O,"name",Pn),C(O,"id","mode-radio-colors"),O.__value=e[4],O.value=O.__value,e[12][0].push(O),C(L,"class","mdc-ripple-surface padbutton padbutton-mode svelte-hmnhaq"),C(L,"role","button"),C(L,"for","mode-radio-colors"),C(A,"class","svelte-hmnhaq"),C(s,"class","mode-pad svelte-hmnhaq"),C(o,"class","mode-pad-container svelte-hmnhaq"),C(U,"class","mdc-ripple-surface padbutton svelte-hmnhaq"),S(U,"grid-area","1 / 1 / 2 / 2"),U.value="1",C(N,"class","mdc-ripple-surface padbutton svelte-hmnhaq"),S(N,"grid-area","1 / 2 / 2 / 3"),N.value="2",C(F,"class","mdc-ripple-surface padbutton svelte-hmnhaq"),S(F,"grid-area","1 / 3 / 2 / 4"),F.value="3",C(B,"class","mdc-ripple-surface padbutton svelte-hmnhaq"),S(B,"grid-area","2 / 1 / 3 / 2"),B.value="4",C(V,"class","mdc-ripple-surface padbutton svelte-hmnhaq"),S(V,"grid-area","2 / 2 / 3 / 3"),V.value="5",C(Y,"class","mdc-ripple-surface padbutton svelte-hmnhaq"),S(Y,"grid-area","2 / 3 / 3 / 4"),Y.value="6",C(W,"class","mdc-ripple-surface padbutton svelte-hmnhaq"),S(W,"grid-area","3 / 1 / 4 / 2"),W.value="7",C(J,"class","mdc-ripple-surface padbutton svelte-hmnhaq"),S(J,"grid-area","3 / 2 / 4 / 3"),J.value="8",C(tt,"class","mdc-ripple-surface padbutton svelte-hmnhaq"),S(tt,"grid-area","3 / 3 / 4 / 4"),tt.value="9",C(nt,"class","mdc-ripple-surface padbutton svelte-hmnhaq"),S(nt,"grid-area","4 / 1 / 5 / 2"),nt.value="0",C(it,"class","mdc-ripple-surface padbutton svelte-hmnhaq"),S(it,"grid-area","4 / 2 / 5 / 4"),it.value="Delete",C(it,"title","Delete"),C(it,"aria-label","Delete"),C(R,"class","num-pad svelte-hmnhaq"),C(lt,"class","mdc-ripple-surface padbutton svelte-hmnhaq"),C(lt,"title","Undo"),C(lt,"aria-label","Undo"),C(ct,"class","mdc-ripple-surface padbutton svelte-hmnhaq"),C(ct,"title","Redo"),C(ct,"aria-label","Redo"),C(dt,"class","mdc-ripple-surface padbutton svelte-hmnhaq"),C(dt,"title","Take Screenshot"),C(dt,"aria-label","Take Screenshot"),C(st,"class","ctrl-pad svelte-hmnhaq"),C(j,"class","right svelte-hmnhaq"),C(D,"class","right-container svelte-hmnhaq"),C(n,"class","container svelte-hmnhaq")},m(t,r){m(t,n,r),g(n,o),g(o,s),g(s,l),g(l,a),a.checked=a.__value===e[1],g(l,c),g(l,u),g(s,d),g(s,h),g(h,f),f.checked=f.__value===e[1],g(h,p),g(h,y),g(s,w),g(s,_),g(_,$),$.checked=$.__value===e[1],g(_,T),g(_,H),g(s,M),g(s,A),g(A,O),O.checked=O.__value===e[1],g(A,E),g(A,L),g(n,I),g(n,D),g(D,j),g(j,R),g(R,U),g(R,P),g(R,N),g(R,G),g(R,F),g(R,z),g(R,B),g(R,q),g(R,V),g(R,K),g(R,Y),g(R,X),g(R,W),g(R,Z),g(R,J),g(R,Q),g(R,tt),g(R,et),g(R,nt),g(R,rt),g(R,it),g(j,ot),g(j,st),g(st,lt),g(st,at),g(st,ct),g(st,ut),g(st,dt),ht||(ft=[x(a,"change",e[11]),x(a,"change",e[6]),x(f,"change",e[13]),x(f,"change",e[6]),x($,"change",e[14]),x($,"change",e[6]),x(O,"change",e[15]),x(O,"change",e[6]),x(U,"click",(function(){i(e[5]&&e[5].padClick||void 0)&&(e[5]&&e[5].padClick||void 0).apply(this,arguments)})),x(N,"click",(function(){i(e[5]&&e[5].padClick||void 0)&&(e[5]&&e[5].padClick||void 0).apply(this,arguments)})),x(F,"click",(function(){i(e[5]&&e[5].padClick||void 0)&&(e[5]&&e[5].padClick||void 0).apply(this,arguments)})),x(B,"click",(function(){i(e[5]&&e[5].padClick||void 0)&&(e[5]&&e[5].padClick||void 0).apply(this,arguments)})),x(V,"click",(function(){i(e[5]&&e[5].padClick||void 0)&&(e[5]&&e[5].padClick||void 0).apply(this,arguments)})),x(Y,"click",(function(){i(e[5]&&e[5].padClick||void 0)&&(e[5]&&e[5].padClick||void 0).apply(this,arguments)})),x(W,"click",(function(){i(e[5]&&e[5].padClick||void 0)&&(e[5]&&e[5].padClick||void 0).apply(this,arguments)})),x(J,"click",(function(){i(e[5]&&e[5].padClick||void 0)&&(e[5]&&e[5].padClick||void 0).apply(this,arguments)})),x(tt,"click",(function(){i(e[5]&&e[5].padClick||void 0)&&(e[5]&&e[5].padClick||void 0).apply(this,arguments)})),x(nt,"click",(function(){i(e[5]&&e[5].padClick||void 0)&&(e[5]&&e[5].padClick||void 0).apply(this,arguments)})),x(it,"click",(function(){i(e[5]&&e[5].padClick||void 0)&&(e[5]&&e[5].padClick||void 0).apply(this,arguments)})),x(lt,"click",e[16]),x(ct,"click",e[17])],ht=!0)},p(t,[n]){e=t,1&n&&(a.__value=e[0],a.value=a.__value),2&n&&(a.checked=a.__value===e[1]),4&n&&(f.__value=e[2],f.value=f.__value),2&n&&(f.checked=f.__value===e[1]),8&n&&($.__value=e[3],$.value=$.__value),2&n&&($.checked=$.__value===e[1]),16&n&&(O.__value=e[4],O.value=O.__value),2&n&&(O.checked=O.__value===e[1])},i:t,o:t,d(t){t&&v(n),e[12][0].splice(e[12][0].indexOf(a),1),e[12][0].splice(e[12][0].indexOf(f),1),e[12][0].splice(e[12][0].indexOf($),1),e[12][0].splice(e[12][0].indexOf(O),1),ht=!1,r(ft)}}}function ei(t,e,n){let r,i,o,s,a,c;var u;l(t,Un,(t=>n(1,i=t))),l(t,Jn,(t=>n(5,c=t))),u=()=>Array.prototype.forEach.call(document.getElementsByClassName("mdc-ripple-surface"),(t=>Qr.attachTo(t))),L().$$.on_mount.push(u);const d=In.ref("marks","filled");l(t,d,(t=>n(0,r=t)));const h=In.ref("marks","corner");l(t,h,(t=>n(2,o=t)));const f=In.ref("marks","center");l(t,f,(t=>n(3,s=t)));const p=In.ref("marks","colors");l(t,p,(t=>n(4,a=t)));return[r,i,o,s,a,c,function(){Rn.set(Un.get())},d,h,f,p,function(){i=this.__value,Un.set(i)},[[]],function(){i=this.__value,Un.set(i)},function(){i=this.__value,Un.set(i)},function(){i=this.__value,Un.set(i)},()=>Gn(!1),()=>Gn(!0)]}class ni extends st{constructor(t){super(),ot(this,t,ei,ti,o,{})}}function ri(t){let e,n,i,o,s,l,a,c,u,d,h,f,p;return i=new ni({}),{c(){e=b("div"),n=b("div"),et(i.$$.fragment),o=k(),s=b("div"),l=b("input"),a=k(),c=b("input"),u=k(),d=b("textarea"),C(n,"class","entry-pad svelte-fcgi7u"),C(l,"class","info-input title svelte-fcgi7u"),C(l,"type","text"),C(l,"placeholder","Untitled"),C(c,"class","info-input setter svelte-fcgi7u"),C(c,"type","text"),C(c,"placeholder","Anonymous"),C(d,"class","rules-text svelte-fcgi7u"),C(d,"spellcheck","false"),C(s,"class","entry-info svelte-fcgi7u"),C(e,"class","entry-column svelte-fcgi7u")},m(r,v){m(r,e,v),g(e,n),nt(i,n,null),t[7](n),g(e,o),g(e,s),g(s,l),A(l,t[1]),g(s,a),g(s,c),A(c,t[2]),g(s,u),g(s,d),A(d,t[3]),h=!0,f||(p=[x(l,"input",t[8]),x(c,"input",t[9]),x(d,"input",t[10]),x(d,"focus",ii),x(d,"blur",ii)],f=!0)},p(t,[e]){2&e&&l.value!==t[1]&&A(l,t[1]),4&e&&c.value!==t[2]&&A(c,t[2]),8&e&&A(d,t[3])},i(t){h||(W(i.$$.fragment,t),h=!0)},o(t){Z(i.$$.fragment,t),h=!1},d(n){n&&v(e),rt(i),t[7](null),f=!1,r(p)}}}function ii(t){t.currentTarget.setAttribute("spellcheck",`${document.activeElement===t.currentTarget}`)}function oi(t,e,n){let r,i,o,s;function a(){n(0,s.style.fontSize=.12*s.clientWidth+"px",s)}var c;window.addEventListener("resize",a),c=()=>window.removeEventListener("resize",a),L().$$.on_destroy.push(c),requestAnimationFrame(a);const u=Ut.ref("meta","title");l(t,u,(t=>n(1,r=t)));const d=Ut.ref("meta","author");l(t,d,(t=>n(2,i=t)));const h=Ut.ref("meta","description");return l(t,h,(t=>n(3,o=t))),[s,r,i,o,u,d,h,function(t){j[t?"unshift":"push"]((()=>{s=t,n(0,s)}))},function(){r=this.value,u.set(r)},function(){i=this.value,d.set(i)},function(){o=this.value,h.set(o)}]}class si extends st{constructor(t){super(),ot(this,t,oi,ri,o,{})}}function li(e){let n,r,i;return{c(){n=b("div"),n.innerHTML='<ul class="header-buttons left svelte-1gtf4ed"><li>Solving/Setting</li> \n        <li>New Grid</li> \n        <li>Export</li></ul>',r=k(),i=b("div"),i.innerHTML='<ul class="header-buttons right svelte-1gtf4ed"><li>Light/dark</li> \n        <li>Help</li> \n        <li>Settings</li></ul>',C(n,"class","header-left svelte-1gtf4ed"),C(i,"class","header-right svelte-1gtf4ed")},m(t,e){m(t,n,e),m(t,r,e),m(t,i,e)},p:t,i:t,o:t,d(t){t&&v(n),t&&v(r),t&&v(i)}}}class ai extends st{constructor(t){super(),ot(this,t,null,li,o,{})}}function ci(e){let n,r,i,o,s,l,a,c,u,d,h,f,p,y,w,_,$,T,H,M,A,S,O,E;return l=new ai({}),f=new jr({}),w=new er({}),T=new si({}),{c(){n=b("header"),r=b("button"),r.textContent="Jump To Board",i=k(),o=b("div"),s=b("div"),et(l.$$.fragment),a=k(),c=b("main"),u=b("div"),d=b("div"),h=b("div"),et(f.$$.fragment),p=k(),y=b("div"),et(w.$$.fragment),_=k(),$=b("div"),et(T.$$.fragment),H=k(),M=b("footer"),A=b("a"),A.textContent="Sudoku Studio version 8e88fe2",C(r,"class","nobutton focus-skip"),C(s,"class","content-row"),C(o,"class","content"),C(n,"class","svelte-uq8vao"),C(h,"class","left-panel svelte-uq8vao"),C(y,"class","center-panel svelte-uq8vao"),C($,"class","right-panel svelte-uq8vao"),C(d,"class","content-row svelte-uq8vao"),C(u,"class","content svelte-uq8vao"),C(c,"class","svelte-uq8vao"),C(A,"href","https://github.com/SudokuStudio/SudokuStudio"),C(M,"class","svelte-uq8vao")},m(t,v){m(t,n,v),g(n,r),g(n,i),g(n,o),g(o,s),nt(l,s,null),m(t,a,v),m(t,c,v),g(c,u),g(u,d),g(d,h),nt(f,h,null),g(d,p),g(d,y),nt(w,y,null),g(d,_),g(d,$),nt(T,$,null),m(t,H,v),m(t,M,v),g(M,A),S=!0,O||(E=x(r,"click",e[1]),O=!0)},p:t,i(t){S||(W(l.$$.fragment,t),W(f.$$.fragment,t),W(w.$$.fragment,t),W(T.$$.fragment,t),S=!0)},o(t){Z(l.$$.fragment,t),Z(f.$$.fragment,t),Z(w.$$.fragment,t),Z(T.$$.fragment,t),S=!1},d(t){t&&v(n),rt(l),t&&v(a),t&&v(c),rt(f),rt(w),rt(T),t&&v(H),t&&v(M),O=!1,E()}}}function ui(t,e,n){let r;l(t,Rt,(t=>n(0,r=t)));return[r,()=>r&&r.focus()]}return new class extends st{constructor(t){super(),ot(this,t,ui,ci,o,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
