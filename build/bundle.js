var sudoku_studio_web=function(){"use strict";function e(e,t,n){var r,o,i,l,s;function a(){var u=Date.now()-l;u<t&&u>=0?r=setTimeout(a,t-u):(r=null,n||(s=e.apply(i,o),i=o=null))}null==t&&(t=100);var u=function(){i=this,o=arguments,l=Date.now();var u=n&&!r;return r||(r=setTimeout(a,t)),u&&(s=e.apply(i,o),i=o=null),s};return u.clear=function(){r&&(clearTimeout(r),r=null)},u.flush=function(){r&&(s=e.apply(i,o),i=o=null,clearTimeout(r),r=null)},u}e.debounce=e;var t=e;function n(e){var t={exports:{}};return e(t,t.exports),t.exports}var r=n((function(e){var t=function(){var e=String.fromCharCode,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",r={};function o(e,t){if(!r[e]){r[e]={};for(var n=0;n<e.length;n++)r[e][e.charAt(n)]=n}return r[e][t]}var i={compressToBase64:function(e){if(null==e)return"";var n=i._compress(e,6,(function(e){return t.charAt(e)}));switch(n.length%4){default:case 0:return n;case 1:return n+"===";case 2:return n+"==";case 3:return n+"="}},decompressFromBase64:function(e){return null==e?"":""==e?null:i._decompress(e.length,32,(function(n){return o(t,e.charAt(n))}))},compressToUTF16:function(t){return null==t?"":i._compress(t,15,(function(t){return e(t+32)}))+" "},decompressFromUTF16:function(e){return null==e?"":""==e?null:i._decompress(e.length,16384,(function(t){return e.charCodeAt(t)-32}))},compressToUint8Array:function(e){for(var t=i.compress(e),n=new Uint8Array(2*t.length),r=0,o=t.length;r<o;r++){var l=t.charCodeAt(r);n[2*r]=l>>>8,n[2*r+1]=l%256}return n},decompressFromUint8Array:function(t){if(null==t)return i.decompress(t);for(var n=new Array(t.length/2),r=0,o=n.length;r<o;r++)n[r]=256*t[2*r]+t[2*r+1];var l=[];return n.forEach((function(t){l.push(e(t))})),i.decompress(l.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":i._compress(e,6,(function(e){return n.charAt(e)}))},decompressFromEncodedURIComponent:function(e){return null==e?"":""==e?null:(e=e.replace(/ /g,"+"),i._decompress(e.length,32,(function(t){return o(n,e.charAt(t))})))},compress:function(t){return i._compress(t,16,(function(t){return e(t)}))},_compress:function(e,t,n){if(null==e)return"";var r,o,i,l={},s={},a="",u="",c="",d=2,h=3,f=2,p=[],m=0,g=0;for(i=0;i<e.length;i+=1)if(a=e.charAt(i),Object.prototype.hasOwnProperty.call(l,a)||(l[a]=h++,s[a]=!0),u=c+a,Object.prototype.hasOwnProperty.call(l,u))c=u;else{if(Object.prototype.hasOwnProperty.call(s,c)){if(c.charCodeAt(0)<256){for(r=0;r<f;r++)m<<=1,g==t-1?(g=0,p.push(n(m)),m=0):g++;for(o=c.charCodeAt(0),r=0;r<8;r++)m=m<<1|1&o,g==t-1?(g=0,p.push(n(m)),m=0):g++,o>>=1}else{for(o=1,r=0;r<f;r++)m=m<<1|o,g==t-1?(g=0,p.push(n(m)),m=0):g++,o=0;for(o=c.charCodeAt(0),r=0;r<16;r++)m=m<<1|1&o,g==t-1?(g=0,p.push(n(m)),m=0):g++,o>>=1}0==--d&&(d=Math.pow(2,f),f++),delete s[c]}else for(o=l[c],r=0;r<f;r++)m=m<<1|1&o,g==t-1?(g=0,p.push(n(m)),m=0):g++,o>>=1;0==--d&&(d=Math.pow(2,f),f++),l[u]=h++,c=String(a)}if(""!==c){if(Object.prototype.hasOwnProperty.call(s,c)){if(c.charCodeAt(0)<256){for(r=0;r<f;r++)m<<=1,g==t-1?(g=0,p.push(n(m)),m=0):g++;for(o=c.charCodeAt(0),r=0;r<8;r++)m=m<<1|1&o,g==t-1?(g=0,p.push(n(m)),m=0):g++,o>>=1}else{for(o=1,r=0;r<f;r++)m=m<<1|o,g==t-1?(g=0,p.push(n(m)),m=0):g++,o=0;for(o=c.charCodeAt(0),r=0;r<16;r++)m=m<<1|1&o,g==t-1?(g=0,p.push(n(m)),m=0):g++,o>>=1}0==--d&&(d=Math.pow(2,f),f++),delete s[c]}else for(o=l[c],r=0;r<f;r++)m=m<<1|1&o,g==t-1?(g=0,p.push(n(m)),m=0):g++,o>>=1;0==--d&&(d=Math.pow(2,f),f++)}for(o=2,r=0;r<f;r++)m=m<<1|1&o,g==t-1?(g=0,p.push(n(m)),m=0):g++,o>>=1;for(;;){if(m<<=1,g==t-1){p.push(n(m));break}g++}return p.join("")},decompress:function(e){return null==e?"":""==e?null:i._decompress(e.length,32768,(function(t){return e.charCodeAt(t)}))},_decompress:function(t,n,r){var o,i,l,s,a,u,c,d=[],h=4,f=4,p=3,m="",g=[],v={val:r(0),position:n,index:1};for(o=0;o<3;o+=1)d[o]=o;for(l=0,a=Math.pow(2,2),u=1;u!=a;)s=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),l|=(s>0?1:0)*u,u<<=1;switch(l){case 0:for(l=0,a=Math.pow(2,8),u=1;u!=a;)s=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),l|=(s>0?1:0)*u,u<<=1;c=e(l);break;case 1:for(l=0,a=Math.pow(2,16),u=1;u!=a;)s=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),l|=(s>0?1:0)*u,u<<=1;c=e(l);break;case 2:return""}for(d[3]=c,i=c,g.push(c);;){if(v.index>t)return"";for(l=0,a=Math.pow(2,p),u=1;u!=a;)s=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),l|=(s>0?1:0)*u,u<<=1;switch(c=l){case 0:for(l=0,a=Math.pow(2,8),u=1;u!=a;)s=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),l|=(s>0?1:0)*u,u<<=1;d[f++]=e(l),c=f-1,h--;break;case 1:for(l=0,a=Math.pow(2,16),u=1;u!=a;)s=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),l|=(s>0?1:0)*u,u<<=1;d[f++]=e(l),c=f-1,h--;break;case 2:return g.join("")}if(0==h&&(h=Math.pow(2,p),p++),d[c])m=d[c];else{if(c!==f)return null;m=i+i.charAt(0)}g.push(m),d[f++]=i+m.charAt(0),i=m,0==--h&&(h=Math.pow(2,p),p++)}}};return i}();null!=e&&(e.exports=t)})),o=n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.StateManager=t.StateRef=void 0;const n="function"==typeof Object.fromEntries?Object.fromEntries:e=>{const t=Object.create(null);for(const[n,r]of e)t[n]=r;return t},r=Symbol("watchers key");function o(e,t){return null==e&&null==t||Object.is(e,t)}function i(e){return null==e?null:e}class l{constructor(e,t){this._path=[],this._stateManager=e;for(const e of t)".."===e?this._path.pop():"."===e||this._path.push(e)}path(){return[...this._path]}ref(...e){return new l(this._stateManager,[...this._path,...e])}get(){return this._stateManager.get(...this._path)}watch(e,t){return this._stateManager.watch(e,t,this._path.join("/")),e}unwatch(e){this._stateManager.unwatch(e)}replace(e){return this._stateManager.update({[this._path.join("/")]:e})}update(e){const t=this._path.join("/")+"/",r=n(Object.entries(e).map((([e,n])=>[t+e,n])));return this._stateManager.update(r)}subscribe(e){const t=this.watch(((t,n,r)=>e(r)),!0);return()=>this.unwatch(t)}set(e){this.replace(e)}}t.StateRef=l;class s{constructor(){this._data=null,this._watchers=new Map,this._watcherTreeRoot=Object.create(null)}ref(...e){return new l(this,e)}get(...e){let t=this._data;for(const n of e){if(null==t)break;if(n.includes("/"))throw Error('Path cannot contain "/", split into varargs.');t=t[n]}return i(t)}watch(e,t,...n){let r=this._watchers.get(e);null==r&&(r=new Set,this._watchers.set(e,r));for(const r of n)this._watchPattern(e,t,r);return e}unwatch(e){if(!this._watchers.has(e))throw Error("Cannot find watcher.");const t=this._watchers.get(e);this._watchers.delete(e);for(const n of t)if(!s._unwatchPattern(e,this._watcherTreeRoot,n.split("/")))throw Error(`Failed to remove watcher from pattern: ${n}.`)}update(e){if("object"!=typeof e)throw Error(`Invalid update object: ${e}`);let t=!1;const r=[],i=[];for(const[n,l]of Object.entries(e)){if(0>=n.length)throw Error("Update key cannot be empty.");const e=n.split("/"),{data:a,redo:u,undo:c}=s._updateInternal(this._data,l,e,[],[this._watcherTreeRoot]);o(this._data,a)||(t=!0,this._data=a,r.push(...u),i.push(...c))}return t?{redo:n(r),undo:n(i)}:null}_watchPattern(e,t,n){if(!n||0>=n.length)throw Error(`Pattern cannot be empty: ${n}.`);const o=n.split("/");let i=this._watcherTreeRoot;for(const e of o)"."!==e&&(Object.prototype.hasOwnProperty.call(i,e)||(i[e]=Object.create(null)),i=i[e]);(i[r]||(i[r]=new Set)).add(e),t&&s._triggerNow(this._data,o,[],e)}static _unwatchPattern(e,t,n){if(0===n.length){const n=t[r];return null!=n&&(!!n.delete(e)&&(0>=n.size&&delete t[r],!0))}const[o,...i]=n;return!("."===o&&!this._unwatchPattern(e,t,i))&&(!!Object.prototype.hasOwnProperty.call(t,o)&&(!!this._unwatchPattern(e,t[o],i)&&(0>=Object.keys(t[o]).length&&null==t[r]&&delete t[o],!0)))}static _triggerNow(e,t,n,r){if(null==e)return;if(0>=t.length){try{r(n,null,e)}catch(e){console.error("Watcher threw:",e,r)}return}if("object"!=typeof e)return;const[o,...i]=t;if("."===o)this._triggerNow(e,i,n,r);else if("*"===o)for(const[t,o]of Object.entries(e))this._triggerNow(o,i,[...n,t],r);else Object.prototype.hasOwnProperty.call(e,o)&&this._triggerNow(e[o],i,[...n,o],r)}static _updateInternal(e,t,n,l,a){const u=0>=n.length,c="object"==typeof e?e:null,d="object"==typeof t?t:null,{data:h,redo:f,undo:p}=(()=>{if(u){if(null==c&&null==d)return{data:t,undo:[],redo:[]};const n=new Set([...Object.keys(c||{}),...Object.keys(d||{})]);let r=!1;const u=Object.create(null),h=[],f=[];for(const e of n){const t=c?i(c[e]):null,n=d?i(d[e]):null,p=s._nextWatcherTrees(e,a),{data:m,redo:g,undo:v}=s._updateInternal(t,n,[],[...l,e],p);o(t,m)||(r=!0,h.push(...g),f.push(...v),u[e]=m)}if(!r)return{data:e,redo:h,undo:f};const p=Object.assign(Object.create(null),c);for(const[e,t]of Object.entries(u))null==t?delete p[e]:p[e]=t;return 0===Object.keys(p).length?{data:d||t,redo:h,undo:f}:{data:p,redo:h,undo:f}}const[r,...h]=n,f=c?i(c[r]):null,p=s._nextWatcherTrees(r,a),{data:m,redo:g,undo:v}=s._updateInternal(f,t,h,[...l,r],p);if(o(f,m))return{data:e,redo:g,undo:v};const _=Object.assign(Object.create(null),c);return null==m?delete _[r]:_[r]=m,Object.values(_).every((e=>null==e))?{data:null,redo:g,undo:v}:{data:_,redo:g,undo:v}})();if(!o(e,h)){if(null==e){if(null==h)throw"N/A";"object"==typeof h||(f.length=0,f.push([l.join("/"),h]),p.length=0,p.push([l.join("/"),null]))}else"object"==typeof e?null==h||"object"==typeof h||(f.length=0,f.push([l.join("/"),h])):null==h?(f.length=0,f.push([l.join("/"),null]),p.length=0,p.push([l.join("/"),e])):"object"==typeof h?(p.length=0,p.push([l.join("/"),e])):(f.length=0,f.push([l.join("/"),h]),p.length=0,p.push([l.join("/"),e]));for(const t of a)for(const n of t[r]||[])try{n(l,e,h)}catch(e){console.error("Watcher threw:",e,n)}return{data:h,undo:p,redo:f}}return{data:e,undo:p,redo:f}}static _nextWatcherTrees(e,t){const n=[];for(const r of t)r["*"]&&n.push(r["*"]),r[e]&&n.push(r[e]);return n}}t.StateManager=s}));const i=.01,l=.005,s=.04,a=.02;function u(e){const t=[];for(let n=0;null!=e[n];n++)t.push(e[n]);return t}function c(e,{width:t}){return[e%t,Math.floor(e/t)]}function d([e,t],{width:n}){return t*n+e}function h([e,t],{width:n,height:r},o){if(e<0||n<=e||t<0||r<=t)return null;if(o){const n=e%1-.5,r=t%1-.5;if(.5<Math.abs(n)+Math.abs(r))return null}return[Math.floor(e),Math.floor(t)]}function f([e,t],{width:n}){return t*(n+1)+e}function p(e,{width:t}){return[e%(t+1),Math.floor(e/(t+1))]}function m(e,t){const[n,r]=function(e,t){if(1==e%2){const n=.5*(e-1);return[n,n+t.width]}{const n=.5*e+Math.floor(.5*e/(t.width-1));return[n,n+1]}}(e,t),[o,i]=c(n,t),[l,s]=c(r,t);return[.5*(o+l+1),.5*(i+s+1)]}function g(e,t){const n=t.width*t.height;for(let t=0;t<n;t++)if(e[t])return t;return null}function v(e){return null==e?[]:Object.keys(e).filter((t=>null!=e[t]&&0!=e[t])).map(Number).sort()}function _(e,t,n=0){if(0>=e.length)return"";const r=[];for(const n of e){const[e,o]=c(n,t);r.push([e+.5,o+.5])}if(1===r.length&&r.push(r[0]),0<n){const e=r.length,t=r[e-1][0]-r[e-2][0],o=r[e-1][1]-r[e-2][1];r[e-1][0]+=-t*n,r[e-1][1]+=-o*n}return"M"+r.map((e=>e.join(","))).join("L")}function b({offsetX:e,offsetY:t},n){const{width:r,height:o}=n.getBoundingClientRect(),{x:i,y:l,width:s,height:a}=n.viewBox.baseVal;return[s*e/r+i,a*t/o+l]}function y(e,t,n=0){const r=new Map;{function n(e,t){const n=r.get(t);if(null==n?void 0:n.has(e))n.delete(e),0>=n.size&&r.delete(t);else{let n=r.get(e);null==n&&(n=new Set,r.set(e,n)),n.add(t)}}for(const r of e){const[e,o]=c(r,t),i=f([e,o],t),l=f([1+e,o],t),s=f([1+e,1+o],t),a=f([e,1+o],t);n(i,l),n(l,s),n(s,a),n(a,i)}}if(0>=r.size)return null;const o=[];for(;!(0>=r.size);){const[e,i]=Array.from(r.entries()).find((([e,t])=>1===t.size)),l=Array.from(i)[0];let s=p(e,t),a=p(l,t),u=l;const c=[];do{const e=r.get(u);let o=Number.NEGATIVE_INFINITY,i=-1,l=null;for(const n of e){const e=p(n,t),r=(a[0]-s[0])*(e[1]-a[1])-(a[1]-s[1])*(e[0]-a[0]);o<r&&(o=r,i=n,l=e)}if(null==l)throw"UNREACHABLE";if(e.delete(i),0>=e.size&&r.delete(u),0!==o){let[e,t]=a;t+=n*(a[0]-s[0])+o*n*(s[1]-a[1]),e+=n*(a[1]-l[1])+o*n*(l[0]-a[0]),c.push(`${e},${t}`)}s=a,a=l,u=i}while(l!==u);o.push("M"+c.join("L")+"Z")}return o.join("")}function k(e,t){return 0<=e[0]&&e[0]<t.width&&0<=e[1]&&e[1]<t.height}function w(e,t){let n,r;if(t<=4)n=e%2*.6-.3,r=.6*(e/2|0)-.3;else{const o=t/2|0;if(e<o){n=e*(.6/(o-1))-.3,r=-.3}else{n=(e-o)*(.6/(t-o-1))-.3,r=.3}}return[n,r]}const T=2*Math.PI;function x(e,t,n,r,o=.2){if(n>=r)throw Error(`INDEX ${n} must be less than SLICES ${r}.`);if(0>n)throw Error(`INDEX ${n} must be positive`);const[i,l]=c(e,t);if(1===r)return`M${i},${l}L${i+1},${l}L${i+1},${l+1}L${i},${l+1}Z`;const s=((o+n/r)%1+1)%1,a=((o+(n+1)/r)%1+1)%1,u=[.125,.375,.625,.875];let d,h;for(d=0;d<u.length&&u[d]<s;d++);for(h=0;h<u.length&&u[h]<a;h++);d%=u.length,h%=u.length;const f=[s];for(;d!==h;)f.push(u[d]),d++,d%=u.length;return f.push(a),`M${i+.5},${l+.5}L`+f.map((e=>[Math.cos(T*e),Math.sin(T*e)])).map((([e,t])=>{const n=Math.max(Math.abs(e),Math.abs(t));return[e/n,t/n]})).map((([e,t])=>[i+.5*(e+1),l+.5*(t+1)])).map((([e,t])=>`${e},${t}`)).join("L")+"Z"}function E(e,t=!0,n=!0){const r={};if(!t&&!n)return r;for(const t of Object.values(e))n&&"filled"===t.type&&Object.assign(r,t.value);for(const n of Object.values(e))if("givens"===n.type)if(t)Object.assign(r,n.value);else for(const e of Object.keys(n.value))delete r[e];return r}const O=(()=>{const e=[["M",1e3],["CM",900],["D",500],["CD",400],["C",100],["XC",90],["L",50],["XL",40],["X",10],["IX",9],["V",5],["IV",4],["I",1]];return function(t){if(0>=t)return`${t}`;let n="";for(const[o,i]of e){var r=Math.floor(t/i);t-=r*i,n+=o.repeat(r)}return n}})();function H(){}function $(e){return e()}function S(){return Object.create(null)}function A(e){e.forEach($)}function I(e){return"function"==typeof e}function R(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function C(e,...t){if(null==e)return H;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function M(e,t,n){e.$$.on_destroy.push(C(t,n))}function N(e,t,n,r){if(e){const o=L(e,t,n,r);return e[0](o)}}function L(e,t,n,r){return e[1]&&r?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](r(t))):n.ctx}function D(e,t,n,r,o,i,l){const s=function(e,t,n,r){if(e[2]&&r){const o=e[2](r(n));if(void 0===t.dirty)return o;if("object"==typeof o){const e=[],n=Math.max(t.dirty.length,o.length);for(let r=0;r<n;r+=1)e[r]=t.dirty[r]|o[r];return e}return t.dirty|o}return t.dirty}(t,r,o,i);if(s){const o=L(t,n,r,l);e.p(o,s)}}function U(e,t,n=t){return e.set(n),t}let P,G=!1;function j(e,t,n,r){for(;e<t;){const o=e+(t-e>>1);n(o)<=r?e=o+1:t=o}return e}function B(e,t){G?(!function(e){if(e.hydrate_init)return;e.hydrate_init=!0;const t=e.childNodes,n=new Int32Array(t.length+1),r=new Int32Array(t.length);n[0]=-1;let o=0;for(let e=0;e<t.length;e++){const i=j(1,o+1,(e=>t[n[e]].claim_order),t[e].claim_order)-1;r[e]=n[i]+1;const l=i+1;n[l]=e,o=Math.max(l,o)}const i=[],l=[];let s=t.length-1;for(let e=n[o]+1;0!=e;e=r[e-1]){for(i.push(t[e-1]);s>=e;s--)l.push(t[s]);s--}for(;s>=0;s--)l.push(t[s]);i.reverse(),l.sort(((e,t)=>e.claim_order-t.claim_order));for(let t=0,n=0;t<l.length;t++){for(;n<i.length&&l[t].claim_order>=i[n].claim_order;)n++;const r=n<i.length?i[n]:null;e.insertBefore(l[t],r)}}(e),(void 0===e.actual_end_child||null!==e.actual_end_child&&e.actual_end_child.parentElement!==e)&&(e.actual_end_child=e.firstChild),t!==e.actual_end_child?e.insertBefore(t,e.actual_end_child):e.actual_end_child=t.nextSibling):t.parentNode!==e&&e.appendChild(t)}function F(e,t,n){G&&!n?B(e,t):(t.parentNode!==e||n&&t.nextSibling!==n)&&e.insertBefore(t,n||null)}function V(e){e.parentNode.removeChild(e)}function z(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function q(e){return document.createElement(e)}function K(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function W(e){return document.createTextNode(e)}function X(){return W(" ")}function Y(){return W("")}function J(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function Z(e){return function(t){return t.preventDefault(),e.call(this,t)}}function Q(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function ee(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function te(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function ne(e,t){e.value=null==t?"":t}function re(e,t,n,r){e.style.setProperty(t,n,r?"important":"")}function oe(e,t,n){e.classList[n?"add":"remove"](t)}function ie(e){P=e}function le(){if(!P)throw new Error("Function called outside component initialization");return P}function se(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach((e=>e.call(this,t)))}const ae=[],ue=[],ce=[],de=[],he=Promise.resolve();let fe=!1;function pe(e){ce.push(e)}let me=!1;const ge=new Set;function ve(){if(!me){me=!0;do{for(let e=0;e<ae.length;e+=1){const t=ae[e];ie(t),_e(t.$$)}for(ie(null),ae.length=0;ue.length;)ue.pop()();for(let e=0;e<ce.length;e+=1){const t=ce[e];ge.has(t)||(ge.add(t),t())}ce.length=0}while(ae.length);for(;de.length;)de.pop()();fe=!1,me=!1,ge.clear()}}function _e(e){if(null!==e.fragment){e.update(),A(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(pe)}}const be=new Set;let ye;function ke(){ye={r:0,c:[],p:ye}}function we(){ye.r||A(ye.c),ye=ye.p}function Te(e,t){e&&e.i&&(be.delete(e),e.i(t))}function xe(e,t,n,r){if(e&&e.o){if(be.has(e))return;be.add(e),ye.c.push((()=>{be.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}}function Ee(e,t){e.d(1),t.delete(e.key)}function Oe(e,t){xe(e,1,1,(()=>{t.delete(e.key)}))}function He(e,t,n,r,o,i,l,s,a,u,c,d){let h=e.length,f=i.length,p=h;const m={};for(;p--;)m[e[p].key]=p;const g=[],v=new Map,_=new Map;for(p=f;p--;){const e=d(o,i,p),s=n(e);let a=l.get(s);a?r&&a.p(e,t):(a=u(s,e),a.c()),v.set(s,g[p]=a),s in m&&_.set(s,Math.abs(p-m[s]))}const b=new Set,y=new Set;function k(e){Te(e,1),e.m(s,c),l.set(e.key,e),c=e.first,f--}for(;h&&f;){const t=g[f-1],n=e[h-1],r=t.key,o=n.key;t===n?(c=t.first,h--,f--):v.has(o)?!l.has(r)||b.has(r)?k(t):y.has(o)?h--:_.get(r)>_.get(o)?(y.add(r),k(t)):(b.add(o),h--):(a(n,l),h--)}for(;h--;){const t=e[h];v.has(t.key)||a(t,l)}for(;f;)k(g[f-1]);return g}function $e(e){e&&e.c()}function Se(e,t,n,r){const{fragment:o,on_mount:i,on_destroy:l,after_update:s}=e.$$;o&&o.m(t,n),r||pe((()=>{const t=i.map($).filter(I);l?l.push(...t):A(t),e.$$.on_mount=[]})),s.forEach(pe)}function Ae(e,t){const n=e.$$;null!==n.fragment&&(A(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Ie(e,t){-1===e.$$.dirty[0]&&(ae.push(e),fe||(fe=!0,he.then(ve)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Re(e,t,n,r,o,i,l=[-1]){const s=P;ie(e);const a=e.$$={fragment:null,ctx:null,props:i,update:H,not_equal:o,bound:S(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(s?s.$$.context:t.context||[]),callbacks:S(),dirty:l,skip_bound:!1};let u=!1;if(a.ctx=n?n(e,t.props||{},((t,n,...r)=>{const i=r.length?r[0]:n;return a.ctx&&o(a.ctx[t],a.ctx[t]=i)&&(!a.skip_bound&&a.bound[t]&&a.bound[t](i),u&&Ie(e,t)),n})):[],a.update(),u=!0,A(a.before_update),a.fragment=!!r&&r(a.ctx),t.target){if(t.hydrate){G=!0;const e=function(e){return Array.from(e.childNodes)}(t.target);a.fragment&&a.fragment.l(e),e.forEach(V)}else a.fragment&&a.fragment.c();t.intro&&Te(e.$$.fragment),Se(e,t.target,t.anchor,t.customElement),G=!1,ve()}ie(s)}class Ce{$destroy(){Ae(this,1),this.$destroy=H}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Me=[];function Ne(e,t){return{subscribe:Le(e,t).subscribe}}function Le(e,t=H){let n;const r=[];function o(t){if(R(e,t)&&(e=t,n)){const t=!Me.length;for(let t=0;t<r.length;t+=1){const n=r[t];n[1](),Me.push(n,e)}if(t){for(let e=0;e<Me.length;e+=2)Me[e][0](Me[e+1]);Me.length=0}}}return{set:o,update:function(t){o(t(e))},subscribe:function(i,l=H){const s=[i,l];return r.push(s),1===r.length&&(n=t(o)||H),i(e),()=>{const e=r.indexOf(s);-1!==e&&r.splice(e,1),0===r.length&&(n(),n=null)}}}}function De(e,t,n){const r=!Array.isArray(e),o=r?[e]:e,i=t.length<2;return Ne(n,(e=>{let n=!1;const l=[];let s=0,a=H;const u=()=>{if(s)return;a();const n=t(r?l[0]:l,e);i?e(n):a=I(n)?n:H},c=o.map(((e,t)=>C(e,(e=>{l[t]=e,s&=~(1<<t),n&&u()}),(()=>{s|=1<<t}))));return n=!0,u(),function(){A(c),a()}}))}const Ue=Le(),Pe=Le(),Ge=window.boardState=new o.StateManager,je=Ge.ref("grid");const Be=["filled","corner","center","colors"],Fe=window.userState=new o.StateManager;Fe.update({select:{},cursor:null,tool:"120",prevTool:"120",marks:{filled:"120",corner:"130",center:"140",colors:"150"},history:{},historyUndone:{}});const Ve=Fe.ref("select"),ze=Fe.ref("cursor"),qe=Fe.ref("prevTool"),Ke=Fe.ref("tool"),We="tool";function Xe(e){return!!e&&((0!==Object.keys(e.redo).length||0!==Object.keys(e.undo).length)&&(Fe.update({[`history/${Date.now()}`]:JSON.stringify(e),historyUndone:null}),!0))}function Ye(e){const t=Fe.get(e?"historyUndone":"history")||{},n=Object.keys(t);if(0===n.length)return!1;const r=n.reduce(((t,n)=>e!==+t>+n?t:n)),o=t[`${r}`];null==o&&(console.warn("EMPTY HISTORY ENTRY",r,o),Fe.update({[`${e?"historyUndone":"history"}/${r}`]:null}),Ye(e));const i=JSON.parse(o);return Ge.update(e?i.redo:i.undo),Fe.update({[`history/${r}`]:e?o:null,[`historyUndone/${r}`]:e?null:o}),!0}window.changeHistory=Ye,window.addEventListener("keydown",(e=>{if("KeyZ"===e.code&&e.ctrlKey)Ye(e.shiftKey);else{if("KeyY"!==e.code||!e.ctrlKey)return;Ye(!0)}e.preventDefault(),e.stopImmediatePropagation()}));class Je{constructor(e){this.onTap=null,this.onDrag=null,this.onDragStart=null,this.onDragEnd=null,this._prevPos=null,this._prevCell=null,this._isDown=!1,this._isTap=!1,this._interpolateOnReender=e}down(e){this.onDragStart&&this.onDragStart(e),this._isDown=!0,this._isTap=!0}move(e,t,n){this._isDown&&this._handle(e,t,n)}up(){this._isDown&&(this.onDragEnd&&this.onDragEnd(),this._prevPos=null,this._prevCell=null,this._isDown=!1)}leave(e,t,n){this._isDown&&this._handle(e,t,n)}click(e,t,n){if(this._isTap){const r=h(b(e,n),t,!1);null!=r&&this.onTap&&this.onTap({event:e,coord:r,grid:t})}}_handle(e,t,n){const r=b(e,n);if(null!=this._prevPos&&1<function(e,t){const n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}(this._prevPos,r)){for(const n of function(e,t,n){const r=Math.floor(t[0])-Math.floor(e[0]),o=Math.floor(t[1])-Math.floor(e[1]),i=Math.max(Math.abs(r),Math.abs(o)),l=[];for(let r=1;r<=i;r++){const o=r/i,s=(1-o)*e[0]+o*t[0],a=(1-o)*e[1]+o*t[1];0<=s&&s<n.width&&0<=a&&a<n.height&&l.push([Math.floor(s),Math.floor(a)])}return l}(this._prevPos,r,t))this.onDrag&&this.onDrag({event:e,coord:n,grid:t}),this._prevCell=d(n,t);this._prevPos=this._interpolateOnReender||k(r,t)?r:null,this._isTap=!1}else{const n=h(r,t,!(null==this._prevPos));null!=n?(this._prevCell!==d(n,t)&&(null!=this._prevCell&&(this._isTap=!1),this.onDrag&&this.onDrag({event:e,coord:n,grid:t}),this._prevCell=d(n,t)),this._prevPos=r):this._interpolateOnReender||k(r,t)||(this._prevCell=null,this._prevPos=null,this._isTap=!1)}}}const Ze=/^(?:Digit|Numpad)?(\d)$/,Qe={Delete:null,Backspace:null,NumpadDecimal:null};function et(e){if(e in Qe)return Qe[e];const t=Ze.exec(e);return t?Number(t[1]):void 0}const tt=new Je(!1);function nt(e,t,n,r){const{multipleDigits:o,blockedByGivens:i,blockedByFilled:l,digitMapping:s,nextMode:a}=r,u=["filled","corner","center","colors"];function h(t){let n=et(t);if(s&&null!=n&&n in s&&(n=s[n]),void 0===n)return!1;if(f(e,n))for(const e of u){const t=Fe.get("marks",e);if(null==t)continue;if(!f(Ge.ref("elements",`${t}`,"value"),n))break}return!0}function f(e,t){const n=function(e=!0,t=!0){return E(Ge.get("elements")||{},e,t)}(i,l),r={};let s=!0;for(const i of v(Ve.get()))null==n[i]&&(o&&null!=t?(r[`${i}/${t}`]=!0,s&&(s=!!e.ref(`${i}`,`${t}`).get())):(r[`${i}`]=t,s&&(s=t==e.ref(`${i}`).get())));if(s){if(null==t)return!0;for(const e of Object.keys(r))r[e]=null}return Xe(e.update(r)),!1}const p=new Set(["Shift","Control","Alt","Meta"]);function m(e){if("Space"===e.code)return"keydown"===e.type&&Ke.replace(Fe.get("marks",a)),!0;if(!p.has(e.key))return!1;const t=Ke.get();if(e.shiftKey)e.ctrlKey||e.metaKey?Ke.replace(Fe.get("marks","colors")):Ke.replace(Fe.get("marks","corner"));else if(e.ctrlKey||e.metaKey)Ke.replace(Fe.get("marks","center"));else{if(!e.altKey)return Ke.replace(qe.get()),!0;Ke.replace(Fe.get("marks","colors"))}return null==qe.get()&&(qe.replace(t),!0)}const g={ArrowLeft:[-1,0],ArrowUp:[0,-1],ArrowRight:[1,0],ArrowDown:[0,1]};return{load(){},unload(){tt.up()},blur(e){Ke.replace(qe.get())},keydown(e){(h(e.code)||m(e)||function(e){if(!(e.code in g))return!1;const[n,r]=g[e.code];let[o,i]=c(ze.get()||0,t);o+=n+t.width,i+=r+t.height,o%=t.width,i%=t.height;const l=d([o,i],t);ze.replace(l),e.shiftKey?Ve.ref(`${l}`).replace(!0):e.ctrlKey?Ve.ref(`${l}`).replace(null):Ve.replace({[l]:!0})}(e))&&(e.stopImmediatePropagation(),e.preventDefault())},keyup(e){m(e)&&(e.stopImmediatePropagation(),e.preventDefault())},padClick(e){h(e.currentTarget.value)},down(e){tt.down(e)},move(e){tt.move(e,t,n)},up(e){tt.up()},leave(e){tt.leave(e,t,n)},click(e){tt.click(e,t,n)}}}(()=>{let e;!function(e){e[e.RESETTING=0]="RESETTING",e[e.DYNAMIC=1]="DYNAMIC",e[e.SELECTING=2]="SELECTING",e[e.DESELCTING=3]="DESELCTING"}(e||(e={}));let t=e.RESETTING;function n(n,r){const{coord:o,grid:i}=n,l=d(o,i);if(ze.replace(l),e.RESETTING===t){const n=r&&Ve.get()||{};return r&&1===Object.keys(n).length&&n[`${l}`]?Ve.replace({}):Ve.replace({[`${l}`]:!0}),void(t=e.SELECTING)}e.DYNAMIC===t&&(t=Ve.ref(`${l}`).get()?e.DESELCTING:e.SELECTING),Ve.ref(`${l}`).replace(e.SELECTING===t||null)}tt.onDragStart=n=>{var r;t=(r=n).shiftKey?e.SELECTING:r.ctrlKey||r.metaKey?e.DYNAMIC:r.altKey?e.DESELCTING:e.RESETTING},tt.onDrag=e=>{n(e,!1)},tt.onTap=e=>{n(e,!0)}})();var rt=rt||{};rt.Geometry=function(){},rt.Geometry.intersectLineLine=function(e,t){var n=(e.intercept-t.intercept)/(t.slope-e.slope);return{x:n,y:e.slope*n+e.intercept}},rt.Geometry.distanceFromOrigin=function(e){return Math.sqrt(Math.pow(e.x,2)+Math.pow(e.y,2))},rt.Geometry.distanceLineFromOrigin=function(e){return Math.abs(e.intercept)/Math.sqrt(Math.pow(e.slope,2)+1)},rt.Geometry.perpendicularThroughPoint=function(e,t){var n=-1/e.slope;return{slope:n,intercept:t.y-n*t.x}},rt.Geometry.angleFromOrigin=function(e){return Math.atan2(e.y,e.x)},rt.Geometry.normalizeAngle=function(e){var t=2*Math.PI;return(e%t+t)%t},rt.Geometry.lengthOfRayUntilIntersect=function(e,t){return t.intercept/(Math.sin(e)-t.slope*Math.cos(e))},rt.Hsluv=function(){},rt.Hsluv.getBounds=function(e){for(var t=[],n=Math.pow(e+16,3)/1560896,r=n>rt.Hsluv.epsilon?n:e/rt.Hsluv.kappa,o=0;o<3;)for(var i=o++,l=rt.Hsluv.m[i][0],s=rt.Hsluv.m[i][1],a=rt.Hsluv.m[i][2],u=0;u<2;){var c=u++,d=(284517*l-94839*a)*r,h=(838422*a+769860*s+731718*l)*e*r-769860*c*e,f=(632260*a-126452*s)*r+126452*c;t.push({slope:d/f,intercept:h/f})}return t},rt.Hsluv.maxSafeChromaForL=function(e){for(var t=rt.Hsluv.getBounds(e),n=1/0,r=0;r<t.length;){var o=t[r];++r;var i=rt.Geometry.distanceLineFromOrigin(o);n=Math.min(n,i)}return n},rt.Hsluv.maxChromaForLH=function(e,t){for(var n=t/360*Math.PI*2,r=rt.Hsluv.getBounds(e),o=1/0,i=0;i<r.length;){var l=r[i];++i;var s=rt.Geometry.lengthOfRayUntilIntersect(n,l);s>=0&&(o=Math.min(o,s))}return o},rt.Hsluv.dotProduct=function(e,t){for(var n=0,r=0,o=e.length;r<o;){var i=r++;n+=e[i]*t[i]}return n},rt.Hsluv.fromLinear=function(e){return e<=.0031308?12.92*e:1.055*Math.pow(e,.4166666666666667)-.055},rt.Hsluv.toLinear=function(e){return e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92},rt.Hsluv.xyzToRgb=function(e){return[rt.Hsluv.fromLinear(rt.Hsluv.dotProduct(rt.Hsluv.m[0],e)),rt.Hsluv.fromLinear(rt.Hsluv.dotProduct(rt.Hsluv.m[1],e)),rt.Hsluv.fromLinear(rt.Hsluv.dotProduct(rt.Hsluv.m[2],e))]},rt.Hsluv.rgbToXyz=function(e){var t=[rt.Hsluv.toLinear(e[0]),rt.Hsluv.toLinear(e[1]),rt.Hsluv.toLinear(e[2])];return[rt.Hsluv.dotProduct(rt.Hsluv.minv[0],t),rt.Hsluv.dotProduct(rt.Hsluv.minv[1],t),rt.Hsluv.dotProduct(rt.Hsluv.minv[2],t)]},rt.Hsluv.yToL=function(e){return e<=rt.Hsluv.epsilon?e/rt.Hsluv.refY*rt.Hsluv.kappa:116*Math.pow(e/rt.Hsluv.refY,.3333333333333333)-16},rt.Hsluv.lToY=function(e){return e<=8?rt.Hsluv.refY*e/rt.Hsluv.kappa:rt.Hsluv.refY*Math.pow((e+16)/116,3)},rt.Hsluv.xyzToLuv=function(e){var t=e[0],n=e[1],r=t+15*n+3*e[2],o=4*t,i=9*n;0!=r?(o/=r,i/=r):(o=NaN,i=NaN);var l=rt.Hsluv.yToL(n);return 0==l?[0,0,0]:[l,13*l*(o-rt.Hsluv.refU),13*l*(i-rt.Hsluv.refV)]},rt.Hsluv.luvToXyz=function(e){var t=e[0],n=e[1],r=e[2];if(0==t)return[0,0,0];var o=n/(13*t)+rt.Hsluv.refU,i=r/(13*t)+rt.Hsluv.refV,l=rt.Hsluv.lToY(t),s=0-9*l*o/((o-4)*i-o*i);return[s,l,(9*l-15*i*l-i*s)/(3*i)]},rt.Hsluv.luvToLch=function(e){var t,n=e[0],r=e[1],o=e[2],i=Math.sqrt(r*r+o*o);i<1e-8?t=0:(t=180*Math.atan2(o,r)/Math.PI)<0&&(t=360+t);return[n,i,t]},rt.Hsluv.lchToLuv=function(e){var t=e[0],n=e[1],r=e[2]/360*2*Math.PI;return[t,Math.cos(r)*n,Math.sin(r)*n]},rt.Hsluv.hsluvToLch=function(e){var t=e[0],n=e[1],r=e[2];return r>99.9999999?[100,0,t]:r<1e-8?[0,0,t]:[r,rt.Hsluv.maxChromaForLH(r,t)/100*n,t]},rt.Hsluv.lchToHsluv=function(e){var t=e[0],n=e[1],r=e[2];return t>99.9999999?[r,0,100]:t<1e-8?[r,0,0]:[r,n/rt.Hsluv.maxChromaForLH(t,r)*100,t]},rt.Hsluv.hpluvToLch=function(e){var t=e[0],n=e[1],r=e[2];return r>99.9999999?[100,0,t]:r<1e-8?[0,0,t]:[r,rt.Hsluv.maxSafeChromaForL(r)/100*n,t]},rt.Hsluv.lchToHpluv=function(e){var t=e[0],n=e[1],r=e[2];return t>99.9999999?[r,0,100]:t<1e-8?[r,0,0]:[r,n/rt.Hsluv.maxSafeChromaForL(t)*100,t]},rt.Hsluv.rgbToHex=function(e){for(var t="#",n=0;n<3;){var r=e[n++],o=Math.round(255*r),i=o%16,l=(o-i)/16|0;t+=rt.Hsluv.hexChars.charAt(l)+rt.Hsluv.hexChars.charAt(i)}return t},rt.Hsluv.hexToRgb=function(e){e=e.toLowerCase();for(var t=[],n=0;n<3;){var r=n++,o=16*rt.Hsluv.hexChars.indexOf(e.charAt(2*r+1))+rt.Hsluv.hexChars.indexOf(e.charAt(2*r+2));t.push(o/255)}return t},rt.Hsluv.lchToRgb=function(e){return rt.Hsluv.xyzToRgb(rt.Hsluv.luvToXyz(rt.Hsluv.lchToLuv(e)))},rt.Hsluv.rgbToLch=function(e){return rt.Hsluv.luvToLch(rt.Hsluv.xyzToLuv(rt.Hsluv.rgbToXyz(e)))},rt.Hsluv.hsluvToRgb=function(e){return rt.Hsluv.lchToRgb(rt.Hsluv.hsluvToLch(e))},rt.Hsluv.rgbToHsluv=function(e){return rt.Hsluv.lchToHsluv(rt.Hsluv.rgbToLch(e))},rt.Hsluv.hpluvToRgb=function(e){return rt.Hsluv.lchToRgb(rt.Hsluv.hpluvToLch(e))},rt.Hsluv.rgbToHpluv=function(e){return rt.Hsluv.lchToHpluv(rt.Hsluv.rgbToLch(e))},rt.Hsluv.hsluvToHex=function(e){return rt.Hsluv.rgbToHex(rt.Hsluv.hsluvToRgb(e))},rt.Hsluv.hpluvToHex=function(e){return rt.Hsluv.rgbToHex(rt.Hsluv.hpluvToRgb(e))},rt.Hsluv.hexToHsluv=function(e){return rt.Hsluv.rgbToHsluv(rt.Hsluv.hexToRgb(e))},rt.Hsluv.hexToHpluv=function(e){return rt.Hsluv.rgbToHpluv(rt.Hsluv.hexToRgb(e))},rt.Hsluv.m=[[3.240969941904521,-1.537383177570093,-.498610760293],[-.96924363628087,1.87596750150772,.041555057407175],[.055630079696993,-.20397695888897,1.056971514242878]],rt.Hsluv.minv=[[.41239079926595,.35758433938387,.18048078840183],[.21263900587151,.71516867876775,.072192315360733],[.019330818715591,.11919477979462,.95053215224966]],rt.Hsluv.refY=1,rt.Hsluv.refU=.19783000664283,rt.Hsluv.refV=.46831999493879,rt.Hsluv.kappa=903.2962962,rt.Hsluv.epsilon=.0088564516,rt.Hsluv.hexChars="0123456789abcdef";var ot={hsluvToRgb:rt.Hsluv.hsluvToRgb,rgbToHsluv:rt.Hsluv.rgbToHsluv,hpluvToRgb:rt.Hsluv.hpluvToRgb,rgbToHpluv:rt.Hsluv.rgbToHpluv,hsluvToHex:rt.Hsluv.hsluvToHex,hexToHsluv:rt.Hsluv.hexToHsluv,hpluvToHex:rt.Hsluv.hpluvToHex,hexToHpluv:rt.Hsluv.hexToHpluv,lchToHpluv:rt.Hsluv.lchToHpluv,hpluvToLch:rt.Hsluv.hpluvToLch,lchToHsluv:rt.Hsluv.lchToHsluv,hsluvToLch:rt.Hsluv.hsluvToLch,lchToLuv:rt.Hsluv.lchToLuv,luvToLch:rt.Hsluv.luvToLch,xyzToLuv:rt.Hsluv.xyzToLuv,luvToXyz:rt.Hsluv.luvToXyz,xyzToRgb:rt.Hsluv.xyzToRgb,rgbToXyz:rt.Hsluv.rgbToXyz,lchToRgb:rt.Hsluv.lchToRgb,rgbToLch:rt.Hsluv.rgbToLch};function it(e,t,n,r){const{deletePrioritizeHead:o,deletePrioritizeTail:i}=r,l=new Je(!0);let s=null;const a=[];return l.onDragStart=t=>{a.length=0,s=e.ref(`${Date.now()}_${Math.random()}`)},l.onDrag=e=>{if(null==s)throw"UNREACHABLE";const{coord:t,grid:n}=e,r=d(t,n),o=a.indexOf(r);0<=o?a.length=o+1:a.push(r),s.replace(a.length>1?a:null)},l.onDragEnd=()=>{if(null==s)throw new Error("Line handler, onDragEnd NULL lineRef.");if(1>=a.length)s.replace(null);else{const e=s.path().join("/"),t={redo:{},undo:{[e]:null}};for(let n=0;n<a.length;n++)t.redo[`${e}/${n}`]=a[n];Xe(t)}s=null},l.onTap=t=>{const{coord:n,grid:r}=t,l=d(n,r);let s=null;for(const[t,n]of Object.entries(e.get()||{})){const e=u(n);if(o&&l===e[0]){s=t;break}if(i&&l===e[e.length-1]){s=t;break}e.includes(l)&&(s=t)}null==s||Xe(e.ref(`${s}`).replace(null))},{load(){Ve.replace(null),ze.replace(null)},unload(){l.up()},blur(e){},keydown(e){},keyup(e){},padClick(e){},down(e){l.down(e)},move(e){l.move(e,t,n)},up(e){l.up()},leave(e){l.leave(e,t,n)},click(e){l.click(e,t,n)}}}function lt(e,t,n){const r=new Je(!0);let o;function i(t){return void 0===o&&(o=!e.ref(`${t}`).get()||null),o}const l={redo:{},undo:{}};return r.onDragStart=e=>{o=void 0},r.onDrag=t=>{const{coord:n,grid:r}=t,o=d(n,r),s=e.ref(`${o}`).replace(i(o));null!=s&&(Object.assign(l.redo,s.redo),Object.assign(l.undo,s.undo))},r.onDragEnd=()=>{Xe(l),l.redo={},l.undo={}},r.onTap=t=>{const{coord:n,grid:r}=t,o=d(n,r);Xe(e.ref(`${o}`).replace(i(o)))},{load(){Ve.replace(null),ze.replace(null)},unload(){r.up()},blur(e){},keydown(e){},keyup(e){},padClick(e){},down(e){r.down(e)},move(e){r.move(e,t,n)},up(e){r.up()},leave(e){r.leave(e,t,n)},click(e){r.click(e,t,n)}}}function st(e,t,n,r={max:10}){const o=r.keymap||{},{max:i}=r;let l=null;function s(e){if(null==l)return!1;let t;if(t=e in o?o[e]:et(e),void 0===t)return!1;const n=l.get();if(null!=t&&"number"==typeof n){const e=10*n+t;e<i&&(t=e)}return Xe(l.replace(null!=t?t:!0!==n||null)),!0}return{load(){Ve.replace(null),ze.replace(null)},unload(){},blur(e){},keydown(e){s(e.code)&&(e.stopImmediatePropagation(),e.preventDefault())},keyup(e){},padClick(e){s(e.currentTarget.value)&&(e.stopImmediatePropagation(),e.preventDefault())},down(e){},move(e){},up(e){},leave(e){},click(r){const o=function([e,t],{width:n,height:r}){const o=Math.abs(t%1-.5)>=Math.abs(e%1-.5),i=n-+!o,l=r-+o,s=Math.floor(t-.5*+o),a=Math.floor(e-.5*+!o);return a<0||i<=a||s<0||l<=s?null:2*(i*s+a)+ +o}(b(r,n),t);if(null==o)return;const i=e.ref(`${o}`);!0!==i.get()?(l=i,s("Delete")):i.replace(null)}}}const at={givens:{getInputHandler:(e,t,n)=>nt(e,t,n,{multipleDigits:!1,blockedByGivens:!1,blockedByFilled:!1,nextMode:"corner"}),order:220,permanent:!0,inGlobalMenu:!1,menu:{type:"select",name:"Given",icon:"given"}},filled:{getInputHandler:(e,t,n)=>nt(e,t,n,{multipleDigits:!1,blockedByGivens:!0,blockedByFilled:!1,nextMode:"corner"}),order:210},center:{getInputHandler:(e,t,n)=>nt(e,t,n,{multipleDigits:!0,blockedByGivens:!0,blockedByFilled:!0,nextMode:"colors"}),order:200},corner:{getInputHandler:(e,t,n)=>nt(e,t,n,{multipleDigits:!0,blockedByGivens:!0,blockedByFilled:!0,nextMode:"center"}),order:200},colors:{getInputHandler:(e,t,n)=>nt(e,t,n,{multipleDigits:!0,blockedByGivens:!1,blockedByFilled:!1,nextMode:"filled",digitMapping:["#111111","#666666","#b2b2b2",ot.hsluvToHex([10,100,60]),ot.hsluvToHex([40,100,65]),ot.hsluvToHex([70,100,92]),ot.hsluvToHex([120,100,80]),ot.hsluvToHex([230,100,85]),ot.hsluvToHex([260,100,55]),ot.hsluvToHex([300,100,70])]}),order:15},grid:{order:101,permanent:!0},box:{order:100,permanent:!0},thermo:{getInputHandler:(e,t,n)=>it(e,t,n,{deletePrioritizeHead:!0,deletePrioritizeTail:!1}),order:30,inGlobalMenu:!1,menu:{type:"select",name:"Thermo",icon:"thermo"}},between:{getInputHandler:(e,t,n)=>it(e,t,n,{deletePrioritizeHead:!0,deletePrioritizeTail:!0}),order:50,inGlobalMenu:!1,menu:{type:"select",name:"Between",icon:"between"}},diagonal:{inGlobalMenu:!0,order:0,menu:{type:"checkbox",name:"Diagonals",checkbox:[{name:"Positive Diagonal",icon:"positive-diagonal",refPath:"positive"},{name:"Negative Diagonal",icon:"negative-diagonal",refPath:"negative"}]}},arrow:null,sandwich:null,min:{getInputHandler:lt,order:20,inGlobalMenu:!1,menu:{type:"select",name:"Min",icon:"min"}},max:{getInputHandler:lt,order:21,inGlobalMenu:!1,menu:{type:"select",name:"Max",icon:"max"}},killer:null,quadruple:{getInputHandler:function(e,t,n){const r=[];let o=null;function i(e){if(null==o)return!1;const t=et(e);if(void 0===t)return!1;if(null==t){if(!0===o.get()){return Xe(o.replace(null)),!0}r.length=0}else{if(4<=r.length)return!1;r.push(t),r.sort()}return Xe(o.replace(!(0<r.length)||r)),!0}return{load(){Ve.replace(null),ze.replace(null)},unload(){},blur(e){},keydown(e){i(e.code)&&(e.stopImmediatePropagation(),e.preventDefault())},keyup(e){},padClick(e){i(e.currentTarget.value)&&(e.stopImmediatePropagation(),e.preventDefault())},down(e){},move(e){},up(e){},leave(e){},click(r){const l=function([e,t],{width:n,height:r}){const o=Math.round(e),i=Math.round(t);return o<0||n<o||i<0||r<i?null:[o,i]}(b(r,n),t);if(null==l)return;const s=f(l,t),a=e.ref(`${s}`);!0!==a.get()?(o=a,i("Delete")):a.replace(null)}}},order:110,inGlobalMenu:!1,menu:{type:"select",name:"Quadruple",icon:"quadruple"}},difference:{getInputHandler:st,order:140,inGlobalMenu:!1,menu:{type:"select",name:"Difference",icon:"kropki"}},ratio:{getInputHandler:st,order:141,inGlobalMenu:!1,menu:{type:"select",name:"Ratio",icon:"kropki"}},xv:{getInputHandler:(e,t,n)=>st(e,t,n,{keymap:{KeyX:10,KeyV:5},max:100}),order:130,inGlobalMenu:!1,menu:{type:"select",name:"XV Sum",icon:"xv"}},knight:{inGlobalMenu:!0,order:0,menu:{type:"checkbox",name:"Antiknight",checkbox:{name:"Antiknight",icon:"knight"}}},king:{inGlobalMenu:!0,order:0,menu:{type:"checkbox",name:"Antiking",checkbox:{name:"Antiking",icon:"king"}}},disjointGroups:{inGlobalMenu:!0,order:0,menu:{type:"checkbox",name:"Disjoint Groups",checkbox:{name:"Disjoint Groups",icon:"disjoint"}}},consecutive:{inGlobalMenu:!0,order:0,menu:{type:"checkbox",name:"Nonconsecutive",checkbox:[{name:"Nonconsecutive Orthogonal Neighbors",icon:"consec-orth",refPath:"orth"},{name:"Nonconsecutive Diagonal Neighbors",icon:"consec-diag",refPath:"diag"}]}},selfTaxicab:{inGlobalMenu:!0,order:0,menu:{type:"checkbox",name:"Self-Taxicab",checkbox:{name:"Self-Taxicab",icon:"taxi"}}}};function ut(e,t){if(!(e in at))throw Error(`Cannot add unknown element type: ${e}.`);const n=at[e];if(null==n)throw Error(`Cannot add unimplmeneted element type: ${e}.`);return{type:e,order:n.order,value:t}}function ct(e){for(const[t,{type:n}]of Object.entries(e.elements))Be.includes(n)&&(Fe.ref("marks",n).replace(t),"filled"===n&&(Fe.ref("tool").replace(t),Fe.ref("prevTool").replace(t)))}function dt(e,t,n){let{id:r}=t,{ref:o}=t,{grid:i}=t;return e.$$set=e=>{"id"in e&&n(0,r=e.id),"ref"in e&&n(1,o=e.ref),"grid"in e&&n(2,i=e.grid)},[r,o,i]}class ht extends Ce{constructor(e){super(),Re(this,e,dt,null,R,{id:0,ref:1,grid:2})}}const ft=(()=>{try{return"production"!=={DEPLOYMENT_BASEPATH:"/opt/runner",DOTNET_NOLOGO:"1",USER:"runner",npm_config_user_agent:"npm/7.20.0 node/v14.17.3 linux x64 workspaces/false ci/github-actions",CI:"true",GITHUB_ENV:"/home/runner/work/_temp/_runner_file_commands/set_env_c82c5464-0803-4508-8991-d48ce9c6cdbe",PIPX_HOME:"/opt/pipx",npm_node_execpath:"/usr/local/bin/node",JAVA_HOME_8_X64:"/usr/lib/jvm/adoptopenjdk-8-hotspot-amd64",SHLVL:"1",npm_config_noproxy:"",HOME:"/home/runner",RUNNER_TEMP:"/home/runner/work/_temp",GITHUB_EVENT_PATH:"/home/runner/work/_temp/_github_workflow/event.json",npm_package_json:"/home/runner/work/SudokuStudio/SudokuStudio/packages/web/package.json",JAVA_HOME_11_X64:"/usr/lib/jvm/adoptopenjdk-11-hotspot-amd64",PIPX_BIN_DIR:"/opt/pipx_bin",GRAALVM_11_ROOT:"/usr/local/graalvm/graalvm-ce-java11-21.1.0",GITHUB_REPOSITORY_OWNER:"SudokuStudio",GRADLE_HOME:"/usr/share/gradle-7.1.1",HOMEBREW_PREFIX:'"/home/linuxbrew/.linuxbrew"',ANDROID_NDK_LATEST_HOME:"/usr/local/lib/android/sdk/ndk/22.1.7171670",GITHUB_RETENTION_DAYS:"90",POWERSHELL_DISTRIBUTION_CHANNEL:"GitHub-Actions-ubuntu20",AZURE_EXTENSION_DIR:"/opt/az/azcliextensions",GITHUB_HEAD_REF:"",npm_config_userconfig:"/home/runner/.npmrc",SUDOKU_STUDIO_VERSION:"8ecdcee",GITHUB_GRAPHQL_URL:"https://api.github.com/graphql",COLOR:"0",NVM_DIR:"/home/runner/.nvm",npm_config_metrics_registry:"https://registry.npmjs.org/",DOTNET_SKIP_FIRST_TIME_EXPERIENCE:"1",ImageVersion:"20210712.0",RUNNER_OS:"Linux",GITHUB_API_URL:"https://api.github.com",SWIFT_PATH:"/usr/share/swift/usr/bin",GOROOT_1_14_X64:"/opt/hostedtoolcache/go/1.14.15/x64",RUNNER_USER:"runner",CHROMEWEBDRIVER:"/usr/local/share/chrome_driver",JOURNAL_STREAM:"8:22061",GITHUB_WORKFLOW:"CI",_:"/usr/local/bin/npm",npm_config_prefix:"/usr/local",GOROOT_1_15_X64:"/opt/hostedtoolcache/go/1.15.13/x64",GITHUB_RUN_ID:"1040997862",GOROOT_1_16_X64:"/opt/hostedtoolcache/go/1.16.5/x64",npm_config_cache:"/home/runner/.npm",BOOTSTRAP_HASKELL_NONINTERACTIVE:"1",GITHUB_BASE_REF:"",ImageOS:"ubuntu20",PERFLOG_LOCATION_SETTING:"RUNNER_PERFLOG",GITHUB_ACTION_REPOSITORY:"",npm_config_node_gyp:"/usr/local/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",PATH:"/home/runner/work/SudokuStudio/SudokuStudio/packages/web/node_modules/.bin:/home/runner/work/SudokuStudio/SudokuStudio/packages/node_modules/.bin:/home/runner/work/SudokuStudio/SudokuStudio/node_modules/.bin:/home/runner/work/SudokuStudio/node_modules/.bin:/home/runner/work/node_modules/.bin:/home/runner/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/usr/local/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/runner/work/SudokuStudio/SudokuStudio/node_modules/.bin:/home/runner/work/SudokuStudio/node_modules/.bin:/home/runner/work/node_modules/.bin:/home/runner/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/usr/local/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/linuxbrew/.linuxbrew/bin:/home/linuxbrew/.linuxbrew/sbin:/home/runner/.local/bin:/opt/pipx_bin:/usr/share/rust/.cargo/bin:/home/runner/.config/composer/vendor/bin:/usr/local/.ghcup/bin:/home/runner/.dotnet/tools:/snap/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin",ANT_HOME:"/usr/share/ant",DOTNET_MULTILEVEL_LOOKUP:"0",RUNNER_TRACKING_ID:"github_5b264334-72db-41bb-847c-a0fc0ed2ff55",INVOCATION_ID:"8cfa36ed771b44fc957e116eef69daae",HOMEBREW_CELLAR:'"/home/linuxbrew/.linuxbrew/Cellar"',RUNNER_TOOL_CACHE:"/opt/hostedtoolcache",NODE:"/usr/local/bin/node",npm_package_name:"@sudoku-studio/web",GITHUB_ACTION:"__run_3",GITHUB_RUN_NUMBER:"256",AGENT_TOOLSDIRECTORY:"/opt/hostedtoolcache",LANG:"C.UTF-8",VCPKG_INSTALLATION_ROOT:"/usr/local/share/vcpkg",CONDA:"/usr/share/miniconda",XDG_CONFIG_HOME:"/home/runner/.config",GITHUB_REPOSITORY:"SudokuStudio/SudokuStudio",npm_lifecycle_script:"rollup -c",ANDROID_NDK_ROOT:"/usr/local/lib/android/sdk/ndk-bundle",GITHUB_ACTION_REF:"",DEBIAN_FRONTEND:"noninteractive",GITHUB_ACTIONS:"true",npm_lifecycle_event:"build",GITHUB_WORKSPACE:"/home/runner/work/SudokuStudio/SudokuStudio",ACCEPT_EULA:"Y",GITHUB_JOB:"publish",RUNNER_PERFLOG:"/home/runner/perflog",GITHUB_SHA:"8ecdcee9323414ac0863fff575eb5c9c596c4439",GITHUB_REF:"refs/heads/main",GITHUB_ACTOR:"MingweiSamuel",ANDROID_SDK_ROOT:"/usr/local/lib/android/sdk",LEIN_HOME:"/usr/local/lib/lein",npm_config_globalconfig:"/usr/local/etc/npmrc",npm_config_init_module:"/home/runner/.npm-init.js",GITHUB_PATH:"/home/runner/work/_temp/_runner_file_commands/add_path_c82c5464-0803-4508-8991-d48ce9c6cdbe",JAVA_HOME:"/usr/lib/jvm/adoptopenjdk-11-hotspot-amd64",PWD:"/home/runner/work/SudokuStudio/SudokuStudio/packages/web",RUNNER_WORKSPACE:"/home/runner/work/SudokuStudio",npm_execpath:"/usr/local/lib/node_modules/npm/bin/npm-cli.js",HOMEBREW_CLEANUP_PERIODIC_FULL_DAYS:"3650",GITHUB_EVENT_NAME:"push",HOMEBREW_NO_AUTO_UPDATE:"1",ANDROID_HOME:"/usr/local/lib/android/sdk",GITHUB_SERVER_URL:"https://github.com",GECKOWEBDRIVER:"/usr/local/share/gecko_driver",LEIN_JAR:"/usr/local/lib/lein/self-installs/leiningen-2.9.6-standalone.jar",HOMEBREW_REPOSITORY:'"/home/linuxbrew/.linuxbrew/Homebrew"',npm_command:"run-script",SGX_AESM_ADDR:"1",CHROME_BIN:"/usr/bin/google-chrome",SELENIUM_JAR_PATH:"/usr/share/java/selenium-server-standalone.jar",ANDROID_NDK_HOME:"/usr/local/lib/android/sdk/ndk-bundle",INIT_CWD:"/home/runner/work/SudokuStudio/SudokuStudio",EDITOR:"vi"}.NODE_ENV||"1"==={DEPLOYMENT_BASEPATH:"/opt/runner",DOTNET_NOLOGO:"1",USER:"runner",npm_config_user_agent:"npm/7.20.0 node/v14.17.3 linux x64 workspaces/false ci/github-actions",CI:"true",GITHUB_ENV:"/home/runner/work/_temp/_runner_file_commands/set_env_c82c5464-0803-4508-8991-d48ce9c6cdbe",PIPX_HOME:"/opt/pipx",npm_node_execpath:"/usr/local/bin/node",JAVA_HOME_8_X64:"/usr/lib/jvm/adoptopenjdk-8-hotspot-amd64",SHLVL:"1",npm_config_noproxy:"",HOME:"/home/runner",RUNNER_TEMP:"/home/runner/work/_temp",GITHUB_EVENT_PATH:"/home/runner/work/_temp/_github_workflow/event.json",npm_package_json:"/home/runner/work/SudokuStudio/SudokuStudio/packages/web/package.json",JAVA_HOME_11_X64:"/usr/lib/jvm/adoptopenjdk-11-hotspot-amd64",PIPX_BIN_DIR:"/opt/pipx_bin",GRAALVM_11_ROOT:"/usr/local/graalvm/graalvm-ce-java11-21.1.0",GITHUB_REPOSITORY_OWNER:"SudokuStudio",GRADLE_HOME:"/usr/share/gradle-7.1.1",HOMEBREW_PREFIX:'"/home/linuxbrew/.linuxbrew"',ANDROID_NDK_LATEST_HOME:"/usr/local/lib/android/sdk/ndk/22.1.7171670",GITHUB_RETENTION_DAYS:"90",POWERSHELL_DISTRIBUTION_CHANNEL:"GitHub-Actions-ubuntu20",AZURE_EXTENSION_DIR:"/opt/az/azcliextensions",GITHUB_HEAD_REF:"",npm_config_userconfig:"/home/runner/.npmrc",SUDOKU_STUDIO_VERSION:"8ecdcee",GITHUB_GRAPHQL_URL:"https://api.github.com/graphql",COLOR:"0",NVM_DIR:"/home/runner/.nvm",npm_config_metrics_registry:"https://registry.npmjs.org/",DOTNET_SKIP_FIRST_TIME_EXPERIENCE:"1",ImageVersion:"20210712.0",RUNNER_OS:"Linux",GITHUB_API_URL:"https://api.github.com",SWIFT_PATH:"/usr/share/swift/usr/bin",GOROOT_1_14_X64:"/opt/hostedtoolcache/go/1.14.15/x64",RUNNER_USER:"runner",CHROMEWEBDRIVER:"/usr/local/share/chrome_driver",JOURNAL_STREAM:"8:22061",GITHUB_WORKFLOW:"CI",_:"/usr/local/bin/npm",npm_config_prefix:"/usr/local",GOROOT_1_15_X64:"/opt/hostedtoolcache/go/1.15.13/x64",GITHUB_RUN_ID:"1040997862",GOROOT_1_16_X64:"/opt/hostedtoolcache/go/1.16.5/x64",npm_config_cache:"/home/runner/.npm",BOOTSTRAP_HASKELL_NONINTERACTIVE:"1",GITHUB_BASE_REF:"",ImageOS:"ubuntu20",PERFLOG_LOCATION_SETTING:"RUNNER_PERFLOG",GITHUB_ACTION_REPOSITORY:"",npm_config_node_gyp:"/usr/local/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",PATH:"/home/runner/work/SudokuStudio/SudokuStudio/packages/web/node_modules/.bin:/home/runner/work/SudokuStudio/SudokuStudio/packages/node_modules/.bin:/home/runner/work/SudokuStudio/SudokuStudio/node_modules/.bin:/home/runner/work/SudokuStudio/node_modules/.bin:/home/runner/work/node_modules/.bin:/home/runner/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/usr/local/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/runner/work/SudokuStudio/SudokuStudio/node_modules/.bin:/home/runner/work/SudokuStudio/node_modules/.bin:/home/runner/work/node_modules/.bin:/home/runner/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/usr/local/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/linuxbrew/.linuxbrew/bin:/home/linuxbrew/.linuxbrew/sbin:/home/runner/.local/bin:/opt/pipx_bin:/usr/share/rust/.cargo/bin:/home/runner/.config/composer/vendor/bin:/usr/local/.ghcup/bin:/home/runner/.dotnet/tools:/snap/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin",ANT_HOME:"/usr/share/ant",DOTNET_MULTILEVEL_LOOKUP:"0",RUNNER_TRACKING_ID:"github_5b264334-72db-41bb-847c-a0fc0ed2ff55",INVOCATION_ID:"8cfa36ed771b44fc957e116eef69daae",HOMEBREW_CELLAR:'"/home/linuxbrew/.linuxbrew/Cellar"',RUNNER_TOOL_CACHE:"/opt/hostedtoolcache",NODE:"/usr/local/bin/node",npm_package_name:"@sudoku-studio/web",GITHUB_ACTION:"__run_3",GITHUB_RUN_NUMBER:"256",AGENT_TOOLSDIRECTORY:"/opt/hostedtoolcache",LANG:"C.UTF-8",VCPKG_INSTALLATION_ROOT:"/usr/local/share/vcpkg",CONDA:"/usr/share/miniconda",XDG_CONFIG_HOME:"/home/runner/.config",GITHUB_REPOSITORY:"SudokuStudio/SudokuStudio",npm_lifecycle_script:"rollup -c",ANDROID_NDK_ROOT:"/usr/local/lib/android/sdk/ndk-bundle",GITHUB_ACTION_REF:"",DEBIAN_FRONTEND:"noninteractive",GITHUB_ACTIONS:"true",npm_lifecycle_event:"build",GITHUB_WORKSPACE:"/home/runner/work/SudokuStudio/SudokuStudio",ACCEPT_EULA:"Y",GITHUB_JOB:"publish",RUNNER_PERFLOG:"/home/runner/perflog",GITHUB_SHA:"8ecdcee9323414ac0863fff575eb5c9c596c4439",GITHUB_REF:"refs/heads/main",GITHUB_ACTOR:"MingweiSamuel",ANDROID_SDK_ROOT:"/usr/local/lib/android/sdk",LEIN_HOME:"/usr/local/lib/lein",npm_config_globalconfig:"/usr/local/etc/npmrc",npm_config_init_module:"/home/runner/.npm-init.js",GITHUB_PATH:"/home/runner/work/_temp/_runner_file_commands/add_path_c82c5464-0803-4508-8991-d48ce9c6cdbe",JAVA_HOME:"/usr/lib/jvm/adoptopenjdk-11-hotspot-amd64",PWD:"/home/runner/work/SudokuStudio/SudokuStudio/packages/web",RUNNER_WORKSPACE:"/home/runner/work/SudokuStudio",npm_execpath:"/usr/local/lib/node_modules/npm/bin/npm-cli.js",HOMEBREW_CLEANUP_PERIODIC_FULL_DAYS:"3650",GITHUB_EVENT_NAME:"push",HOMEBREW_NO_AUTO_UPDATE:"1",ANDROID_HOME:"/usr/local/lib/android/sdk",GITHUB_SERVER_URL:"https://github.com",GECKOWEBDRIVER:"/usr/local/share/gecko_driver",LEIN_JAR:"/usr/local/lib/lein/self-installs/leiningen-2.9.6-standalone.jar",HOMEBREW_REPOSITORY:'"/home/linuxbrew/.linuxbrew/Homebrew"',npm_command:"run-script",SGX_AESM_ADDR:"1",CHROME_BIN:"/usr/bin/google-chrome",SELENIUM_JAR_PATH:"/usr/share/java/selenium-server-standalone.jar",ANDROID_NDK_HOME:"/usr/local/lib/android/sdk/ndk-bundle",INIT_CWD:"/home/runner/work/SudokuStudio/SudokuStudio",EDITOR:"vi"}.UMBRELLA_ASSERTS}catch(e){}return!1})()?(e,t="assertion failed")=>{if("function"==typeof e&&!e()||!e)throw new Error("function"==typeof t?t():t)}:()=>{},pt=e=>new Array(e).fill(0).map(((t,n)=>1<<e-1-n));pt(8),pt(16),pt(32);const mt=new Array(33).fill(0).map(((e,t)=>Math.pow(2,t)-1)),gt=(e,t=0,n=1)=>(e=>(e=153391689&((e=51130563&((e=50393103&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2))>>>0)(((e,t,n,r)=>(ft(((e,t,n)=>e>=t&&e<=n)(e,t,n),`value ${e} not in range [${t}..${n}]`),Math.round(((e,t,n,r,o)=>r+(o-r)*((e,t,n)=>n!==t?(e-t)/(n-t):0)(e,t,n))(e,t,n,0,mt[r]))))(e,t,n,10)),vt=[0,0,0],_t=[1,1,1],bt=(e,t=vt,n=_t)=>((e,t,n,r=0,o=1,i=r,l=o,s=r,a=o)=>(gt(e,r,o)|gt(t,i,l)<<1|gt(n,s,a)<<2)>>>0)(e[0],e[1],e[2],t[0],n[0],t[1],n[1],t[2],n[2]);function yt(e,t,n){const r=e.slice();return r[5]=t[n].idx,r[6]=t[n].slices,r}function kt(e,t,n){const r=e.slice();return r[9]=t[n].d,r[10]=t[n].fill,r}function wt(e){let t,n,r;return{c(){t=K("path"),ee(t,"d",n=e[9]),ee(t,"fill",r=e[10]),ee(t,"fill-opacity","0.6"),ee(t,"stroke","none")},m(e,n){F(e,t,n)},p(e,o){4&o&&n!==(n=e[9])&&ee(t,"d",n),4&o&&r!==(r=e[10])&&ee(t,"fill",r)},d(e){e&&V(t)}}}function Tt(e,t){let n,r,o=t[6],i=[];for(let e=0;e<o.length;e+=1)i[e]=wt(kt(t,o,e));return{key:e,first:null,c(){n=K("g");for(let e=0;e<i.length;e+=1)i[e].c();ee(n,"id",r="colors-"+t[0]+"-"+t[5]),this.first=n},m(e,t){F(e,n,t);for(let e=0;e<i.length;e+=1)i[e].m(n,null)},p(e,l){if(t=e,12&l){let e;for(o=t[6],e=0;e<o.length;e+=1){const r=kt(t,o,e);i[e]?i[e].p(r,l):(i[e]=wt(r),i[e].c(),i[e].m(n,null))}for(;e<i.length;e+=1)i[e].d(1);i.length=o.length}5&l&&r!==(r="colors-"+t[0]+"-"+t[5])&&ee(n,"id",r)},d(e){e&&V(n),z(i,e)}}}function xt(e){let t,n=[],r=new Map,o=e[3](e[2]||{});const i=e=>e[5];for(let t=0;t<o.length;t+=1){let l=yt(e,o,t),s=i(l);r.set(s,n[t]=Tt(s,l))}return{c(){t=K("g");for(let e=0;e<n.length;e+=1)n[e].c();ee(t,"id",e[0])},m(e,r){F(e,t,r);for(let e=0;e<n.length;e+=1)n[e].m(t,null)},p(e,[l]){13&l&&(o=e[3](e[2]||{}),n=He(n,l,i,1,e,o,r,t,Ee,Tt,null,yt)),1&l&&ee(t,"id",e[0])},i:H,o:H,d(e){e&&V(t);for(let e=0;e<n.length;e+=1)n[e].d()}}}function Et(e,t,n){let r,o=H,i=()=>(o(),o=C(s,(e=>n(2,r=e))),s);e.$$.on_destroy.push((()=>o()));let{id:l}=t,{ref:s}=t;i();let{grid:a}=t;return e.$$set=e=>{"id"in e&&n(0,l=e.id),"ref"in e&&i(n(1,s=e.ref)),"grid"in e&&n(4,a=e.grid)},[l,s,r,function(e){const t=[];for(const[n,r]of Object.entries(e)){const e=Object.keys(r||{});e.sort(((e,t)=>{const n=ot.hexToHsluv(e),r=ot.hexToHsluv(t);return bt(n,[0,0,0],[361,101,101])-bt(r,[0,0,0],[361,101,101])}));const o=e.map(((e,t,r)=>({fill:e,d:x(+n,a,t,r.length)})));t.push({idx:+n,slices:o})}return t},a]}function Ot(e,t,n){const r=e.slice();return r[5]=t[n].idx,r[6]=t[n].x,r[7]=t[n].y,r[8]=t[n].nums,r}function Ht(e,t){let n,r,o,i,l,s=t[8].join("")+"";return{key:e,first:null,c(){n=K("text"),r=W(s),ee(n,"x",o=t[6]),ee(n,"y",i=t[7]),ee(n,"fill","#4e72b0"),ee(n,"text-anchor","middle"),ee(n,"dominant-baseline","central"),ee(n,"font-size","0.3"),ee(n,"font-weight","600"),ee(n,"textLength",l=t[8].length>5?"0.9":void 0),ee(n,"lengthAdjust","spacingAndGlyphs"),this.first=n},m(e,t){F(e,n,t),B(n,r)},p(e,a){t=e,4&a&&s!==(s=t[8].join("")+"")&&te(r,s),4&a&&o!==(o=t[6])&&ee(n,"x",o),4&a&&i!==(i=t[7])&&ee(n,"y",i),4&a&&l!==(l=t[8].length>5?"0.9":void 0)&&ee(n,"textLength",l)},d(e){e&&V(n)}}}function $t(e){let t,n=[],r=new Map,o=e[3](e[2]||{});const i=e=>e[5];for(let t=0;t<o.length;t+=1){let l=Ot(e,o,t),s=i(l);r.set(s,n[t]=Ht(s,l))}return{c(){t=K("g");for(let e=0;e<n.length;e+=1)n[e].c();ee(t,"id",e[0]),ee(t,"mask","url(#SUDOKU_MASK_GIVENS_FILLED)")},m(e,r){F(e,t,r);for(let e=0;e<n.length;e+=1)n[e].m(t,null)},p(e,[l]){12&l&&(o=e[3](e[2]||{}),n=He(n,l,i,1,e,o,r,t,Ee,Ht,null,Ot)),1&l&&ee(t,"id",e[0])},i:H,o:H,d(e){e&&V(t);for(let e=0;e<n.length;e+=1)n[e].d()}}}function St(e,t,n){let r,o=H,i=()=>(o(),o=C(s,(e=>n(2,r=e))),s);e.$$.on_destroy.push((()=>o()));let{id:l}=t,{ref:s}=t;i();let{grid:a}=t;return e.$$set=e=>{"id"in e&&n(0,l=e.id),"ref"in e&&i(n(1,s=e.ref)),"grid"in e&&n(4,a=e.grid)},[l,s,r,function(e){const t=[];for(const[n,r]of Object.entries(e)){const[e,o]=c(+n,a).map((e=>e+.5));t.push({idx:+n,x:e,y:o,nums:v(r)})}return t},a]}function At(e,t,n){const r=e.slice();return r[5]=t[n].idx,r[6]=t[n].nums,r}function It(e,t,n){const r=e.slice();return r[9]=t[n].x,r[10]=t[n].y,r[11]=t[n].num,r}function Rt(e){let t,n,r,o,i=e[11]+"";return{c(){t=K("text"),n=W(i),ee(t,"x",r=e[9]),ee(t,"y",o=e[10]),ee(t,"fill","#4e72b0"),ee(t,"text-anchor","middle"),ee(t,"dominant-baseline","central"),ee(t,"font-size","0.3"),ee(t,"font-weight","600")},m(e,r){F(e,t,r),B(t,n)},p(e,l){4&l&&i!==(i=e[11]+"")&&te(n,i),4&l&&r!==(r=e[9])&&ee(t,"x",r),4&l&&o!==(o=e[10])&&ee(t,"y",o)},d(e){e&&V(t)}}}function Ct(e,t){let n,r,o=t[6],i=[];for(let e=0;e<o.length;e+=1)i[e]=Rt(It(t,o,e));return{key:e,first:null,c(){n=Y();for(let e=0;e<i.length;e+=1)i[e].c();r=Y(),this.first=n},m(e,t){F(e,n,t);for(let n=0;n<i.length;n+=1)i[n].m(e,t);F(e,r,t)},p(e,n){if(t=e,12&n){let e;for(o=t[6],e=0;e<o.length;e+=1){const l=It(t,o,e);i[e]?i[e].p(l,n):(i[e]=Rt(l),i[e].c(),i[e].m(r.parentNode,r))}for(;e<i.length;e+=1)i[e].d(1);i.length=o.length}},d(e){e&&V(n),z(i,e),e&&V(r)}}}function Mt(e){let t,n=[],r=new Map,o=e[3](e[2]||{});const i=e=>e[5];for(let t=0;t<o.length;t+=1){let l=At(e,o,t),s=i(l);r.set(s,n[t]=Ct(s,l))}return{c(){t=K("g");for(let e=0;e<n.length;e+=1)n[e].c();ee(t,"id",e[0]),ee(t,"mask","url(#SUDOKU_MASK_GIVENS_FILLED)")},m(e,r){F(e,t,r);for(let e=0;e<n.length;e+=1)n[e].m(t,null)},p(e,[l]){12&l&&(o=e[3](e[2]||{}),n=He(n,l,i,1,e,o,r,t,Ee,Ct,null,At)),1&l&&ee(t,"id",e[0])},i:H,o:H,d(e){e&&V(t);for(let e=0;e<n.length;e+=1)n[e].d()}}}function Nt(e,t,n){let r,o=H,i=()=>(o(),o=C(s,(e=>n(2,r=e))),s);e.$$.on_destroy.push((()=>o()));let{id:l}=t,{ref:s}=t;i();let{grid:a}=t;return e.$$set=e=>{"id"in e&&n(0,l=e.id),"ref"in e&&i(n(1,s=e.ref)),"grid"in e&&n(4,a=e.grid)},[l,s,r,function(e){const t=[];for(const[n,r]of Object.entries(e)){const e=c(+n,a)[0]+.5,o=c(+n,a)[1]+.5,i=!0===r?[]:v(r).map(((t,n,r)=>{const[i,l]=w(n,r.length);return{x:e+i,y:o+l,num:t}}));t.push({idx:+n,nums:i})}return t},a]}function Lt(e){let t,n,r,o,i,l,s,a,u,c,d,h,f,p,m,g,v,_,b,y,k,w,T;return{c(){t=K("filter"),n=K("feGaussianBlur"),r=K("feComponentTransfer"),o=K("feFuncR"),i=K("feFuncG"),l=K("feFuncB"),s=K("feFuncA"),u=X(),c=K("mask"),d=K("rect"),p=K("path"),b=X(),y=K("g"),k=K("path"),w=K("path"),ee(n,"in","SourceGraphic"),ee(n,"stdDeviation",Ut),ee(o,"type","identity"),ee(i,"type","identity"),ee(l,"type","identity"),ee(s,"type","linear"),ee(s,"slope","20"),ee(s,"intercept","-9.5"),ee(t,"id",a="select-"+e[0]+"-blur"),ee(d,"x","0"),ee(d,"y","0"),ee(d,"width",h=e[1].width),ee(d,"height",f=e[1].height),ee(d,"fill",Pt),ee(p,"d",e[2]),ee(p,"fill",Gt),ee(p,"stroke","none"),ee(p,"filter",m="url(#select-"+e[0]+"-blur)"),ee(c,"id",g="select-"+e[0]+"-mask"),ee(c,"maskUnits","userSpaceOnUse"),ee(c,"x","0"),ee(c,"y","0"),ee(c,"width",v=e[1].width),ee(c,"height",_=e[1].height),ee(k,"d",e[3]),ee(k,"fill",Dt),ee(k,"stroke","none"),ee(w,"d",e[4]),ee(w,"fill",Dt),ee(w,"stroke","none"),ee(w,"mask",T="url(#select-"+e[0]+"-mask)"),ee(y,"id",e[0])},m(e,a){F(e,t,a),B(t,n),B(t,r),B(r,o),B(r,i),B(r,l),B(r,s),F(e,u,a),F(e,c,a),B(c,d),B(c,p),F(e,b,a),F(e,y,a),B(y,k),B(y,w)},p(e,[n]){1&n&&a!==(a="select-"+e[0]+"-blur")&&ee(t,"id",a),2&n&&h!==(h=e[1].width)&&ee(d,"width",h),2&n&&f!==(f=e[1].height)&&ee(d,"height",f),4&n&&ee(p,"d",e[2]),1&n&&m!==(m="url(#select-"+e[0]+"-blur)")&&ee(p,"filter",m),1&n&&g!==(g="select-"+e[0]+"-mask")&&ee(c,"id",g),2&n&&v!==(v=e[1].width)&&ee(c,"width",v),2&n&&_!==(_=e[1].height)&&ee(c,"height",_),8&n&&ee(k,"d",e[3]),16&n&&ee(w,"d",e[4]),1&n&&T!==(T="url(#select-"+e[0]+"-mask)")&&ee(w,"mask",T),1&n&&ee(y,"id",e[0])},i:H,o:H,d(e){e&&V(t),e&&V(u),e&&V(c),e&&V(b),e&&V(y)}}}const Dt="#08f",Ut=.05,Pt="#b2b2b2",Gt="#080808";function jt(e,t,n){let r,o,i,{id:l}=t,{ref:s}=t,{grid:a}=t;const u=De(s.ref("cursor"),(e=>{if(null==e)return"";const[t,n]=c(e,a);return`M${t},${n}L${t+.2},${n}L${t},${n+.2}Z`}));M(e,u,(e=>n(3,o=e)));const d=s.ref("select"),h=De(d,(e=>y(v(e),a,.075)||void 0));M(e,h,(e=>n(2,r=e)));const f=De(d,(e=>y(v(e),a,0)||void 0));return M(e,f,(e=>n(4,i=e))),e.$$set=e=>{"id"in e&&n(0,l=e.id),"ref"in e&&n(8,s=e.ref),"grid"in e&&n(1,a=e.grid)},[l,a,r,o,i,u,h,f,s]}class Bt extends Ce{constructor(e){super(),Re(this,e,jt,Lt,R,{id:0,ref:8,grid:1})}}function Ft(e){let t,n,r,o,i,l,s;return{c(){t=K("g"),n=K("line"),i=K("line"),ee(n,"x1","0"),ee(n,"y1",r=e[1].height),ee(n,"x2",o=e[1].width),ee(n,"y2","0"),ee(n,"class","svelte-1qd4hgf"),oe(n,"hide",!e[2]),ee(i,"x1","0"),ee(i,"y1","0"),ee(i,"x2",l=e[1].width),ee(i,"y2",s=e[1].height),ee(i,"class","svelte-1qd4hgf"),oe(i,"hide",!e[3]),ee(t,"id",e[0])},m(e,r){F(e,t,r),B(t,n),B(t,i)},p(e,[a]){2&a&&r!==(r=e[1].height)&&ee(n,"y1",r),2&a&&o!==(o=e[1].width)&&ee(n,"x2",o),4&a&&oe(n,"hide",!e[2]),2&a&&l!==(l=e[1].width)&&ee(i,"x2",l),2&a&&s!==(s=e[1].height)&&ee(i,"y2",s),8&a&&oe(i,"hide",!e[3]),1&a&&ee(t,"id",e[0])},i:H,o:H,d(e){e&&V(t)}}}function Vt(e,t,n){let r,o,{id:i}=t,{ref:l}=t,{grid:s}=t;const a=l.ref("positive");M(e,a,(e=>n(2,r=e)));const u=l.ref("negative");return M(e,u,(e=>n(3,o=e))),e.$$set=e=>{"id"in e&&n(0,i=e.id),"ref"in e&&n(6,l=e.ref),"grid"in e&&n(1,s=e.grid)},[i,s,r,o,a,u,l]}function zt(e,t,n){const r=e.slice();return r[13]=t[n].idx,r[14]=t[n].x,r[15]=t[n].y,r[16]=t[n].text,r}function qt(e,t){let n,r,o,i,l,s,a,u=t[16]+"";return{key:e,first:null,c(){n=K("circle"),i=K("text"),l=W(u),ee(n,"cx",r=t[14]),ee(n,"cy",o=t[15]),ee(n,"r",t[5]),ee(n,"fill",t[3]),ee(n,"stroke",t[2]),ee(n,"stroke-width",t[6]),ee(i,"x",s=t[14]),ee(i,"y",a=t[15]),ee(i,"text-anchor","middle"),ee(i,"dominant-baseline","central"),ee(i,"fill",t[4]),ee(i,"font-size",t[7]),ee(i,"font-weight",t[8]),this.first=n},m(e,t){F(e,n,t),F(e,i,t),B(i,l)},p(e,c){t=e,512&c&&r!==(r=t[14])&&ee(n,"cx",r),512&c&&o!==(o=t[15])&&ee(n,"cy",o),32&c&&ee(n,"r",t[5]),8&c&&ee(n,"fill",t[3]),4&c&&ee(n,"stroke",t[2]),64&c&&ee(n,"stroke-width",t[6]),512&c&&u!==(u=t[16]+"")&&te(l,u),512&c&&s!==(s=t[14])&&ee(i,"x",s),512&c&&a!==(a=t[15])&&ee(i,"y",a),16&c&&ee(i,"fill",t[4]),128&c&&ee(i,"font-size",t[7]),256&c&&ee(i,"font-weight",t[8])},d(e){e&&V(n),e&&V(i)}}}function Kt(e){let t,n=[],r=new Map,o=e[10](e[9]||{});const i=e=>e[13];for(let t=0;t<o.length;t+=1){let l=zt(e,o,t),s=i(l);r.set(s,n[t]=qt(s,l))}return{c(){t=K("g");for(let e=0;e<n.length;e+=1)n[e].c();ee(t,"id",e[0])},m(e,r){F(e,t,r);for(let e=0;e<n.length;e+=1)n[e].m(t,null)},p(e,[l]){2044&l&&(o=e[10](e[9]||{}),n=He(n,l,i,1,e,o,r,t,Ee,qt,null,zt)),1&l&&ee(t,"id",e[0])},i:H,o:H,d(e){e&&V(t);for(let e=0;e<n.length;e+=1)n[e].d()}}}function Wt(e,t,n){let r,o=H,i=()=>(o(),o=C(s,(e=>n(9,r=e))),s);e.$$.on_destroy.push((()=>o()));let{id:l}=t,{ref:s}=t;i();let{grid:a}=t,{stroke:u="#242424"}=t,{fill:c="#fff"}=t,{textColor:d="#000"}=t,{radius:h=.15}=t,{strokeWidth:f=.02}=t,{fontSize:p=.25}=t,{fontWeight:g=600}=t,{mapDigits:v=(e=>!0!==e?`${e}`:"")}=t;return e.$$set=e=>{"id"in e&&n(0,l=e.id),"ref"in e&&i(n(1,s=e.ref)),"grid"in e&&n(11,a=e.grid),"stroke"in e&&n(2,u=e.stroke),"fill"in e&&n(3,c=e.fill),"textColor"in e&&n(4,d=e.textColor),"radius"in e&&n(5,h=e.radius),"strokeWidth"in e&&n(6,f=e.strokeWidth),"fontSize"in e&&n(7,p=e.fontSize),"fontWeight"in e&&n(8,g=e.fontWeight),"mapDigits"in e&&n(12,v=e.mapDigits)},[l,s,u,c,d,h,f,p,g,r,function(e){const t=[];for(const[n,r]of Object.entries(e)){const e=v(r),[o,i]=m(+n,a);t.push({idx:+n,x:o,y:i,text:e})}return t},a,v]}class Xt extends Ce{constructor(e){super(),Re(this,e,Wt,Kt,R,{id:0,ref:1,grid:11,stroke:2,fill:3,textColor:4,radius:5,strokeWidth:6,fontSize:7,fontWeight:8,mapDigits:12})}}function Yt(e,t,n){const r=e.slice();return r[5]=t[n].idx,r[6]=t[n].x,r[7]=t[n].y,r[8]=t[n].lines,r}function Jt(e,t,n){const r=e.slice();return r[11]=t[n],r[13]=n,r}function Zt(e){let t,n,r,o,i=e[11]+"";return{c(){t=K("text"),n=W(i),ee(t,"x",r=e[6]),ee(t,"y",o=e[7]+on*(e[13]-.5*(e[8].length-1))),ee(t,"text-anchor","middle"),ee(t,"dominant-baseline","central"),ee(t,"font-size",on),ee(t,"font-weight","600")},m(e,r){F(e,t,r),B(t,n)},p(e,l){4&l&&i!==(i=e[11]+"")&&te(n,i),4&l&&r!==(r=e[6])&&ee(t,"x",r),4&l&&o!==(o=e[7]+on*(e[13]-.5*(e[8].length-1)))&&ee(t,"y",o)},d(e){e&&V(t)}}}function Qt(e,t){let n,r,o,i,l=t[8],s=[];for(let e=0;e<l.length;e+=1)s[e]=Zt(Jt(t,l,e));return{key:e,first:null,c(){n=K("circle");for(let e=0;e<s.length;e+=1)s[e].c();i=Y(),ee(n,"cx",r=t[6]),ee(n,"cy",o=t[7]),ee(n,"r",tn),ee(n,"fill","#fff"),ee(n,"stroke","#000"),ee(n,"stroke-width",nn),this.first=n},m(e,t){F(e,n,t);for(let n=0;n<s.length;n+=1)s[n].m(e,t);F(e,i,t)},p(e,a){if(t=e,4&a&&r!==(r=t[6])&&ee(n,"cx",r),4&a&&o!==(o=t[7])&&ee(n,"cy",o),12&a){let e;for(l=t[8],e=0;e<l.length;e+=1){const n=Jt(t,l,e);s[e]?s[e].p(n,a):(s[e]=Zt(n),s[e].c(),s[e].m(i.parentNode,i))}for(;e<s.length;e+=1)s[e].d(1);s.length=l.length}},d(e){e&&V(n),z(s,e),e&&V(i)}}}function en(e){let t,n=[],r=new Map,o=e[3](e[2]||{});const i=e=>e[5];for(let t=0;t<o.length;t+=1){let l=Yt(e,o,t),s=i(l);r.set(s,n[t]=Qt(s,l))}return{c(){t=K("g");for(let e=0;e<n.length;e+=1)n[e].c();ee(t,"id",e[0])},m(e,r){F(e,t,r);for(let e=0;e<n.length;e+=1)n[e].m(t,null)},p(e,[l]){12&l&&(o=e[3](e[2]||{}),n=He(n,l,i,1,e,o,r,t,Ee,Qt,null,Yt)),1&l&&ee(t,"id",e[0])},i:H,o:H,d(e){e&&V(t);for(let e=0;e<n.length;e+=1)n[e].d()}}}const tn=.2125,nn=.02,rn=/.{1,2}/g,on=.2;function ln(e,t,n){let r,o=H,i=()=>(o(),o=C(s,(e=>n(2,r=e))),s);e.$$.on_destroy.push((()=>o()));let{id:l}=t,{ref:s}=t;i();let{grid:a}=t;return e.$$set=e=>{"id"in e&&n(0,l=e.id),"ref"in e&&i(n(1,s=e.ref)),"grid"in e&&n(4,a=e.grid)},[l,s,r,function(e){const t=[];for(const[n,r]of Object.entries(e)){const[e,o]=p(+n,a),i=u(r).join("").match(rn)||[];t.push({idx:+n,x:e,y:o,lines:i})}return t},a]}function sn(e,t,n){const r=e.slice();return r[5]=t[n].cageId,r[6]=t[n].sum,r[7]=t[n].labelPos,r[8]=t[n].d,r}function an(e,t,n){const r=e.slice();return r[5]=t[n].cageId,r[6]=t[n].sum,r[7]=t[n].labelPos,r}function un(e,t){let n,r,o,i;return{key:e,first:null,c(){n=K("rect"),ee(n,"x",r=t[7].x),ee(n,"y",o=t[7].y),ee(n,"width",i=.7*`${t[6]}`.length*fn),ee(n,"height",1.1*fn),ee(n,"fill","#000"),this.first=n},m(e,t){F(e,n,t)},p(e,l){t=e,8&l&&r!==(r=t[7].x)&&ee(n,"x",r),8&l&&o!==(o=t[7].y)&&ee(n,"y",o),8&l&&i!==(i=.7*`${t[6]}`.length*fn)&&ee(n,"width",i)},d(e){e&&V(n)}}}function cn(e,t){let n,r,o,i,l,s,a,u=t[6]+"";return{key:e,first:null,c(){n=K("text"),r=W(u),l=K("path"),ee(n,"x",o=t[7].x),ee(n,"y",i=t[7].y),ee(n,"text-anchor","start"),ee(n,"dominant-baseline","hanging"),ee(n,"font-size",fn),ee(n,"font-weight","600"),ee(l,"d",s=t[8]),ee(l,"fill","none"),ee(l,"stroke","#000"),ee(l,"stroke-width",pn),ee(l,"stroke-dasharray","0.075 0.04"),ee(l,"mask",a="url(#killer-"+t[0]+"-mask)"),this.first=n},m(e,t){F(e,n,t),B(n,r),F(e,l,t)},p(e,c){t=e,8&c&&u!==(u=t[6]+"")&&te(r,u),8&c&&o!==(o=t[7].x)&&ee(n,"x",o),8&c&&i!==(i=t[7].y)&&ee(n,"y",i),8&c&&s!==(s=t[8])&&ee(l,"d",s),1&c&&a!==(a="url(#killer-"+t[0]+"-mask)")&&ee(l,"mask",a)},d(e){e&&V(n),e&&V(l)}}}function dn(e){let t,n,r,o,i,l,s,a,u,c=[],d=new Map,h=[],f=new Map,p=e[4](e[3]||{});const m=e=>e[5];for(let t=0;t<p.length;t+=1){let n=an(e,p,t),r=m(n);d.set(r,c[t]=un(r,n))}let g=e[4](e[3]||{});const v=e=>e[5];for(let t=0;t<g.length;t+=1){let n=sn(e,g,t),r=v(n);f.set(r,h[t]=cn(r,n))}return{c(){t=K("mask"),n=K("rect");for(let e=0;e<c.length;e+=1)c[e].c();a=X(),u=K("g");for(let e=0;e<h.length;e+=1)h[e].c();ee(n,"x","0"),ee(n,"y","0"),ee(n,"width",r=e[2].width),ee(n,"height",o=e[2].height),ee(n,"fill","#fff"),ee(t,"id",i="killer-"+e[0]+"-mask"),ee(t,"maskUnits","userSpaceOnUse"),ee(t,"maskContentUnits","userSpaceOnUse"),ee(t,"x","0"),ee(t,"y","0"),ee(t,"width",l=e[2].width),ee(t,"height",s=e[2].height),ee(u,"id",e[0])},m(e,r){F(e,t,r),B(t,n);for(let e=0;e<c.length;e+=1)c[e].m(t,null);F(e,a,r),F(e,u,r);for(let e=0;e<h.length;e+=1)h[e].m(u,null)},p(e,[a]){4&a&&r!==(r=e[2].width)&&ee(n,"width",r),4&a&&o!==(o=e[2].height)&&ee(n,"height",o),24&a&&(p=e[4](e[3]||{}),c=He(c,a,m,1,e,p,d,t,Ee,un,null,an)),1&a&&i!==(i="killer-"+e[0]+"-mask")&&ee(t,"id",i),4&a&&l!==(l=e[2].width)&&ee(t,"width",l),4&a&&s!==(s=e[2].height)&&ee(t,"height",s),25&a&&(g=e[4](e[3]||{}),h=He(h,a,v,1,e,g,f,u,Ee,cn,null,sn)),1&a&&ee(u,"id",e[0])},i:H,o:H,d(e){e&&V(t);for(let e=0;e<c.length;e+=1)c[e].d();e&&V(a),e&&V(u);for(let e=0;e<h.length;e+=1)h[e].d()}}}const hn=.075,fn=.2,pn=.015;function mn(e,t,n){let r,o=H,i=()=>(o(),o=C(s,(e=>n(3,r=e))),s);e.$$.on_destroy.push((()=>o()));let{id:l}=t,{ref:s}=t;i();let{grid:a}=t;return e.$$set=e=>{"id"in e&&n(0,l=e.id),"ref"in e&&i(n(1,s=e.ref)),"grid"in e&&n(2,a=e.grid)},[l,s,a,r,function(e){const t=[];for(const[n,{sum:r,cells:o}]of Object.entries(e)){const e=g(o,a),i=y(v(o),a,hn);if(null!=i&&null!=e){const o=c(e,a),l={x:o[0]+hn-pn,y:o[1]+hn-pn};t.push({cageId:n,sum:r,labelPos:l,d:i})}}return t}]}function gn(e,t,n){const r=e.slice();return r[4]=t[n][0],r[5]=t[n][1],r}function vn(e,t,n){const r=e.slice();return r[4]=t[n][0],r[5]=t[n][1],r}function _n(e,t,n){const r=e.slice();return r[4]=t[n][0],r[5]=t[n][1],r}function bn(e,t){let n,r,o;return{key:e,first:null,c(){n=K("use"),ee(n,"href",r="#max-"+t[0]+"-maskitem"),ee(n,"transform",o="translate("+c(+t[4],t[2])[0]+","+c(+t[4],t[2])[1]+")"),ee(n,"fill","#000"),this.first=n},m(e,t){F(e,n,t)},p(e,i){t=e,1&i&&r!==(r="#max-"+t[0]+"-maskitem")&&ee(n,"href",r),12&i&&o!==(o="translate("+c(+t[4],t[2])[0]+","+c(+t[4],t[2])[1]+")")&&ee(n,"transform",o)},d(e){e&&V(n)}}}function yn(e,t){let n,r,o;return{key:e,first:null,c(){n=K("rect"),ee(n,"x",r=c(+t[4],t[2])[0]),ee(n,"y",o=c(+t[4],t[2])[1]),ee(n,"width","1"),ee(n,"height","1"),ee(n,"fill","#7d3737"),ee(n,"fill-opacity","0.1"),this.first=n},m(e,t){F(e,n,t)},p(e,i){t=e,12&i&&r!==(r=c(+t[4],t[2])[0])&&ee(n,"x",r),12&i&&o!==(o=c(+t[4],t[2])[1])&&ee(n,"y",o)},d(e){e&&V(n)}}}function kn(e,t){let n,r,o;return{key:e,first:null,c(){n=K("use"),ee(n,"href",r="#max-"+t[0]),ee(n,"transform",o="translate("+c(+t[4],t[2])[0]+","+c(+t[4],t[2])[1]+")"),this.first=n},m(e,t){F(e,n,t)},p(e,i){t=e,1&i&&r!==(r="#max-"+t[0])&&ee(n,"href",r),12&i&&o!==(o="translate("+c(+t[4],t[2])[0]+","+c(+t[4],t[2])[1]+")")&&ee(n,"transform",o)},d(e){e&&V(n)}}}function wn(e){let t,n,r,o,i,l,s,a,u,c,d,h,f,p,m,g,v,_,b,y,k,w=[],T=new Map,x=[],E=new Map,O=[],$=new Map,S=Object.entries(e[3]||{});const A=e=>e[4];for(let t=0;t<S.length;t+=1){let n=_n(e,S,t),r=A(n);T.set(r,w[t]=bn(r,n))}let I=Object.entries(e[3]||{});const R=e=>e[4];for(let t=0;t<I.length;t+=1){let n=vn(e,I,t),r=R(n);E.set(r,x[t]=yn(r,n))}let C=Object.entries(e[3]||{});const M=e=>e[4];for(let t=0;t<C.length;t+=1){let n=gn(e,C,t),r=M(n);$.set(r,O[t]=kn(r,n))}return{c(){t=K("path"),r=X(),o=K("path"),l=X(),s=K("mask"),a=K("rect");for(let e=0;e<w.length;e+=1)w[e].c();p=X(),m=K("rect"),_=X(),b=K("g");for(let e=0;e<x.length;e+=1)x[e].c();y=K("g");for(let e=0;e<O.length;e+=1)O[e].c();ee(t,"id",n="max-"+e[0]),ee(t,"d","M 0.12,0.38 L 0.08,0.50 L 0.12,0.62 M 0.38,0.12 L 0.50,0.08 L 0.62,0.12 M 0.88,0.62 L 0.92,0.50 L 0.88,0.38 M 0.62,0.88 L 0.50,0.92 L 0.38,0.88"),ee(t,"fill","none"),ee(t,"stroke","#000"),ee(t,"stroke-width","0.025"),ee(t,"stroke-miterlimit","1.5"),ee(o,"id",i="max-"+e[0]+"-maskitem"),ee(o,"d","M -0.5,0.5 L 0.5,-0.5 L 1.5,0.5 L 0.5,1.5 M 0,0 L 0,1 L 1,1 L 1,0"),ee(o,"fill","#000"),ee(a,"x","0.25"),ee(a,"y","0.25"),ee(a,"width",u=e[2].width-.5),ee(a,"height",c=e[2].height-.5),ee(a,"fill","#fff"),ee(s,"id",d="max-"+e[0]+"-mask"),ee(s,"maskUnits","userSpaceOnUse"),ee(s,"maskContentUnits","userSpaceOnUse"),ee(s,"x","0"),ee(s,"y","0"),ee(s,"width",h=e[2].width),ee(s,"height",f=e[2].height),ee(m,"width",g=e[2].width),ee(m,"height",v=e[2].height),ee(m,"fill","#fff"),ee(y,"mask",k="url(#max-"+e[0]+"-mask)"),ee(b,"id",e[0])},m(e,n){F(e,t,n),F(e,r,n),F(e,o,n),F(e,l,n),F(e,s,n),B(s,a);for(let e=0;e<w.length;e+=1)w[e].m(s,null);F(e,p,n),F(e,m,n),F(e,_,n),F(e,b,n);for(let e=0;e<x.length;e+=1)x[e].m(b,null);B(b,y);for(let e=0;e<O.length;e+=1)O[e].m(y,null)},p(e,[r]){1&r&&n!==(n="max-"+e[0])&&ee(t,"id",n),1&r&&i!==(i="max-"+e[0]+"-maskitem")&&ee(o,"id",i),4&r&&u!==(u=e[2].width-.5)&&ee(a,"width",u),4&r&&c!==(c=e[2].height-.5)&&ee(a,"height",c),13&r&&(S=Object.entries(e[3]||{}),w=He(w,r,A,1,e,S,T,s,Ee,bn,null,_n)),1&r&&d!==(d="max-"+e[0]+"-mask")&&ee(s,"id",d),4&r&&h!==(h=e[2].width)&&ee(s,"width",h),4&r&&f!==(f=e[2].height)&&ee(s,"height",f),4&r&&g!==(g=e[2].width)&&ee(m,"width",g),4&r&&v!==(v=e[2].height)&&ee(m,"height",v),12&r&&(I=Object.entries(e[3]||{}),x=He(x,r,R,1,e,I,E,b,Ee,yn,y,vn)),13&r&&(C=Object.entries(e[3]||{}),O=He(O,r,M,1,e,C,$,y,Ee,kn,null,gn)),1&r&&k!==(k="url(#max-"+e[0]+"-mask)")&&ee(y,"mask",k),1&r&&ee(b,"id",e[0])},i:H,o:H,d(e){e&&V(t),e&&V(r),e&&V(o),e&&V(l),e&&V(s);for(let e=0;e<w.length;e+=1)w[e].d();e&&V(p),e&&V(m),e&&V(_),e&&V(b);for(let e=0;e<x.length;e+=1)x[e].d();for(let e=0;e<O.length;e+=1)O[e].d()}}}function Tn(e,t,n){let r,o=H,i=()=>(o(),o=C(s,(e=>n(3,r=e))),s);e.$$.on_destroy.push((()=>o()));let{id:l}=t,{ref:s}=t;i();let{grid:a}=t;return e.$$set=e=>{"id"in e&&n(0,l=e.id),"ref"in e&&i(n(1,s=e.ref)),"grid"in e&&n(2,a=e.grid)},[l,s,a,r]}function xn(e,t,n){const r=e.slice();return r[4]=t[n][0],r[5]=t[n][1],r}function En(e,t,n){const r=e.slice();return r[4]=t[n][0],r[5]=t[n][1],r}function On(e,t,n){const r=e.slice();return r[4]=t[n][0],r[5]=t[n][1],r}function Hn(e,t){let n,r,o;return{key:e,first:null,c(){n=K("use"),ee(n,"href",r="#min-"+t[0]+"-maskitem"),ee(n,"transform",o="translate("+c(+t[4],t[2])[0]+","+c(+t[4],t[2])[1]+")"),ee(n,"fill","#000"),this.first=n},m(e,t){F(e,n,t)},p(e,i){t=e,1&i&&r!==(r="#min-"+t[0]+"-maskitem")&&ee(n,"href",r),12&i&&o!==(o="translate("+c(+t[4],t[2])[0]+","+c(+t[4],t[2])[1]+")")&&ee(n,"transform",o)},d(e){e&&V(n)}}}function $n(e,t){let n,r,o;return{key:e,first:null,c(){n=K("rect"),ee(n,"x",r=c(+t[4],t[2])[0]),ee(n,"y",o=c(+t[4],t[2])[1]),ee(n,"width","1"),ee(n,"height","1"),ee(n,"fill","#694b7d"),ee(n,"fill-opacity","0.1"),this.first=n},m(e,t){F(e,n,t)},p(e,i){t=e,12&i&&r!==(r=c(+t[4],t[2])[0])&&ee(n,"x",r),12&i&&o!==(o=c(+t[4],t[2])[1])&&ee(n,"y",o)},d(e){e&&V(n)}}}function Sn(e,t){let n,r,o;return{key:e,first:null,c(){n=K("use"),ee(n,"href",r="#min-"+t[0]),ee(n,"transform",o="translate("+c(+t[4],t[2])[0]+","+c(+t[4],t[2])[1]+")"),this.first=n},m(e,t){F(e,n,t)},p(e,i){t=e,1&i&&r!==(r="#min-"+t[0])&&ee(n,"href",r),12&i&&o!==(o="translate("+c(+t[4],t[2])[0]+","+c(+t[4],t[2])[1]+")")&&ee(n,"transform",o)},d(e){e&&V(n)}}}function An(e){let t,n,r,o,i,l,s,a,u,c,d,h,f,p,m,g,v,_,b,y,k,w=[],T=new Map,x=[],E=new Map,O=[],$=new Map,S=Object.entries(e[3]||{});const A=e=>e[4];for(let t=0;t<S.length;t+=1){let n=On(e,S,t),r=A(n);T.set(r,w[t]=Hn(r,n))}let I=Object.entries(e[3]||{});const R=e=>e[4];for(let t=0;t<I.length;t+=1){let n=En(e,I,t),r=R(n);E.set(r,x[t]=$n(r,n))}let C=Object.entries(e[3]||{});const M=e=>e[4];for(let t=0;t<C.length;t+=1){let n=xn(e,C,t),r=M(n);$.set(r,O[t]=Sn(r,n))}return{c(){t=K("path"),r=X(),o=K("path"),l=X(),s=K("mask"),a=K("rect");for(let e=0;e<w.length;e+=1)w[e].c();p=X(),m=K("rect"),_=X(),b=K("g");for(let e=0;e<x.length;e+=1)x[e].c();y=K("g");for(let e=0;e<O.length;e+=1)O[e].c();ee(t,"id",n="min-"+e[0]),ee(t,"d","M 0.08,0.38 L 0.12,0.50 L 0.08,0.62 M 0.38,0.08 L 0.50,0.12 L 0.62,0.08 M 0.92,0.62 L 0.88,0.50 L 0.92,0.38 M 0.62,0.92 L 0.50,0.88 L 0.38,0.92"),ee(t,"fill","none"),ee(t,"stroke","#000"),ee(t,"stroke-width","0.025"),ee(t,"stroke-miterlimit","1.5"),ee(o,"id",i="min-"+e[0]+"-maskitem"),ee(o,"d","M -0.5,0.5 L 0.5,-0.5 L 1.5,0.5 L 0.5,1.5 M 0,0 L 0,1 L 1,1 L 1,0"),ee(o,"fill","#000"),ee(a,"x","0.25"),ee(a,"y","0.25"),ee(a,"width",u=e[2].width-.5),ee(a,"height",c=e[2].height-.5),ee(a,"fill","#fff"),ee(s,"id",d="min-"+e[0]+"-mask"),ee(s,"maskUnits","userSpaceOnUse"),ee(s,"maskContentUnits","userSpaceOnUse"),ee(s,"x","0"),ee(s,"y","0"),ee(s,"width",h=e[2].width),ee(s,"height",f=e[2].height),ee(m,"width",g=e[2].width),ee(m,"height",v=e[2].height),ee(m,"fill","#fff"),ee(y,"mask",k="url(#min-"+e[0]+"-mask)"),ee(b,"id",e[0])},m(e,n){F(e,t,n),F(e,r,n),F(e,o,n),F(e,l,n),F(e,s,n),B(s,a);for(let e=0;e<w.length;e+=1)w[e].m(s,null);F(e,p,n),F(e,m,n),F(e,_,n),F(e,b,n);for(let e=0;e<x.length;e+=1)x[e].m(b,null);B(b,y);for(let e=0;e<O.length;e+=1)O[e].m(y,null)},p(e,[r]){1&r&&n!==(n="min-"+e[0])&&ee(t,"id",n),1&r&&i!==(i="min-"+e[0]+"-maskitem")&&ee(o,"id",i),4&r&&u!==(u=e[2].width-.5)&&ee(a,"width",u),4&r&&c!==(c=e[2].height-.5)&&ee(a,"height",c),13&r&&(S=Object.entries(e[3]||{}),w=He(w,r,A,1,e,S,T,s,Ee,Hn,null,On)),1&r&&d!==(d="min-"+e[0]+"-mask")&&ee(s,"id",d),4&r&&h!==(h=e[2].width)&&ee(s,"width",h),4&r&&f!==(f=e[2].height)&&ee(s,"height",f),4&r&&g!==(g=e[2].width)&&ee(m,"width",g),4&r&&v!==(v=e[2].height)&&ee(m,"height",v),12&r&&(I=Object.entries(e[3]||{}),x=He(x,r,R,1,e,I,E,b,Ee,$n,y,En)),13&r&&(C=Object.entries(e[3]||{}),O=He(O,r,M,1,e,C,$,y,Ee,Sn,null,xn)),1&r&&k!==(k="url(#min-"+e[0]+"-mask)")&&ee(y,"mask",k),1&r&&ee(b,"id",e[0])},i:H,o:H,d(e){e&&V(t),e&&V(r),e&&V(o),e&&V(l),e&&V(s);for(let e=0;e<w.length;e+=1)w[e].d();e&&V(p),e&&V(m),e&&V(_),e&&V(b);for(let e=0;e<x.length;e+=1)x[e].d();for(let e=0;e<O.length;e+=1)O[e].d()}}}function In(e,t,n){let r,o=H,i=()=>(o(),o=C(s,(e=>n(3,r=e))),s);e.$$.on_destroy.push((()=>o()));let{id:l}=t,{ref:s}=t;i();let{grid:a}=t;return e.$$set=e=>{"id"in e&&n(0,l=e.id),"ref"in e&&i(n(1,s=e.ref)),"grid"in e&&n(2,a=e.grid)},[l,s,a,r]}function Rn(e,t,n){const r=e.slice();return r[5]=t[n].arrowId,r[6]=t[n].dBulb,r[7]=t[n].dBody,r}function Cn(e,t){let n,r,o,i,l,s,a,u,c,d,h,f,p,m;return{key:e,first:null,c(){n=K("mask"),r=K("rect"),l=K("path"),u=K("path"),h=K("path"),ee(r,"width",o=t[2].width),ee(r,"height",i=t[2].height),ee(r,"fill","#fff"),ee(l,"d",s=t[6]),ee(l,"fill","none"),ee(l,"stroke","#000"),ee(l,"stroke-width",2*Nn-Ln),ee(l,"stroke-linejoin","round"),ee(l,"stroke-linecap","round"),ee(n,"id",a="arrow-"+t[0]+"-mask-"+t[5]),ee(n,"maskUnits","userSpaceOnUse"),ee(u,"d",c=t[6]),ee(u,"fill","none"),ee(u,"stroke","#000"),ee(u,"stroke-width",2*Nn+Ln),ee(u,"mask",d="url(#arrow-"+t[0]+"-mask-"+t[5]+")"),ee(u,"stroke-linejoin","round"),ee(u,"stroke-linecap","round"),ee(h,"d",f=t[7]),ee(h,"fill","none"),ee(h,"stroke","#000"),ee(h,"stroke-width",Dn),ee(h,"mask",p="url(#arrow-"+t[0]+"-mask-"+t[5]+")"),ee(h,"stroke-miterlimit","1.5"),ee(h,"marker-end",m="url(#arrow-bulb-"+t[0]+")"),this.first=n},m(e,t){F(e,n,t),B(n,r),B(n,l),F(e,u,t),F(e,h,t)},p(e,g){t=e,4&g&&o!==(o=t[2].width)&&ee(r,"width",o),4&g&&i!==(i=t[2].height)&&ee(r,"height",i),8&g&&s!==(s=t[6])&&ee(l,"d",s),9&g&&a!==(a="arrow-"+t[0]+"-mask-"+t[5])&&ee(n,"id",a),8&g&&c!==(c=t[6])&&ee(u,"d",c),9&g&&d!==(d="url(#arrow-"+t[0]+"-mask-"+t[5]+")")&&ee(u,"mask",d),8&g&&f!==(f=t[7])&&ee(h,"d",f),9&g&&p!==(p="url(#arrow-"+t[0]+"-mask-"+t[5]+")")&&ee(h,"mask",p),1&g&&m!==(m="url(#arrow-bulb-"+t[0]+")")&&ee(h,"marker-end",m)},d(e){e&&V(n),e&&V(u),e&&V(h)}}}function Mn(e){let t,n,r,o,i,l=[],s=new Map,a=e[4](e[3]||{});const u=e=>e[5];for(let t=0;t<a.length;t+=1){let n=Rn(e,a,t),r=u(n);s.set(r,l[t]=Cn(r,n))}return{c(){t=K("marker"),n=K("path"),o=X(),i=K("g");for(let e=0;e<l.length;e+=1)l[e].c();ee(n,"d","M 0.4,0.425 L 0.5,0.5 L 0.4,0.575"),ee(n,"fill","none"),ee(n,"stroke","#000"),ee(n,"stroke-width",Dn),ee(t,"id",r="arrow-bulb-"+e[0]),ee(t,"viewBox","0 0 1 1"),ee(t,"refX","0.5"),ee(t,"refY","0.5"),ee(t,"markerUnits","userSpaceOnUse"),ee(t,"markerWidth","1"),ee(t,"markerHeight","1"),ee(t,"orient","auto"),ee(i,"id",e[0])},m(e,r){F(e,t,r),B(t,n),F(e,o,r),F(e,i,r);for(let e=0;e<l.length;e+=1)l[e].m(i,null)},p(e,[n]){1&n&&r!==(r="arrow-bulb-"+e[0])&&ee(t,"id",r),29&n&&(a=e[4](e[3]||{}),l=He(l,n,u,1,e,a,s,i,Ee,Cn,null,Rn)),1&n&&ee(i,"id",e[0])},i:H,o:H,d(e){e&&V(t),e&&V(o),e&&V(i);for(let e=0;e<l.length;e+=1)l[e].d()}}}const Nn=.375,Ln=.025,Dn=.025;function Un(e,t,n){let r,o=H,i=()=>(o(),o=C(s,(e=>n(3,r=e))),s);e.$$.on_destroy.push((()=>o()));let{id:l}=t,{ref:s}=t;i();let{grid:a}=t;return e.$$set=e=>{"id"in e&&n(0,l=e.id),"ref"in e&&i(n(1,s=e.ref)),"grid"in e&&n(2,a=e.grid)},[l,s,a,r,function(e){const t=[];for(const[n,r]of Object.entries(e)){const e=r.bulb||r.head||{},o=r.body||{},i=_(u(e),a),l=_(u(o),a);t.push({arrowId:n,dBulb:i,dBody:l})}return t}]}function Pn(e,t,n){const r=e.slice();return r[6]=t[n].itemId,r[7]=t[n].d,r}function Gn(e,t,n){const r=e.slice();return r[6]=t[n].itemId,r[10]=t[n].head,r[11]=t[n].tail,r}function jn(e,t){let n,r,o,i,l,s;return{key:e,first:null,c(){n=K("circle"),i=K("circle"),ee(n,"cx",r=t[10][0]+.5),ee(n,"cy",o=t[10][1]+.5),ee(n,"r",Vn-.5*zn),ee(n,"fill","#000"),ee(n,"stroke","none"),ee(i,"cx",l=t[11][0]+.5),ee(i,"cy",s=t[11][1]+.5),ee(i,"r",Vn-.5*zn),ee(i,"fill","#000"),ee(i,"stroke","none"),this.first=n},m(e,t){F(e,n,t),F(e,i,t)},p(e,a){t=e,4&a&&r!==(r=t[10][0]+.5)&&ee(n,"cx",r),4&a&&o!==(o=t[10][1]+.5)&&ee(n,"cy",o),4&a&&l!==(l=t[11][0]+.5)&&ee(i,"cx",l),4&a&&s!==(s=t[11][1]+.5)&&ee(i,"cy",s)},d(e){e&&V(n),e&&V(i)}}}function Bn(e,t){let n,r,o,i,l;return{key:e,first:null,c(){n=K("path"),ee(n,"d",r=t[7]),ee(n,"fill","none"),ee(n,"stroke","#c18bb7"),ee(n,"stroke-linejoin","round"),ee(n,"stroke-linecap","round"),ee(n,"stroke-width",qn),ee(n,"mask",o="url(#between-"+t[0]+"-mask)"),ee(n,"marker-start",i="url(#between-bulb-"+t[0]+")"),ee(n,"marker-end",l="url(#between-bulb-"+t[0]+")"),this.first=n},m(e,t){F(e,n,t)},p(e,s){t=e,4&s&&r!==(r=t[7])&&ee(n,"d",r),1&s&&o!==(o="url(#between-"+t[0]+"-mask)")&&ee(n,"mask",o),1&s&&i!==(i="url(#between-bulb-"+t[0]+")")&&ee(n,"marker-start",i),1&s&&l!==(l="url(#between-bulb-"+t[0]+")")&&ee(n,"marker-end",l)},d(e){e&&V(n)}}}function Fn(e){let t,n,r,o,i,l,s,a,u,c,d,h,f,p=[],m=new Map,g=[],v=new Map,_=e[2];const b=e=>e[6];for(let t=0;t<_.length;t+=1){let n=Gn(e,_,t),r=b(n);m.set(r,p[t]=jn(r,n))}let y=e[2];const k=e=>e[6];for(let t=0;t<y.length;t+=1){let n=Pn(e,y,t),r=k(n);v.set(r,g[t]=Bn(r,n))}return{c(){t=K("marker"),n=K("circle"),o=X(),i=K("mask"),l=K("rect");for(let e=0;e<p.length;e+=1)p[e].c();h=X(),f=K("g");for(let e=0;e<g.length;e+=1)g[e].c();ee(n,"cx","0.5"),ee(n,"cy","0.5"),ee(n,"r",Vn+.5*zn),ee(n,"fill","#000"),ee(t,"id",r="between-bulb-"+e[0]),ee(t,"viewBox","0 0 1 1"),ee(t,"refX","0.5"),ee(t,"refY","0.5"),ee(t,"markerUnits","userSpaceOnUse"),ee(t,"markerWidth","1"),ee(t,"markerHeight","1"),ee(t,"orient","auto"),ee(l,"width",s=e[1].width),ee(l,"height",a=e[1].height),ee(l,"fill","#fff"),ee(i,"id",u="between-"+e[0]+"-mask"),ee(i,"maskUnits","userSpaceOnUse"),ee(i,"x","0"),ee(i,"y","0"),ee(i,"width",c=e[1].width),ee(i,"height",d=e[1].height),ee(f,"id",e[0])},m(e,r){F(e,t,r),B(t,n),F(e,o,r),F(e,i,r),B(i,l);for(let e=0;e<p.length;e+=1)p[e].m(i,null);F(e,h,r),F(e,f,r);for(let e=0;e<g.length;e+=1)g[e].m(f,null)},p(e,[n]){1&n&&r!==(r="between-bulb-"+e[0])&&ee(t,"id",r),2&n&&s!==(s=e[1].width)&&ee(l,"width",s),2&n&&a!==(a=e[1].height)&&ee(l,"height",a),4&n&&(_=e[2],p=He(p,n,b,1,e,_,m,i,Ee,jn,null,Gn)),1&n&&u!==(u="between-"+e[0]+"-mask")&&ee(i,"id",u),2&n&&c!==(c=e[1].width)&&ee(i,"width",c),2&n&&d!==(d=e[1].height)&&ee(i,"height",d),5&n&&(y=e[2],g=He(g,n,k,1,e,y,v,f,Ee,Bn,null,Pn)),1&n&&ee(f,"id",e[0])},i:H,o:H,d(e){e&&V(t),e&&V(o),e&&V(i);for(let e=0;e<p.length;e+=1)p[e].d();e&&V(h),e&&V(f);for(let e=0;e<g.length;e+=1)g[e].d()}}}const Vn=.375,zn=.025,qn=.1;function Kn(e,t,n){let r,{id:o}=t,{ref:i}=t,{grid:l}=t;const s=De(i,(function(e){if(null==e)return[];const t=[];for(const[n,r]of Object.entries(e)){const e=u(r);t.push({head:c(e[0],l),tail:c(e[e.length-1],l),itemId:n,d:_(e,l)})}return t}));return M(e,s,(e=>n(2,r=e))),e.$$set=e=>{"id"in e&&n(0,o=e.id),"ref"in e&&n(4,i=e.ref),"grid"in e&&n(1,l=e.grid)},[o,l,r,s,i]}function Wn(e,t,n){const r=e.slice();return r[5]=t[n].thermoId,r[6]=t[n].d,r[7]=t[n].invalid,r}function Xn(e,t){let n,r,o,i;return{key:e,first:null,c(){n=K("path"),ee(n,"d",r=t[6]),ee(n,"fill","none"),ee(n,"stroke",o=t[7]?"#333":"#666"),ee(n,"stroke-width","0.2"),ee(n,"marker-start",i="url(#thermo-bulb-"+t[0]+")"),ee(n,"stroke-linejoin","round"),ee(n,"stroke-linecap","round"),this.first=n},m(e,t){F(e,n,t)},p(e,l){t=e,16&l&&r!==(r=t[6])&&ee(n,"d",r),16&l&&o!==(o=t[7]?"#333":"#666")&&ee(n,"stroke",o),1&l&&i!==(i="url(#thermo-bulb-"+t[0]+")")&&ee(n,"marker-start",i)},d(e){e&&V(n)}}}function Yn(e){let t,n,r,o,i,l,s,a,u,c,d,h,f,p,m=[],g=new Map,v=e[3](e[4]||{});const _=e=>e[5];for(let t=0;t<v.length;t+=1){let n=Wn(e,v,t),r=_(n);g.set(r,m[t]=Xn(r,n))}return{c(){t=K("marker"),n=K("circle"),o=X(),i=K("mask");for(let e=0;e<m.length;e+=1)m[e].c();u=X(),c=K("g"),d=K("rect"),ee(n,"cx","0.5"),ee(n,"cy","0.5"),ee(n,"r",Jn),ee(n,"fill","#666"),ee(t,"id",r="thermo-bulb-"+e[0]),ee(t,"viewBox","0 0 1 1"),ee(t,"refX","0.5"),ee(t,"refY","0.5"),ee(t,"markerUnits","userSpaceOnUse"),ee(t,"markerWidth","1"),ee(t,"markerHeight","1"),ee(t,"orient","auto"),ee(i,"id",l="thermo-"+e[0]+"-mask"),ee(i,"maskUnits","userSpaceOnUse"),ee(i,"x","0"),ee(i,"y","0"),ee(i,"width",s=e[2].width),ee(i,"height",a=e[2].height),ee(d,"x","0"),ee(d,"y","0"),ee(d,"width",h=e[2].width),ee(d,"height",f=e[2].height),ee(d,"fill","#888"),ee(d,"stroke","none"),ee(d,"mask",p="url(#thermo-"+e[0]+"-mask)"),ee(c,"id",e[0])},m(e,r){F(e,t,r),B(t,n),F(e,o,r),F(e,i,r);for(let e=0;e<m.length;e+=1)m[e].m(i,null);F(e,u,r),F(e,c,r),B(c,d)},p(e,[n]){1&n&&r!==(r="thermo-bulb-"+e[0])&&ee(t,"id",r),25&n&&(v=e[3](e[4]||{}),m=He(m,n,_,1,e,v,g,i,Ee,Xn,null,Wn)),1&n&&l!==(l="thermo-"+e[0]+"-mask")&&ee(i,"id",l),4&n&&s!==(s=e[2].width)&&ee(i,"width",s),4&n&&a!==(a=e[2].height)&&ee(i,"height",a),4&n&&h!==(h=e[2].width)&&ee(d,"width",h),4&n&&f!==(f=e[2].height)&&ee(d,"height",f),1&n&&p!==(p="url(#thermo-"+e[0]+"-mask)")&&ee(d,"mask",p),1&n&&ee(c,"id",e[0])},i:H,o:H,d(e){e&&V(t),e&&V(o),e&&V(i);for(let e=0;e<m.length;e+=1)m[e].d();e&&V(u),e&&V(c)}}}const Jn=.375;function Zn(e,t,n){let r,o=H,i=()=>(o(),o=C(s,(e=>n(4,r=e))),s);e.$$.on_destroy.push((()=>o()));let{id:l}=t,{ref:s}=t;i();let{grid:a}=t;return e.$$set=e=>{"id"in e&&n(0,l=e.id),"ref"in e&&i(n(1,s=e.ref)),"grid"in e&&n(2,a=e.grid)},[l,s,a,function(e){const t=[];for(const[n,r]of Object.entries(e)){const e=u(r);t.push({thermoId:n,d:_(e,a,.25),invalid:e.length>a.width})}return t},r]}function Qn(e,t,n){const r=e.slice();return r[6]=t[n][0],r[7]=t[n][1],r}function er(e,t){let n,r,o,i,l=t[7]+"";return{key:e,first:null,c(){n=K("text"),r=W(l),ee(n,"x",o=c(+t[6],t[2])[0]+.5),ee(n,"y",i=c(+t[6],t[2])[1]+.5),ee(n,"fill",t[3]),ee(n,"text-anchor","middle"),ee(n,"dominant-baseline","central"),ee(n,"font-size","0.775"),ee(n,"font-weight","600"),this.first=n},m(e,t){F(e,n,t),B(n,r)},p(e,s){t=e,32&s&&l!==(l=t[7]+"")&&te(r,l),36&s&&o!==(o=c(+t[6],t[2])[0]+.5)&&ee(n,"x",o),36&s&&i!==(i=c(+t[6],t[2])[1]+.5)&&ee(n,"y",i),8&s&&ee(n,"fill",t[3])},d(e){e&&V(n)}}}function tr(e){let t,n=[],r=new Map,o=Object.entries(e[5]||{});const i=e=>e[6];for(let t=0;t<o.length;t+=1){let l=Qn(e,o,t),s=i(l);r.set(s,n[t]=er(s,l))}return{c(){t=K("g");for(let e=0;e<n.length;e+=1)n[e].c();ee(t,"id",e[0]),ee(t,"mask",e[4])},m(e,r){F(e,t,r);for(let e=0;e<n.length;e+=1)n[e].m(t,null)},p(e,[l]){44&l&&(o=Object.entries(e[5]||{}),n=He(n,l,i,1,e,o,r,t,Ee,er,null,Qn)),1&l&&ee(t,"id",e[0]),16&l&&ee(t,"mask",e[4])},i:H,o:H,d(e){e&&V(t);for(let e=0;e<n.length;e+=1)n[e].d()}}}function nr(e,t,n){let r,o=H,i=()=>(o(),o=C(s,(e=>n(5,r=e))),s);e.$$.on_destroy.push((()=>o()));let{id:l}=t,{ref:s}=t;i();let{grid:a}=t,{color:u="#000"}=t,{mask:c}=t;return e.$$set=e=>{"id"in e&&n(0,l=e.id),"ref"in e&&i(n(1,s=e.ref)),"grid"in e&&n(2,a=e.grid),"color"in e&&n(3,u=e.color),"mask"in e&&n(4,c=e.mask)},[l,s,a,u,c,r]}class rr extends Ce{constructor(e){super(),Re(this,e,nr,tr,R,{id:0,ref:1,grid:2,color:3,mask:4})}}function or(e){let t,n,r,o,i,l,a,u,c,d,h,f;return{c(){t=K("pattern"),n=K("rect"),u=X(),c=K("rect"),ee(n,"width",r=e[3].width),ee(n,"height",o=e[3].height),ee(n,"stroke","#000"),ee(n,"fill","none"),ee(n,"stroke-width",s),ee(t,"id",i="box-"+e[0]),ee(t,"width",l=e[3].width),ee(t,"height",a=e[3].height),ee(t,"patternUnits","userSpaceOnUse"),ee(c,"id",e[0]),ee(c,"x",-.02),ee(c,"y",-.02),ee(c,"width",d=e[2].width+s),ee(c,"height",h=e[2].height+s),ee(c,"fill",f="url(#box-"+e[0]+")"),ee(c,"stroke","none")},m(e,r){F(e,t,r),B(t,n),F(e,u,r),F(e,c,r)},p(e,[u]){8&u&&r!==(r=e[3].width)&&ee(n,"width",r),8&u&&o!==(o=e[3].height)&&ee(n,"height",o),1&u&&i!==(i="box-"+e[0])&&ee(t,"id",i),8&u&&l!==(l=e[3].width)&&ee(t,"width",l),8&u&&a!==(a=e[3].height)&&ee(t,"height",a),1&u&&ee(c,"id",e[0]),4&u&&d!==(d=e[2].width+s)&&ee(c,"width",d),4&u&&h!==(h=e[2].height+s)&&ee(c,"height",h),1&u&&f!==(f="url(#box-"+e[0]+")")&&ee(c,"fill",f)},i:H,o:H,d(e){e&&V(t),e&&V(u),e&&V(c)}}}function ir(e,t,n){let r,o=H,i=()=>(o(),o=C(s,(e=>n(3,r=e))),s);e.$$.on_destroy.push((()=>o()));let{id:l}=t,{ref:s}=t;i();let{grid:a}=t;return e.$$set=e=>{"id"in e&&n(0,l=e.id),"ref"in e&&i(n(1,s=e.ref)),"grid"in e&&n(2,a=e.grid)},[l,s,a,r]}function lr(e){let t,n,r,o,s,a,u,c;return{c(){t=K("pattern"),n=K("rect"),o=X(),s=K("rect"),ee(n,"width","1"),ee(n,"height","1"),ee(n,"stroke","#000"),ee(n,"fill","none"),ee(n,"stroke-width",i),ee(t,"id",r="grid-"+e[0]),ee(t,"width","1"),ee(t,"height","1"),ee(t,"patternUnits","userSpaceOnUse"),ee(s,"id",e[0]),ee(s,"x",-.005),ee(s,"y",-.005),ee(s,"width",a=e[1].width+l),ee(s,"height",u=e[1].height+l),ee(s,"fill",c="url(#grid-"+e[0]+")"),ee(s,"stroke","none")},m(e,r){F(e,t,r),B(t,n),F(e,o,r),F(e,s,r)},p(e,[n]){1&n&&r!==(r="grid-"+e[0])&&ee(t,"id",r),1&n&&ee(s,"id",e[0]),2&n&&a!==(a=e[1].width+l)&&ee(s,"width",a),2&n&&u!==(u=e[1].height+l)&&ee(s,"height",u),1&n&&c!==(c="url(#grid-"+e[0]+")")&&ee(s,"fill",c)},i:H,o:H,d(e){e&&V(t),e&&V(o),e&&V(s)}}}function sr(e,t,n){let{id:r}=t,{ref:o}=t,{grid:i}=t;return e.$$set=e=>{"id"in e&&n(0,r=e.id),"ref"in e&&n(2,o=e.ref),"grid"in e&&n(1,i=e.grid)},[r,i,o]}function ar(e,t,n){const r=e.slice();return r[15]=t[n].id,r}function ur(e,t,n){const r=e.slice();return r[15]=t[n].id,r[18]=t[n].ref,r[19]=t[n].element,r}function cr(e,t){let n,r,o,i;var l=t[19];function s(e){return{props:{id:e[15],ref:e[18],grid:e[2]}}}return l&&(r=new l(s(t))),{key:e,first:null,c(){n=Y(),r&&$e(r.$$.fragment),o=Y(),this.first=n},m(e,t){F(e,n,t),r&&Se(r,e,t),F(e,o,t),i=!0},p(e,n){t=e;const i={};if(32&n&&(i.id=t[15]),32&n&&(i.ref=t[18]),4&n&&(i.grid=t[2]),l!==(l=t[19])){if(r){ke();const e=r;xe(e.$$.fragment,1,0,(()=>{Ae(e,1)})),we()}l?(r=new l(s(t)),$e(r.$$.fragment),Te(r.$$.fragment,1),Se(r,o.parentNode,o)):r=null}else l&&r.$set(i)},i(e){i||(r&&Te(r.$$.fragment,e),i=!0)},o(e){r&&xe(r.$$.fragment,e),i=!1},d(e){e&&V(n),e&&V(o),r&&Ae(r,e)}}}function dr(e,t){let n,r;return{key:e,first:null,c(){n=K("use"),ee(n,"href",r="#"+t[15]),this.first=n},m(e,t){F(e,n,t)},p(e,o){t=e,32&o&&r!==(r="#"+t[15])&&ee(n,"href",r)},d(e){e&&V(n)}}}function hr(e){let t,n,r,o,i,l,s,a,u,c,d,h,f,p,m,g,v=[],_=new Map,b=[],y=new Map,k=e[5];const w=e=>e[15];for(let t=0;t<k.length;t+=1){let n=ur(e,k,t),r=w(n);_.set(r,v[t]=cr(r,n))}let T=e[5];const x=e=>e[15];for(let t=0;t<T.length;t+=1){let n=ar(e,T,t),r=x(n);y.set(r,b[t]=dr(r,n))}return{c(){t=K("svg"),n=K("style"),r=W("svg {\n            -webkit-tap-highlight-color: transparent;\n            touch-action: none;\n        }\n        text {\n            -webkit-user-select: none;\n            -moz-user-select: none;\n            -ms-user-select: none;\n            user-select: none;\n        }\n        text::selection {\n            background: none;\n        }\n        svg * {\n            pointer-events: none;\n        }\n        .hide {\n            display: none;\n        }\n    "),o=K("defs"),i=K("mask"),l=K("rect"),u=K("path"),c=K("mask"),d=K("rect"),p=K("path");for(let e=0;e<v.length;e+=1)v[e].c();for(let e=0;e<b.length;e+=1)b[e].c();ee(l,"x","0"),ee(l,"y","0"),ee(l,"width",s=e[2].width),ee(l,"height",a=e[2].height),ee(l,"fill","#fff"),ee(u,"d",e[3]),ee(u,"fill","#000"),ee(u,"stroke","none"),ee(i,"id","SUDOKU_MASK_GIVENS"),ee(i,"maskUnits","userSpaceOnUse"),ee(d,"x","0"),ee(d,"y","0"),ee(d,"width",h=e[2].width),ee(d,"height",f=e[2].height),ee(d,"fill","#fff"),ee(p,"d",e[4]),ee(p,"fill","#000"),ee(p,"stroke","none"),ee(c,"id","SUDOKU_MASK_GIVENS_FILLED"),ee(c,"maskUnits","userSpaceOnUse"),ee(t,"viewBox",m=e[1].x+" "+e[1].y+" "+e[1].width+" "+e[1].height),ee(t,"xmlns","http://www.w3.org/2000/svg")},m(s,a){F(s,t,a),B(t,n),B(n,r),B(t,o),B(o,i),B(i,l),B(i,u),B(o,c),B(c,d),B(c,p);for(let e=0;e<v.length;e+=1)v[e].m(o,null);for(let e=0;e<b.length;e+=1)b[e].m(t,null);e[13](t),g=!0},p(e,[n]){(!g||4&n&&s!==(s=e[2].width))&&ee(l,"width",s),(!g||4&n&&a!==(a=e[2].height))&&ee(l,"height",a),(!g||8&n)&&ee(u,"d",e[3]),(!g||4&n&&h!==(h=e[2].width))&&ee(d,"width",h),(!g||4&n&&f!==(f=e[2].height))&&ee(d,"height",f),(!g||16&n)&&ee(p,"d",e[4]),36&n&&(k=e[5],ke(),v=He(v,n,w,1,e,k,_,o,Oe,cr,null,ur),we()),32&n&&(T=e[5],b=He(b,n,x,1,e,T,y,t,Ee,dr,null,ar)),(!g||2&n&&m!==(m=e[1].x+" "+e[1].y+" "+e[1].width+" "+e[1].height))&&ee(t,"viewBox",m)},i(e){if(!g){for(let e=0;e<k.length;e+=1)Te(v[e]);g=!0}},o(e){for(let e=0;e<v.length;e+=1)xe(v[e]);g=!1},d(n){n&&V(t);for(let e=0;e<v.length;e+=1)v[e].d();for(let e=0;e<b.length;e+=1)b[e].d();e[13](null)}}}const fr={select:Bt,grid:class extends Ce{constructor(e){super(),Re(this,e,sr,lr,R,{id:0,ref:2,grid:1})}},box:class extends Ce{constructor(e){super(),Re(this,e,ir,or,R,{id:0,ref:1,grid:2})}},givens:rr,filled:function(e){return e.props.color="#4e72b0",e.props.mask="url(#SUDOKU_MASK_GIVENS)",new rr(e)},corner:class extends Ce{constructor(e){super(),Re(this,e,Nt,Mt,R,{id:0,ref:1,grid:4})}},center:class extends Ce{constructor(e){super(),Re(this,e,St,$t,R,{id:0,ref:1,grid:4})}},colors:class extends Ce{constructor(e){super(),Re(this,e,Et,xt,R,{id:0,ref:1,grid:4})}},thermo:class extends Ce{constructor(e){super(),Re(this,e,Zn,Yn,R,{id:0,ref:1,grid:2,getThermos:3})}get getThermos(){return this.$$.ctx[3]}},between:class extends Ce{constructor(e){super(),Re(this,e,Kn,Fn,R,{id:0,ref:4,grid:1})}},arrow:class extends Ce{constructor(e){super(),Re(this,e,Un,Mn,R,{id:0,ref:1,grid:2})}},sandwich:null,min:class extends Ce{constructor(e){super(),Re(this,e,In,An,R,{id:0,ref:1,grid:2})}},max:class extends Ce{constructor(e){super(),Re(this,e,Tn,wn,R,{id:0,ref:1,grid:2})}},killer:class extends Ce{constructor(e){super(),Re(this,e,mn,dn,R,{id:0,ref:1,grid:2})}},quadruple:class extends Ce{constructor(e){super(),Re(this,e,ln,en,R,{id:0,ref:1,grid:4})}},difference:function(e){return Object.assign(e.props,{stroke:"#242424",fill:"#fff",textColor:"#000",strokeWidth:.02}),new Xt(e)},ratio:function(e){return Object.assign(e.props,{stroke:"none",fill:"#000",textColor:"#fff"}),new Xt(e)},xv:function(e){return Object.assign(e.props,{stroke:"none",fill:"#fff",textColor:"#000",radius:.17,fontSize:.3,fontWeight:800,mapDigits:e=>!0!==e?O(e):"_"}),new Xt(e)},diagonal:class extends Ce{constructor(e){super(),Re(this,e,Vt,Ft,R,{id:0,ref:6,grid:1})}},knight:ht,king:ht,disjointGroups:ht,consecutive:ht,selfTaxicab:ht},pr={grid:l,box:a,quadruple:.2225};function mr(e,t,n){let r,o,i,l,s,{userState:a}=t,{boardState:u}=t,{svg:c=null}=t;const d=u.ref("grid");M(e,d,(e=>n(2,o=e)));const h=u.ref("elements"),f=De([h,d],(([e,t])=>y(v(E(e||{},!0,!1)),t,0)||void 0));M(e,f,(e=>n(3,i=e)));const p=De([h,d],(([e,t])=>y(v(E(e||{},!0,!0)),t,0)||void 0));M(e,p,(e=>n(4,l=e)));const m=Ne([],(e=>{const t=[{id:"select_192839012",type:"select",order:95,ref:a,element:Bt}];u.ref("elements/*").watch((([n,r],o,i)=>{let l=-1;if(null!=o){if(null==fr[o.type])return;if(l=t.findIndex((({id:e})=>r===e)),0>l)return void console.error(`Failed to find renderer for constraint with id ${r}.`)}if(null==i)t.splice(l,1);else{const e=fr[i.type];if(null==e)return void console.warn(`Cannot render unknown constraint type: ${i.type}.`);const s={id:r,type:i.type,order:i.order,ref:u.ref(n,r,"value"),element:e};null==o?t.push(s):(o.type!==i.type&&console.error("Cannot change type of constraint!"),t[l]=s)}t.sort(((e,t)=>e.order-t.order)),e(t)}),!0)}));M(e,m,(e=>n(5,s=e)));const g=De([d,m],(([e,t])=>{const n=t.map((({type:e})=>pr[e])).filter((e=>null!=e)).reduce(((e,t)=>e>t?e:t),0);return{x:-n,y:-n,width:e.width+2*n,height:e.height+2*n}}));return M(e,g,(e=>n(1,r=e))),e.$$set=e=>{"userState"in e&&n(11,a=e.userState),"boardState"in e&&n(12,u=e.boardState),"svg"in e&&n(0,c=e.svg)},[c,r,o,i,l,s,d,f,p,m,g,a,u,function(e){ue[e?"unshift":"push"]((()=>{c=e,n(0,c)}))}]}class gr extends Ce{constructor(e){super(),Re(this,e,mr,hr,R,{userState:11,boardState:12,svg:0})}}const vr=Ne([],(e=>{const t=[];Ge.ref("elements/*").watch((([n,r],o,i)=>{const l=(null==o?void 0:o.type)||i.type,s=at[l];if(null==s)return void console.warn(`Unknown constraint type: ${l}.`);let a=-1;if(null!=o&&(a=t.findIndex((({id:e})=>r===e)),0>a))console.error(`Failed to find constraint with id ${r}.`);else{if(null==i)t.splice(a,1);else if(null==o){const e=Ge.ref(n,r);t.push({id:r,elementRef:e,info:s})}else o.type!==i.type&&console.error(`Cannot change type of constraint! ${o.type} -> ${i.type}`);e(t)}}),!0)})),_r=De([Ne(null,(e=>{let t=[];vr.subscribe((e=>t=e)),Ke.watch(((n,r,o)=>{const i=o,l=t.find((({id:e})=>i===e))||null;e(l)}),!0)})),Ue],(([e,t])=>{if(null==e)return null;const{info:n,elementRef:r}=e,o=r.ref("value");if(null==n||null==n.getInputHandler)return null;const i=n.getInputHandler(o,je.get(),t);return i.load(),i}));function br(e){let t,n,r,o,i,l,s;function a(t){e[6](t)}let u={boardState:Ge,userState:Fe};return void 0!==e[2]&&(u.svg=e[2]),r=new gr({props:u}),ue.push((()=>function(e,t,n){const r=e.$$.props[t];void 0!==r&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}(r,"svg",a))),{c(){t=q("div"),n=X(),$e(r.$$.fragment),ee(t,"class","overlay svelte-kdd1wn"),ee(t,"tabindex","0")},m(o,a){F(o,t,a),e[4](t),F(o,n,a),Se(r,o,a),i=!0,l||(s=[J(window,"blur",(function(){I(e[3](e[1],"blur"))&&e[3](e[1],"blur").apply(this,arguments)})),J(window,"mouseup",(function(){I(e[3](e[1],"up"))&&e[3](e[1],"up").apply(this,arguments)})),J(window,"keydown",(function(){I(e[3](e[1],"keydown"))&&e[3](e[1],"keydown").apply(this,arguments)})),J(window,"keyup",(function(){I(e[3](e[1],"keyup"))&&e[3](e[1],"keyup").apply(this,arguments)})),J(t,"mousedown",Q(Z(e[5])),!0),J(t,"mousemove",Q(Z((function(){I(e[3](e[1],"move"))&&e[3](e[1],"move").apply(this,arguments)}))),!0),J(t,"click",Q(Z((function(){I(e[3](e[1],"click"))&&e[3](e[1],"click").apply(this,arguments)}))),!0),J(t,"contextmenu",Q(Z((function(){I(e[3](e[1],"click"))&&e[3](e[1],"click").apply(this,arguments)}))),!0),J(t,"mouseleave",Q(Z((function(){I(e[3](e[1],"leave"))&&e[3](e[1],"leave").apply(this,arguments)}))),!0)],l=!0)},p(t,[n]){e=t;const i={};var l;!o&&4&n&&(o=!0,i.svg=e[2],l=()=>o=!1,de.push(l)),r.$set(i)},i(e){i||(Te(r.$$.fragment,e),i=!0)},o(e){xe(r.$$.fragment,e),i=!1},d(o){o&&V(t),e[4](null),o&&V(n),Ae(r,o),l=!1,A(s)}}}function yr(e,t,n){let r,o,i;M(e,Pe,(e=>n(0,r=e))),M(e,_r,(e=>n(1,o=e))),M(e,Ue,(e=>n(2,i=e)));return[r,o,i,function(e,t){return n=>{null==e||document.activeElement!==r&&document.activeElement!==document.body||e[t](n)}},function(e){ue[e?"unshift":"push"]((()=>{r=e,Pe.set(r)}))},e=>(e.currentTarget.focus(),o&&o.down(e)),function(e){i=e,Ue.set(i)}]}class kr extends Ce{constructor(e){super(),Re(this,e,yr,br,R,{})}}function wr(e){let t,n,r,o,i,l,s,a,u,c,d,h,f,p;const m=e[5].default,g=N(m,e,e[4],null);return{c(){t=q("div"),n=q("button"),r=q("span"),o=q("button"),o.innerHTML='<span class="icon hoverable-icon icon-inline icon-c-clickable icon-add"></span>',i=X(),l=W(e[1]),s=X(),a=q("span"),u=X(),c=q("div"),d=q("div"),g&&g.c(),ee(o,"class","nobutton hoverable"),ee(a,"class","tree-menu icon icon-inline icon-c-clickable icon-tree-menu svelte-1o8sn12"),ee(n,"class","section-title nobutton svelte-1o8sn12"),ee(d,"class","panel svelte-1o8sn12"),ee(c,"class","panel-wrapper svelte-1o8sn12"),ee(t,"class","container svelte-1o8sn12"),oe(t,"closed",e[0])},m(m,v){F(m,t,v),B(t,n),B(n,r),B(r,o),B(r,i),B(r,l),B(n,s),B(n,a),B(t,u),B(t,c),B(c,d),g&&g.m(d,null),h=!0,f||(p=[J(o,"click",Q((function(){I(e[2])&&e[2].apply(this,arguments)}))),J(n,"click",e[3])],f=!0)},p(n,[r]){e=n,(!h||2&r)&&te(l,e[1]),g&&g.p&&(!h||16&r)&&D(g,m,e,e[4],h?r:-1,null,null),1&r&&oe(t,"closed",e[0])},i(e){h||(Te(g,e),h=!0)},o(e){xe(g,e),h=!1},d(e){e&&V(t),g&&g.d(e),f=!1,A(p)}}}function Tr(e,t,n){let{$$slots:r={},$$scope:o}=t,{title:i}=t,{closed:l=!1}=t,{onAdd:s}=t;return e.$$set=e=>{"title"in e&&n(1,i=e.title),"closed"in e&&n(0,l=e.closed),"onAdd"in e&&n(2,s=e.onAdd),"$$scope"in e&&n(4,o=e.$$scope)},[l,i,s,function(){n(0,l=!l)},o,r]}class xr extends Ce{constructor(e){super(),Re(this,e,Tr,wr,R,{title:1,closed:0,onAdd:2})}}function Er(e){let t,n,r,o,i,l;return{c(){t=q("input"),r=X(),o=q("button"),o.textContent="Jump To Board",ee(t,"class","radio-select-button svelte-1yj5trp"),ee(t,"type","radio"),ee(t,"id",n="local-radio-"+ ++Ar),t.__value=e[0],t.value=t.__value,ee(t,"name",We),e[12][0].push(t),ee(o,"class","nobutton focus-skip")},m(n,s){F(n,t,s),t.checked=t.__value===e[7],F(n,r,s),F(n,o,s),i||(l=[J(t,"change",e[11]),J(t,"change",e[13]),J(o,"click",e[14])],i=!0)},p(e,n){1&n&&(t.__value=e[0],t.value=t.__value),128&n&&(t.checked=t.__value===e[7])},d(n){n&&V(t),e[12][0].splice(e[12][0].indexOf(t),1),n&&V(r),n&&V(o),i=!1,A(l)}}}function Or(e){let t,n,r;return{c(){t=q("button"),t.innerHTML='<span class="icon hoverable-icon icon-inline icon-c-clickable icon-trash"></span> \n                ',ee(t,"class","delete-button nobutton hoverable svelte-1yj5trp")},m(o,i){F(o,t,i),n||(r=J(t,"click",Q((function(){I(e[6])&&e[6].apply(this,arguments)}))),n=!0)},p(t,n){e=t},d(e){e&&V(t),n=!1,r()}}}function Hr(e){let t,n;return{c(){t=q("span"),n=W(e[1]),ee(t,"class","name svelte-1yj5trp"),oe(t,"unused",e[2])},m(e,r){F(e,t,r),B(t,n)},p(e,r){2&r&&te(n,e[1]),4&r&&oe(t,"unused",e[2])},d(e){e&&V(t)}}}function $r(e){let t,n;return{c(){t=q("label"),n=W(e[1]),ee(t,"class","name clickable svelte-1yj5trp"),ee(t,"for","local-radio-"+Ar),oe(t,"unused",e[2])},m(e,r){F(e,t,r),B(t,n)},p(e,r){2&r&&te(n,e[1]),4&r&&oe(t,"unused",e[2])},d(e){e&&V(t)}}}function Sr(e){let t,n,r,o,i,l,s,a,u,c,d=e[4]&&Er(e),h=e[3]&&Or(e);function f(e,t){return e[4]?$r:Hr}let p=f(e),m=p(e);const g=e[10].default,v=N(g,e,e[9],null);return{c(){t=q("div"),d&&d.c(),n=X(),r=q("div"),o=q("div"),h&&h.c(),i=Y(),m.c(),l=X(),s=q("div"),v&&v.c(),ee(o,"class","constraint-row-left svelte-1yj5trp"),ee(s,"class","constraint-row-right svelte-1yj5trp"),ee(r,"class","constraint-row svelte-1yj5trp"),ee(r,"role","button"),ee(t,"class","constraint-row-container svelte-1yj5trp")},m(f,p){F(f,t,p),d&&d.m(t,null),B(t,n),B(t,r),B(r,o),h&&h.m(o,null),B(o,i),m.m(o,null),B(r,l),B(r,s),v&&v.m(s,null),a=!0,u||(c=J(r,"click",Q((function(){I(e[5])&&e[5].apply(this,arguments)}))),u=!0)},p(r,[l]){(e=r)[4]?d?d.p(e,l):(d=Er(e),d.c(),d.m(t,n)):d&&(d.d(1),d=null),e[3]?h?h.p(e,l):(h=Or(e),h.c(),h.m(o,i)):h&&(h.d(1),h=null),p===(p=f(e))&&m?m.p(e,l):(m.d(1),m=p(e),m&&(m.c(),m.m(o,null))),v&&v.p&&(!a||512&l)&&D(v,g,e,e[9],a?l:-1,null,null)},i(e){a||(Te(v,e),a=!0)},o(e){xe(v,e),a=!1},d(e){e&&V(t),d&&d.d(),h&&h.d(),m.d(),v&&v.d(e),u=!1,c()}}}let Ar=0;function Ir(e,t,n){let r,o;M(e,Ke,(e=>n(7,r=e))),M(e,Pe,(e=>n(8,o=e)));let{$$slots:i={},$$scope:l}=t,{id:s}=t,{name:a}=t,{unused:u}=t,{deletable:c}=t,{isLocal:d=!1}=t,{onClick:h=(d?()=>U(Ke,r=s,r):void 0)}=t,{onTrash:f}=t;return e.$$set=e=>{"id"in e&&n(0,s=e.id),"name"in e&&n(1,a=e.name),"unused"in e&&n(2,u=e.unused),"deletable"in e&&n(3,c=e.deletable),"isLocal"in e&&n(4,d=e.isLocal),"onClick"in e&&n(5,h=e.onClick),"onTrash"in e&&n(6,f=e.onTrash),"$$scope"in e&&n(9,l=e.$$scope)},[s,a,u,c,d,h,f,r,o,l,i,function(){r=this.__value,Ke.set(r)},[[]],()=>qe.set(Ke.get()),()=>o&&o.focus()]}class Rr extends Ce{constructor(e){super(),Re(this,e,Ir,Sr,R,{id:0,name:1,unused:2,deletable:3,isLocal:4,onClick:5,onTrash:6})}}function Cr(e){let t,n;return{c(){t=q("span"),ee(t,"class",n="icon icon-inline icon-c-clickable icon-"+e[2].icon)},m(e,n){F(e,t,n)},p(e,r){4&r&&n!==(n="icon icon-inline icon-c-clickable icon-"+e[2].icon)&&ee(t,"class",n)},d(e){e&&V(t)}}}function Mr(e){let t,n;return t=new Rr({props:{id:e[0],deletable:e[3],name:e[2].name,unused:!1,isLocal:!0,onTrash:e[4],$$slots:{default:[Cr]},$$scope:{ctx:e}}}),{c(){$e(t.$$.fragment)},m(e,r){Se(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.id=e[0]),8&n&&(r.deletable=e[3]),4&n&&(r.name=e[2].name),2&n&&(r.onTrash=e[4]),36&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(Te(t.$$.fragment,e),n=!0)},o(e){xe(t.$$.fragment,e),n=!1},d(e){Ae(t,e)}}}function Nr(e,t,n){let{id:r}=t,{elementRef:o}=t,{info:i}=t,{deletable:l}=t;return e.$$set=e=>{"id"in e&&n(0,r=e.id),"elementRef"in e&&n(1,o=e.elementRef),"info"in e&&n(2,i=e.info),"deletable"in e&&n(3,l=e.deletable)},[r,o,i,l,()=>o.replace(null)]}class Lr extends Ce{constructor(e){super(),Re(this,e,Nr,Mr,R,{id:0,elementRef:1,info:2,deletable:3})}}function Dr(e){let t,n,r,o,i,l,s,a,u,c,d;return{c(){t=q("div"),n=q("label"),r=q("span"),i=X(),l=q("span"),s=W(e[0]),a=X(),u=q("input"),ee(r,"class",o="icon icon-inline icon-c-text icon-"+e[1]+" svelte-1ns67sk"),ee(l,"class","sr-only"),ee(n,"for","checkbox-"+ ++Ur),ee(n,"title",e[0]),ee(n,"class","clickable"),ee(u,"id","checkbox-"+Ur),ee(u,"type","checkbox"),ee(t,"class","constraint-checkbox svelte-1ns67sk")},m(o,h){F(o,t,h),B(t,n),B(n,r),B(n,i),B(n,l),B(l,s),B(t,a),B(t,u),u.checked=e[3],c||(d=[J(u,"change",e[5]),J(t,"click",Q(e[4]))],c=!0)},p(e,[t]){2&t&&o!==(o="icon icon-inline icon-c-text icon-"+e[1]+" svelte-1ns67sk")&&ee(r,"class",o),1&t&&te(s,e[0]),1&t&&ee(n,"title",e[0]),8&t&&(u.checked=e[3])},i:H,o:H,d(e){e&&V(t),c=!1,A(d)}}}let Ur=0;function Pr(e,t,n){let r,o=H,i=()=>(o(),o=C(a,(e=>n(3,r=e))),a);e.$$.on_destroy.push((()=>o()));let{name:l}=t,{icon:s}=t,{checked:a}=t;return i(),e.$$set=e=>{"name"in e&&n(0,l=e.name),"icon"in e&&n(1,s=e.icon),"checked"in e&&i(n(2,a=e.checked))},[l,s,a,r,function(t){se.call(this,e,t)},function(){r=this.checked,a.set(r)}]}class Gr extends Ce{constructor(e){super(),Re(this,e,Pr,Dr,R,{name:0,icon:1,checked:2})}}function jr(e,t,n){const r=e.slice();return r[9]=t[n].name,r[10]=t[n].icon,r[11]=t[n].refPath,r}function Br(e){let t,n;return t=new Gr({props:{name:e[9],icon:e[10],checked:e[11]?e[5].ref(e[11]):e[5]}}),{c(){$e(t.$$.fragment)},m(e,r){Se(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.name=e[9]),4&n&&(r.icon=e[10]),4&n&&(r.checked=e[11]?e[5].ref(e[11]):e[5]),t.$set(r)},i(e){n||(Te(t.$$.fragment,e),n=!0)},o(e){xe(t.$$.fragment,e),n=!1},d(e){Ae(t,e)}}}function Fr(e){let t,n,r=Array.isArray(e[2].checkbox)?e[2].checkbox:[e[2].checkbox],o=[];for(let t=0;t<r.length;t+=1)o[t]=Br(jr(e,r,t));const i=e=>xe(o[e],1,1,(()=>{o[e]=null}));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=Y()},m(e,r){for(let t=0;t<o.length;t+=1)o[t].m(e,r);F(e,t,r),n=!0},p(e,n){if(36&n){let l;for(r=Array.isArray(e[2].checkbox)?e[2].checkbox:[e[2].checkbox],l=0;l<r.length;l+=1){const i=jr(e,r,l);o[l]?(o[l].p(i,n),Te(o[l],1)):(o[l]=Br(i),o[l].c(),Te(o[l],1),o[l].m(t.parentNode,t))}for(ke(),l=r.length;l<o.length;l+=1)i(l);we()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)Te(o[e]);n=!0}},o(e){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)xe(o[e]);n=!1},d(e){z(o,e),e&&V(t)}}}function Vr(e){let t,n;return t=new Rr({props:{id:e[0],deletable:e[3],name:e[2].name,unused:e[7](e[4]),onClick:e[6],onTrash:e[8],$$slots:{default:[Fr]},$$scope:{ctx:e}}}),{c(){$e(t.$$.fragment)},m(e,r){Se(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.id=e[0]),8&n&&(r.deletable=e[3]),4&n&&(r.name=e[2].name),16&n&&(r.unused=e[7](e[4])),2&n&&(r.onTrash=e[8]),16388&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(Te(t.$$.fragment,e),n=!0)},o(e){xe(t.$$.fragment,e),n=!1},d(e){Ae(t,e)}}}function zr(e,t,n){let r,{id:o}=t,{elementRef:i}=t,{info:l}=t,{deletable:s}=t;const a=i.ref("value");M(e,a,(e=>n(4,r=e)));return e.$$set=e=>{"id"in e&&n(0,o=e.id),"elementRef"in e&&n(1,i=e.elementRef),"info"in e&&n(2,l=e.info),"deletable"in e&&n(3,s=e.deletable)},[o,i,l,s,r,a,function(){if(Array.isArray(l.checkbox)){const e=l.checkbox.some((({refPath:e})=>!a.ref(e).get())),t={};for(const{refPath:n}of l.checkbox)t[n]=e;Xe(a.replace(t))}else{Xe(a.replace(!a.get()))}},function(e){return Array.isArray(l.checkbox)?l.checkbox.every((({refPath:e})=>!a.ref(e).get())):!e},()=>i.replace(null)]}class qr extends Ce{constructor(e){super(),Re(this,e,zr,Vr,R,{id:0,elementRef:1,info:2,deletable:3})}}function Kr(e,t,n){const r=e.slice();return r[8]=t[n].id,r[9]=t[n].elementRef,r[10]=t[n].info,r}function Wr(e,t,n){const r=e.slice();return r[8]=t[n].id,r[9]=t[n].elementRef,r[10]=t[n].info,r}function Xr(e){let t;return{c(){t=q("p"),t.textContent="Nothing Here!",re(t,"margin","0"),re(t,"padding","0.25em 1em")},m(e,n){F(e,t,n)},d(e){e&&V(t)}}}function Yr(e,t){let n,r,o,i;var l=t[4](t[10]);function s(e){return{props:{id:e[8],elementRef:e[9],deletable:!e[10].permanent}}}return l&&(r=new l(s(t))),{key:e,first:null,c(){n=q("li"),r&&$e(r.$$.fragment),o=X(),this.first=n},m(e,t){F(e,n,t),r&&Se(r,n,null),B(n,o),i=!0},p(e,i){t=e;const a={};if(1&i&&(a.id=t[8]),1&i&&(a.elementRef=t[9]),1&i&&(a.deletable=!t[10].permanent),l!==(l=t[4](t[10]))){if(r){ke();const e=r;xe(e.$$.fragment,1,0,(()=>{Ae(e,1)})),we()}l?(r=new l(s(t)),$e(r.$$.fragment),Te(r.$$.fragment,1),Se(r,n,o)):r=null}else l&&r.$set(a)},i(e){i||(r&&Te(r.$$.fragment,e),i=!0)},o(e){r&&xe(r.$$.fragment,e),i=!1},d(e){e&&V(n),r&&Ae(r)}}}function Jr(e){let t,n,r=[],o=new Map,i=e[0];const l=e=>e[8];for(let t=0;t<i.length;t+=1){let n=Wr(e,i,t),s=l(n);o.set(s,r[t]=Yr(s,n))}return{c(){t=q("ul");for(let e=0;e<r.length;e+=1)r[e].c();ee(t,"class","nolist")},m(e,o){F(e,t,o);for(let e=0;e<r.length;e+=1)r[e].m(t,null);n=!0},p(e,n){17&n&&(i=e[0],ke(),r=He(r,n,l,1,e,i,o,t,Oe,Yr,null,Wr),we())},i(e){if(!n){for(let e=0;e<i.length;e+=1)Te(r[e]);n=!0}},o(e){for(let e=0;e<r.length;e+=1)xe(r[e]);n=!1},d(e){e&&V(t);for(let e=0;e<r.length;e+=1)r[e].d()}}}function Zr(e,t){let n,r,o,i;var l=t[4](t[10]);function s(e){return{props:{id:e[8],elementRef:e[9],deletable:!e[10].permanent}}}return l&&(r=new l(s(t))),{key:e,first:null,c(){n=q("li"),r&&$e(r.$$.fragment),o=X(),this.first=n},m(e,t){F(e,n,t),r&&Se(r,n,null),B(n,o),i=!0},p(e,i){t=e;const a={};if(2&i&&(a.id=t[8]),2&i&&(a.elementRef=t[9]),2&i&&(a.deletable=!t[10].permanent),l!==(l=t[4](t[10]))){if(r){ke();const e=r;xe(e.$$.fragment,1,0,(()=>{Ae(e,1)})),we()}l?(r=new l(s(t)),$e(r.$$.fragment),Te(r.$$.fragment,1),Se(r,n,o)):r=null}else l&&r.$set(a)},i(e){i||(r&&Te(r.$$.fragment,e),i=!0)},o(e){r&&xe(r.$$.fragment,e),i=!1},d(e){e&&V(n),r&&Ae(r)}}}function Qr(e){let t,n,r=[],o=new Map,i=e[1];const l=e=>e[8];for(let t=0;t<i.length;t+=1){let n=Kr(e,i,t),s=l(n);o.set(s,r[t]=Zr(s,n))}return{c(){t=q("ul");for(let e=0;e<r.length;e+=1)r[e].c();ee(t,"class","nolist")},m(e,o){F(e,t,o);for(let e=0;e<r.length;e+=1)r[e].m(t,null);n=!0},p(e,n){18&n&&(i=e[1],ke(),r=He(r,n,l,1,e,i,o,t,Oe,Zr,null,Kr),we())},i(e){if(!n){for(let e=0;e<i.length;e+=1)Te(r[e]);n=!0}},o(e){for(let e=0;e<r.length;e+=1)xe(r[e]);n=!1},d(e){e&&V(t);for(let e=0;e<r.length;e+=1)r[e].d()}}}function eo(e){let t;return{c(){t=q("p"),t.textContent="Nothing Here!",re(t,"margin","0"),re(t,"padding","0.25em 1em")},m(e,n){F(e,t,n)},d(e){e&&V(t)}}}function to(e){let t,n,r,o,i,l,s,a,u,c,d,h,f;return r=new xr({props:{title:"Solver Panel",$$slots:{default:[Xr]},$$scope:{ctx:e}}}),l=new xr({props:{title:"Global Constraints",onAdd:e[6],$$slots:{default:[Jr]},$$scope:{ctx:e}}}),u=new xr({props:{title:"Local Constraints",onAdd:e[7],$$slots:{default:[Qr]},$$scope:{ctx:e}}}),h=new xr({props:{title:"Cosmetic Tools",$$slots:{default:[eo]},$$scope:{ctx:e}}}),{c(){t=q("ul"),n=q("li"),$e(r.$$.fragment),o=X(),i=q("li"),$e(l.$$.fragment),s=X(),a=q("li"),$e(u.$$.fragment),c=X(),d=q("li"),$e(h.$$.fragment),ee(t,"class","nolist")},m(e,p){F(e,t,p),B(t,n),Se(r,n,null),B(t,o),B(t,i),Se(l,i,null),B(t,s),B(t,a),Se(u,a,null),B(t,c),B(t,d),Se(h,d,null),f=!0},p(e,[t]){const n={};32768&t&&(n.$$scope={dirty:t,ctx:e}),r.$set(n);const o={};32769&t&&(o.$$scope={dirty:t,ctx:e}),l.$set(o);const i={};32770&t&&(i.$$scope={dirty:t,ctx:e}),u.$set(i);const s={};32768&t&&(s.$$scope={dirty:t,ctx:e}),h.$set(s)},i(e){f||(Te(r.$$.fragment,e),Te(l.$$.fragment,e),Te(u.$$.fragment,e),Te(h.$$.fragment,e),f=!0)},o(e){xe(r.$$.fragment,e),xe(l.$$.fragment,e),xe(u.$$.fragment,e),xe(h.$$.fragment,e),f=!1},d(e){e&&V(t),Ae(r),Ae(l),Ae(u),Ae(h)}}}function no(e,t,n){let r,o;const i=De(vr,(e=>e.filter((({info:e})=>e.menu&&e.inGlobalMenu))));M(e,i,(e=>n(0,r=e)));const l=De(vr,(e=>e.filter((({info:e})=>e.menu&&!e.inGlobalMenu))));function s(e){const t=window.prompt("TEMPORARY. Enter element type string:\n"+Object.keys(at).join(", "));if(null!=t)try{!function(e,t){const n=ut(e,t);if(!(e in at))throw Error(`Cannot add unknown element type: ${e}.`);if(null==at[e])throw Error(`Cannot add unimplmeneted element type: ${e}.`);const r=(31*Math.floor(4294967295*Math.random())+Date.now())%4294967295;Xe(Ge.update({[`elements/${r}`]:n}))}(t)}catch(e){alert(`Unknown element type string: ${JSON.stringify(t)}`)}}M(e,l,(e=>n(1,o=e)));return[r,o,i,l,function(e){const t=e.menu;return null==t?null:function(e){if("select"===t.type)return e.props.info=t,new Lr(e);if("checkbox"===t.type)return e.props.info=t,new qr(e);throw Error(`Unknown menu type "${t.type}".`)}},s,()=>s(),()=>s()]}class ro extends Ce{constructor(e){super(),Re(this,e,no,to,R,{})}}var oo;
/*! *****************************************************************************
  Copyright (c) Microsoft Corporation.

  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.

  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** */
var io=function(e,t){return(io=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function lo(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}io(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var so=function(){return(so=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function ao(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)l.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return l}function uo(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||t)}
/**
   * @license
   * Copyright 2016 Google Inc.
   *
   * Permission is hereby granted, free of charge, to any person obtaining a copy
   * of this software and associated documentation files (the "Software"), to deal
   * in the Software without restriction, including without limitation the rights
   * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   * copies of the Software, and to permit persons to whom the Software is
   * furnished to do so, subject to the following conditions:
   *
   * The above copyright notice and this permission notice shall be included in
   * all copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
   * THE SOFTWARE.
   */var co=function(){function e(e){void 0===e&&(e={}),this.adapter=e}return Object.defineProperty(e,"cssClasses",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{}},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.destroy=function(){},e}(),ho=function(){function e(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];this.root=e,this.initialize.apply(this,uo([],ao(n))),this.foundation=void 0===t?this.getDefaultFoundation():t,this.foundation.init(),this.initialSyncWithDOM()}return e.attachTo=function(t){return new e(t,new co({}))},e.prototype.initialize=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},e.prototype.getDefaultFoundation=function(){throw new Error("Subclasses must override getDefaultFoundation to return a properly configured foundation class")},e.prototype.initialSyncWithDOM=function(){},e.prototype.destroy=function(){this.foundation.destroy()},e.prototype.listen=function(e,t,n){this.root.addEventListener(e,t,n)},e.prototype.unlisten=function(e,t,n){this.root.removeEventListener(e,t,n)},e.prototype.emit=function(e,t,n){var r;void 0===n&&(n=!1),"function"==typeof CustomEvent?r=new CustomEvent(e,{bubbles:n,detail:t}):(r=document.createEvent("CustomEvent")).initCustomEvent(e,n,!1,t),this.root.dispatchEvent(r)},e}();
/**
   * @license
   * Copyright 2016 Google Inc.
   *
   * Permission is hereby granted, free of charge, to any person obtaining a copy
   * of this software and associated documentation files (the "Software"), to deal
   * in the Software without restriction, including without limitation the rights
   * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   * copies of the Software, and to permit persons to whom the Software is
   * furnished to do so, subject to the following conditions:
   *
   * The above copyright notice and this permission notice shall be included in
   * all copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
   * THE SOFTWARE.
   */
/**
   * @license
   * Copyright 2019 Google Inc.
   *
   * Permission is hereby granted, free of charge, to any person obtaining a copy
   * of this software and associated documentation files (the "Software"), to deal
   * in the Software without restriction, including without limitation the rights
   * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   * copies of the Software, and to permit persons to whom the Software is
   * furnished to do so, subject to the following conditions:
   *
   * The above copyright notice and this permission notice shall be included in
   * all copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
   * THE SOFTWARE.
   */
function fo(e){return void 0===e&&(e=window),!!function(e){void 0===e&&(e=window);var t=!1;try{var n={get passive(){return t=!0,!1}},r=function(){};e.document.addEventListener("test",r,n),e.document.removeEventListener("test",r,n)}catch(e){t=!1}return t}
/**
   * @license
   * Copyright 2018 Google Inc.
   *
   * Permission is hereby granted, free of charge, to any person obtaining a copy
   * of this software and associated documentation files (the "Software"), to deal
   * in the Software without restriction, including without limitation the rights
   * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   * copies of the Software, and to permit persons to whom the Software is
   * furnished to do so, subject to the following conditions:
   *
   * The above copyright notice and this permission notice shall be included in
   * all copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
   * THE SOFTWARE.
   */(e)&&{passive:!0}}
/**
   * @license
   * Copyright 2016 Google Inc.
   *
   * Permission is hereby granted, free of charge, to any person obtaining a copy
   * of this software and associated documentation files (the "Software"), to deal
   * in the Software without restriction, including without limitation the rights
   * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   * copies of the Software, and to permit persons to whom the Software is
   * furnished to do so, subject to the following conditions:
   *
   * The above copyright notice and this permission notice shall be included in
   * all copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
   * THE SOFTWARE.
   */
var po={BG_FOCUSED:"mdc-ripple-upgraded--background-focused",FG_ACTIVATION:"mdc-ripple-upgraded--foreground-activation",FG_DEACTIVATION:"mdc-ripple-upgraded--foreground-deactivation",ROOT:"mdc-ripple-upgraded",UNBOUNDED:"mdc-ripple-upgraded--unbounded"},mo={VAR_FG_SCALE:"--mdc-ripple-fg-scale",VAR_FG_SIZE:"--mdc-ripple-fg-size",VAR_FG_TRANSLATE_END:"--mdc-ripple-fg-translate-end",VAR_FG_TRANSLATE_START:"--mdc-ripple-fg-translate-start",VAR_LEFT:"--mdc-ripple-left",VAR_TOP:"--mdc-ripple-top"},go={DEACTIVATION_TIMEOUT_MS:225,FG_DEACTIVATION_MS:150,INITIAL_ORIGIN_SCALE:.6,PADDING:10,TAP_DELAY_MS:300},vo=["touchstart","pointerdown","mousedown","keydown"],_o=["touchend","pointerup","mouseup","contextmenu"],bo=[],yo=function(e){function t(n){var r=e.call(this,so(so({},t.defaultAdapter),n))||this;return r.activationAnimationHasEnded_=!1,r.activationTimer_=0,r.fgDeactivationRemovalTimer_=0,r.fgScale_="0",r.frame_={width:0,height:0},r.initialSize_=0,r.layoutFrame_=0,r.maxRadius_=0,r.unboundedCoords_={left:0,top:0},r.activationState_=r.defaultActivationState_(),r.activationTimerCallback_=function(){r.activationAnimationHasEnded_=!0,r.runDeactivationUXLogicIfReady_()},r.activateHandler_=function(e){return r.activate_(e)},r.deactivateHandler_=function(){return r.deactivate_()},r.focusHandler_=function(){return r.handleFocus()},r.blurHandler_=function(){return r.handleBlur()},r.resizeHandler_=function(){return r.layout()},r}return lo(t,e),Object.defineProperty(t,"cssClasses",{get:function(){return po},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return mo},enumerable:!1,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return go},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},browserSupportsCssVars:function(){return!0},computeBoundingRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},containsEventTarget:function(){return!0},deregisterDocumentInteractionHandler:function(){},deregisterInteractionHandler:function(){},deregisterResizeHandler:function(){},getWindowPageOffset:function(){return{x:0,y:0}},isSurfaceActive:function(){return!0},isSurfaceDisabled:function(){return!0},isUnbounded:function(){return!0},registerDocumentInteractionHandler:function(){},registerInteractionHandler:function(){},registerResizeHandler:function(){},removeClass:function(){},updateCssVariable:function(){}}},enumerable:!1,configurable:!0}),t.prototype.init=function(){var e=this,n=this.supportsPressRipple_();if(this.registerRootHandlers_(n),n){var r=t.cssClasses,o=r.ROOT,i=r.UNBOUNDED;requestAnimationFrame((function(){e.adapter.addClass(o),e.adapter.isUnbounded()&&(e.adapter.addClass(i),e.layoutInternal_())}))}},t.prototype.destroy=function(){var e=this;if(this.supportsPressRipple_()){this.activationTimer_&&(clearTimeout(this.activationTimer_),this.activationTimer_=0,this.adapter.removeClass(t.cssClasses.FG_ACTIVATION)),this.fgDeactivationRemovalTimer_&&(clearTimeout(this.fgDeactivationRemovalTimer_),this.fgDeactivationRemovalTimer_=0,this.adapter.removeClass(t.cssClasses.FG_DEACTIVATION));var n=t.cssClasses,r=n.ROOT,o=n.UNBOUNDED;requestAnimationFrame((function(){e.adapter.removeClass(r),e.adapter.removeClass(o),e.removeCssVars_()}))}this.deregisterRootHandlers_(),this.deregisterDeactivationHandlers_()},t.prototype.activate=function(e){this.activate_(e)},t.prototype.deactivate=function(){this.deactivate_()},t.prototype.layout=function(){var e=this;this.layoutFrame_&&cancelAnimationFrame(this.layoutFrame_),this.layoutFrame_=requestAnimationFrame((function(){e.layoutInternal_(),e.layoutFrame_=0}))},t.prototype.setUnbounded=function(e){var n=t.cssClasses.UNBOUNDED;e?this.adapter.addClass(n):this.adapter.removeClass(n)},t.prototype.handleFocus=function(){var e=this;requestAnimationFrame((function(){return e.adapter.addClass(t.cssClasses.BG_FOCUSED)}))},t.prototype.handleBlur=function(){var e=this;requestAnimationFrame((function(){return e.adapter.removeClass(t.cssClasses.BG_FOCUSED)}))},t.prototype.supportsPressRipple_=function(){return this.adapter.browserSupportsCssVars()},t.prototype.defaultActivationState_=function(){return{activationEvent:void 0,hasDeactivationUXRun:!1,isActivated:!1,isProgrammatic:!1,wasActivatedByPointer:!1,wasElementMadeActive:!1}},t.prototype.registerRootHandlers_=function(e){var t=this;e&&(vo.forEach((function(e){t.adapter.registerInteractionHandler(e,t.activateHandler_)})),this.adapter.isUnbounded()&&this.adapter.registerResizeHandler(this.resizeHandler_)),this.adapter.registerInteractionHandler("focus",this.focusHandler_),this.adapter.registerInteractionHandler("blur",this.blurHandler_)},t.prototype.registerDeactivationHandlers_=function(e){var t=this;"keydown"===e.type?this.adapter.registerInteractionHandler("keyup",this.deactivateHandler_):_o.forEach((function(e){t.adapter.registerDocumentInteractionHandler(e,t.deactivateHandler_)}))},t.prototype.deregisterRootHandlers_=function(){var e=this;vo.forEach((function(t){e.adapter.deregisterInteractionHandler(t,e.activateHandler_)})),this.adapter.deregisterInteractionHandler("focus",this.focusHandler_),this.adapter.deregisterInteractionHandler("blur",this.blurHandler_),this.adapter.isUnbounded()&&this.adapter.deregisterResizeHandler(this.resizeHandler_)},t.prototype.deregisterDeactivationHandlers_=function(){var e=this;this.adapter.deregisterInteractionHandler("keyup",this.deactivateHandler_),_o.forEach((function(t){e.adapter.deregisterDocumentInteractionHandler(t,e.deactivateHandler_)}))},t.prototype.removeCssVars_=function(){var e=this,n=t.strings;Object.keys(n).forEach((function(t){0===t.indexOf("VAR_")&&e.adapter.updateCssVariable(n[t],null)}))},t.prototype.activate_=function(e){var t=this;if(!this.adapter.isSurfaceDisabled()){var n=this.activationState_;if(!n.isActivated){var r=this.previousActivationEvent_;if(!(r&&void 0!==e&&r.type!==e.type))n.isActivated=!0,n.isProgrammatic=void 0===e,n.activationEvent=e,n.wasActivatedByPointer=!n.isProgrammatic&&(void 0!==e&&("mousedown"===e.type||"touchstart"===e.type||"pointerdown"===e.type)),void 0!==e&&bo.length>0&&bo.some((function(e){return t.adapter.containsEventTarget(e)}))?this.resetActivationState_():(void 0!==e&&(bo.push(e.target),this.registerDeactivationHandlers_(e)),n.wasElementMadeActive=this.checkElementMadeActive_(e),n.wasElementMadeActive&&this.animateActivation_(),requestAnimationFrame((function(){bo=[],n.wasElementMadeActive||void 0===e||" "!==e.key&&32!==e.keyCode||(n.wasElementMadeActive=t.checkElementMadeActive_(e),n.wasElementMadeActive&&t.animateActivation_()),n.wasElementMadeActive||(t.activationState_=t.defaultActivationState_())})))}}},t.prototype.checkElementMadeActive_=function(e){return void 0===e||"keydown"!==e.type||this.adapter.isSurfaceActive()},t.prototype.animateActivation_=function(){var e=this,n=t.strings,r=n.VAR_FG_TRANSLATE_START,o=n.VAR_FG_TRANSLATE_END,i=t.cssClasses,l=i.FG_DEACTIVATION,s=i.FG_ACTIVATION,a=t.numbers.DEACTIVATION_TIMEOUT_MS;this.layoutInternal_();var u="",c="";if(!this.adapter.isUnbounded()){var d=this.getFgTranslationCoordinates_(),h=d.startPoint,f=d.endPoint;u=h.x+"px, "+h.y+"px",c=f.x+"px, "+f.y+"px"}this.adapter.updateCssVariable(r,u),this.adapter.updateCssVariable(o,c),clearTimeout(this.activationTimer_),clearTimeout(this.fgDeactivationRemovalTimer_),this.rmBoundedActivationClasses_(),this.adapter.removeClass(l),this.adapter.computeBoundingRect(),this.adapter.addClass(s),this.activationTimer_=setTimeout((function(){return e.activationTimerCallback_()}),a)},t.prototype.getFgTranslationCoordinates_=function(){var e,t=this.activationState_,n=t.activationEvent;return{startPoint:e={x:(e=t.wasActivatedByPointer?function(e,t,n){if(!e)return{x:0,y:0};var r,o,i=t.x,l=t.y,s=i+n.left,a=l+n.top;if("touchstart"===e.type){var u=e;r=u.changedTouches[0].pageX-s,o=u.changedTouches[0].pageY-a}else{var c=e;r=c.pageX-s,o=c.pageY-a}return{x:r,y:o}}(n,this.adapter.getWindowPageOffset(),this.adapter.computeBoundingRect()):{x:this.frame_.width/2,y:this.frame_.height/2}).x-this.initialSize_/2,y:e.y-this.initialSize_/2},endPoint:{x:this.frame_.width/2-this.initialSize_/2,y:this.frame_.height/2-this.initialSize_/2}}},t.prototype.runDeactivationUXLogicIfReady_=function(){var e=this,n=t.cssClasses.FG_DEACTIVATION,r=this.activationState_,o=r.hasDeactivationUXRun,i=r.isActivated;(o||!i)&&this.activationAnimationHasEnded_&&(this.rmBoundedActivationClasses_(),this.adapter.addClass(n),this.fgDeactivationRemovalTimer_=setTimeout((function(){e.adapter.removeClass(n)}),go.FG_DEACTIVATION_MS))},t.prototype.rmBoundedActivationClasses_=function(){var e=t.cssClasses.FG_ACTIVATION;this.adapter.removeClass(e),this.activationAnimationHasEnded_=!1,this.adapter.computeBoundingRect()},t.prototype.resetActivationState_=function(){var e=this;this.previousActivationEvent_=this.activationState_.activationEvent,this.activationState_=this.defaultActivationState_(),setTimeout((function(){return e.previousActivationEvent_=void 0}),t.numbers.TAP_DELAY_MS)},t.prototype.deactivate_=function(){var e=this,t=this.activationState_;if(t.isActivated){var n=so({},t);t.isProgrammatic?(requestAnimationFrame((function(){return e.animateDeactivation_(n)})),this.resetActivationState_()):(this.deregisterDeactivationHandlers_(),requestAnimationFrame((function(){e.activationState_.hasDeactivationUXRun=!0,e.animateDeactivation_(n),e.resetActivationState_()})))}},t.prototype.animateDeactivation_=function(e){var t=e.wasActivatedByPointer,n=e.wasElementMadeActive;(t||n)&&this.runDeactivationUXLogicIfReady_()},t.prototype.layoutInternal_=function(){var e=this;this.frame_=this.adapter.computeBoundingRect();var n=Math.max(this.frame_.height,this.frame_.width);this.maxRadius_=this.adapter.isUnbounded()?n:Math.sqrt(Math.pow(e.frame_.width,2)+Math.pow(e.frame_.height,2))+t.numbers.PADDING;var r=Math.floor(n*t.numbers.INITIAL_ORIGIN_SCALE);this.adapter.isUnbounded()&&r%2!=0?this.initialSize_=r-1:this.initialSize_=r,this.fgScale_=""+this.maxRadius_/this.initialSize_,this.updateLayoutCssVars_()},t.prototype.updateLayoutCssVars_=function(){var e=t.strings,n=e.VAR_FG_SIZE,r=e.VAR_LEFT,o=e.VAR_TOP,i=e.VAR_FG_SCALE;this.adapter.updateCssVariable(n,this.initialSize_+"px"),this.adapter.updateCssVariable(i,this.fgScale_),this.adapter.isUnbounded()&&(this.unboundedCoords_={left:Math.round(this.frame_.width/2-this.initialSize_/2),top:Math.round(this.frame_.height/2-this.initialSize_/2)},this.adapter.updateCssVariable(r,this.unboundedCoords_.left+"px"),this.adapter.updateCssVariable(o,this.unboundedCoords_.top+"px"))},t}(co),ko=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.disabled=!1,t}return lo(t,e),t.attachTo=function(e,n){void 0===n&&(n={isUnbounded:void 0});var r=new t(e);return void 0!==n.isUnbounded&&(r.unbounded=n.isUnbounded),r},t.createAdapter=function(e){return{addClass:function(t){return e.root.classList.add(t)},browserSupportsCssVars:function(){return function(e,t){void 0===t&&(t=!1);var n,r=e.CSS;if("boolean"==typeof oo&&!t)return oo;if(!r||"function"!=typeof r.supports)return!1;var o=r.supports("--css-vars","yes"),i=r.supports("(--css-vars: yes)")&&r.supports("color","#00000000");return n=o||i,t||(oo=n),n}(window)},computeBoundingRect:function(){return e.root.getBoundingClientRect()},containsEventTarget:function(t){return e.root.contains(t)},deregisterDocumentInteractionHandler:function(e,t){return document.documentElement.removeEventListener(e,t,fo())},deregisterInteractionHandler:function(t,n){return e.root.removeEventListener(t,n,fo())},deregisterResizeHandler:function(e){return window.removeEventListener("resize",e)},getWindowPageOffset:function(){return{x:window.pageXOffset,y:window.pageYOffset}},isSurfaceActive:function(){return function(e,t){return(e.matches||e.webkitMatchesSelector||e.msMatchesSelector).call(e,t)}(e.root,":active")},isSurfaceDisabled:function(){return Boolean(e.disabled)},isUnbounded:function(){return Boolean(e.unbounded)},registerDocumentInteractionHandler:function(e,t){return document.documentElement.addEventListener(e,t,fo())},registerInteractionHandler:function(t,n){return e.root.addEventListener(t,n,fo())},registerResizeHandler:function(e){return window.addEventListener("resize",e)},removeClass:function(t){return e.root.classList.remove(t)},updateCssVariable:function(t,n){return e.root.style.setProperty(t,n)}}},Object.defineProperty(t.prototype,"unbounded",{get:function(){return Boolean(this.unbounded_)},set:function(e){this.unbounded_=Boolean(e),this.setUnbounded_()},enumerable:!1,configurable:!0}),t.prototype.activate=function(){this.foundation.activate()},t.prototype.deactivate=function(){this.foundation.deactivate()},t.prototype.layout=function(){this.foundation.layout()},t.prototype.getDefaultFoundation=function(){return new yo(t.createAdapter(this))},t.prototype.initialSyncWithDOM=function(){var e=this.root;this.unbounded="mdcRippleIsUnbounded"in e.dataset},t.prototype.setUnbounded_=function(){this.foundation.setUnbounded(Boolean(this.unbounded_))},t}(ho);function wo(e){let t,n,r,o,i,l,s,a,u,c,d,h,f,p,m,g,v,_,b,y,k,w,T,x,E,O,$,S,R,C,M,N,L,D,U,P,G,j,z,K,W,Y,Z,Q,te,ne,oe,ie,le,se,ae,ue,ce,de,he,fe;return{c(){t=q("div"),n=q("div"),r=q("div"),o=q("div"),i=q("input"),l=X(),s=q("label"),s.innerHTML='<span aria-hidden="true">1</span> \n                    <span class="sr-only">Digits</span>',a=X(),u=q("div"),c=q("input"),d=X(),h=q("label"),h.innerHTML='<span aria-hidden="true" style="font-size: 50%;"><span style="position: absolute; top:    12%; left:  20%;">1</span> \n                        <span style="position: absolute; top:    12%; right: 20%;">2</span> \n                        <span style="position: absolute; bottom: 12%; left:  20%;">3</span></span> \n                    <span class="sr-only">Corner Marks</span>',f=X(),p=q("div"),m=q("input"),g=X(),v=q("label"),v.innerHTML='<span aria-hidden="true" style="font-size: 50%;">123</span> \n                    <span class="sr-only">Center Marks</span>',_=X(),b=q("div"),y=q("input"),k=X(),w=q("label"),w.innerHTML='<span class="icon icon-inline icon-c-textinv icon-colors svelte-hmnhaq"></span> \n                    <span class="sr-only">Colors</span>',T=X(),x=q("div"),E=q("div"),O=q("div"),$=q("button"),$.textContent="1",S=X(),R=q("button"),R.textContent="2",C=X(),M=q("button"),M.textContent="3",N=X(),L=q("button"),L.textContent="4",D=X(),U=q("button"),U.textContent="5",P=X(),G=q("button"),G.textContent="6",j=X(),z=q("button"),z.textContent="7",K=X(),W=q("button"),W.textContent="8",Y=X(),Z=q("button"),Z.textContent="9",Q=X(),te=q("button"),te.textContent="0",ne=X(),oe=q("button"),oe.innerHTML='<span class="icon icon-inline icon-c-textinv icon-delete"></span>',ie=X(),le=q("div"),se=q("button"),se.innerHTML='<span class="icon icon-inline icon-c-textinv icon-undo"></span>',ae=X(),ue=q("button"),ue.innerHTML='<span class="icon icon-inline icon-c-textinv icon-undo redo"></span>',ce=X(),de=q("button"),de.innerHTML='<span class="icon icon-inline icon-c-textinv icon-screenshot"></span>',ee(i,"class","radio-mode-button svelte-hmnhaq"),ee(i,"type","radio"),ee(i,"name",We),ee(i,"id","mode-radio-digits"),i.__value=e[0],i.value=i.__value,e[13][0].push(i),ee(s,"class","mdc-ripple-surface padbutton padbutton-mode svelte-hmnhaq"),ee(s,"role","button"),ee(s,"for","mode-radio-digits"),ee(o,"class","svelte-hmnhaq"),ee(c,"class","radio-mode-button svelte-hmnhaq"),ee(c,"type","radio"),ee(c,"name",We),ee(c,"id","mode-radio-corner"),c.__value=e[2],c.value=c.__value,e[13][0].push(c),ee(h,"class","mdc-ripple-surface padbutton padbutton-mode svelte-hmnhaq"),ee(h,"role","button"),ee(h,"for","mode-radio-corner"),ee(u,"class","svelte-hmnhaq"),ee(m,"class","radio-mode-button svelte-hmnhaq"),ee(m,"type","radio"),ee(m,"name",We),ee(m,"id","mode-radio-center"),m.__value=e[3],m.value=m.__value,e[13][0].push(m),ee(v,"class","mdc-ripple-surface padbutton padbutton-mode svelte-hmnhaq"),ee(v,"role","button"),ee(v,"for","mode-radio-center"),ee(p,"class","svelte-hmnhaq"),ee(y,"class","radio-mode-button svelte-hmnhaq"),ee(y,"type","radio"),ee(y,"name",We),ee(y,"id","mode-radio-colors"),y.__value=e[4],y.value=y.__value,e[13][0].push(y),ee(w,"class","mdc-ripple-surface padbutton padbutton-mode svelte-hmnhaq"),ee(w,"role","button"),ee(w,"for","mode-radio-colors"),ee(b,"class","svelte-hmnhaq"),ee(r,"class","mode-pad svelte-hmnhaq"),ee(n,"class","mode-pad-container svelte-hmnhaq"),ee($,"class","mdc-ripple-surface padbutton svelte-hmnhaq"),re($,"grid-area","1 / 1 / 2 / 2"),$.value="1",ee(R,"class","mdc-ripple-surface padbutton svelte-hmnhaq"),re(R,"grid-area","1 / 2 / 2 / 3"),R.value="2",ee(M,"class","mdc-ripple-surface padbutton svelte-hmnhaq"),re(M,"grid-area","1 / 3 / 2 / 4"),M.value="3",ee(L,"class","mdc-ripple-surface padbutton svelte-hmnhaq"),re(L,"grid-area","2 / 1 / 3 / 2"),L.value="4",ee(U,"class","mdc-ripple-surface padbutton svelte-hmnhaq"),re(U,"grid-area","2 / 2 / 3 / 3"),U.value="5",ee(G,"class","mdc-ripple-surface padbutton svelte-hmnhaq"),re(G,"grid-area","2 / 3 / 3 / 4"),G.value="6",ee(z,"class","mdc-ripple-surface padbutton svelte-hmnhaq"),re(z,"grid-area","3 / 1 / 4 / 2"),z.value="7",ee(W,"class","mdc-ripple-surface padbutton svelte-hmnhaq"),re(W,"grid-area","3 / 2 / 4 / 3"),W.value="8",ee(Z,"class","mdc-ripple-surface padbutton svelte-hmnhaq"),re(Z,"grid-area","3 / 3 / 4 / 4"),Z.value="9",ee(te,"class","mdc-ripple-surface padbutton svelte-hmnhaq"),re(te,"grid-area","4 / 1 / 5 / 2"),te.value="0",ee(oe,"class","mdc-ripple-surface padbutton svelte-hmnhaq"),re(oe,"grid-area","4 / 2 / 5 / 4"),oe.value="Delete",ee(oe,"title","Delete"),ee(oe,"aria-label","Delete"),ee(O,"class","num-pad svelte-hmnhaq"),ee(se,"class","mdc-ripple-surface padbutton svelte-hmnhaq"),ee(se,"title","Undo"),ee(se,"aria-label","Undo"),ee(ue,"class","mdc-ripple-surface padbutton svelte-hmnhaq"),ee(ue,"title","Redo"),ee(ue,"aria-label","Redo"),ee(de,"class","mdc-ripple-surface padbutton svelte-hmnhaq"),ee(de,"title","Take Screenshot"),ee(de,"aria-label","Take Screenshot"),ee(le,"class","ctrl-pad svelte-hmnhaq"),ee(E,"class","right svelte-hmnhaq"),ee(x,"class","right-container svelte-hmnhaq"),ee(t,"class","container svelte-hmnhaq")},m(H,A){F(H,t,A),B(t,n),B(n,r),B(r,o),B(o,i),i.checked=i.__value===e[1],B(o,l),B(o,s),B(r,a),B(r,u),B(u,c),c.checked=c.__value===e[1],B(u,d),B(u,h),B(r,f),B(r,p),B(p,m),m.checked=m.__value===e[1],B(p,g),B(p,v),B(r,_),B(r,b),B(b,y),y.checked=y.__value===e[1],B(b,k),B(b,w),B(t,T),B(t,x),B(x,E),B(E,O),B(O,$),B(O,S),B(O,R),B(O,C),B(O,M),B(O,N),B(O,L),B(O,D),B(O,U),B(O,P),B(O,G),B(O,j),B(O,z),B(O,K),B(O,W),B(O,Y),B(O,Z),B(O,Q),B(O,te),B(O,ne),B(O,oe),B(E,ie),B(E,le),B(le,se),B(le,ae),B(le,ue),B(le,ce),B(le,de),he||(fe=[J(i,"change",e[12]),J(i,"change",e[6]),J(c,"change",e[14]),J(c,"change",e[6]),J(m,"change",e[15]),J(m,"change",e[6]),J(y,"change",e[16]),J(y,"change",e[6]),J($,"click",(function(){I(e[5]&&e[5].padClick||void 0)&&(e[5]&&e[5].padClick||void 0).apply(this,arguments)})),J(R,"click",(function(){I(e[5]&&e[5].padClick||void 0)&&(e[5]&&e[5].padClick||void 0).apply(this,arguments)})),J(M,"click",(function(){I(e[5]&&e[5].padClick||void 0)&&(e[5]&&e[5].padClick||void 0).apply(this,arguments)})),J(L,"click",(function(){I(e[5]&&e[5].padClick||void 0)&&(e[5]&&e[5].padClick||void 0).apply(this,arguments)})),J(U,"click",(function(){I(e[5]&&e[5].padClick||void 0)&&(e[5]&&e[5].padClick||void 0).apply(this,arguments)})),J(G,"click",(function(){I(e[5]&&e[5].padClick||void 0)&&(e[5]&&e[5].padClick||void 0).apply(this,arguments)})),J(z,"click",(function(){I(e[5]&&e[5].padClick||void 0)&&(e[5]&&e[5].padClick||void 0).apply(this,arguments)})),J(W,"click",(function(){I(e[5]&&e[5].padClick||void 0)&&(e[5]&&e[5].padClick||void 0).apply(this,arguments)})),J(Z,"click",(function(){I(e[5]&&e[5].padClick||void 0)&&(e[5]&&e[5].padClick||void 0).apply(this,arguments)})),J(te,"click",(function(){I(e[5]&&e[5].padClick||void 0)&&(e[5]&&e[5].padClick||void 0).apply(this,arguments)})),J(oe,"click",(function(){I(e[5]&&e[5].padClick||void 0)&&(e[5]&&e[5].padClick||void 0).apply(this,arguments)})),J(se,"click",e[17]),J(ue,"click",e[18]),J(t,"click",e[11])],he=!0)},p(t,[n]){e=t,1&n&&(i.__value=e[0],i.value=i.__value),2&n&&(i.checked=i.__value===e[1]),4&n&&(c.__value=e[2],c.value=c.__value),2&n&&(c.checked=c.__value===e[1]),8&n&&(m.__value=e[3],m.value=m.__value),2&n&&(m.checked=m.__value===e[1]),16&n&&(y.__value=e[4],y.value=y.__value),2&n&&(y.checked=y.__value===e[1])},i:H,o:H,d(n){n&&V(t),e[13][0].splice(e[13][0].indexOf(i),1),e[13][0].splice(e[13][0].indexOf(c),1),e[13][0].splice(e[13][0].indexOf(m),1),e[13][0].splice(e[13][0].indexOf(y),1),he=!1,A(fe)}}}function To(e,t,n){let r,o,i,l,s,a,u;var c;M(e,Pe,(e=>n(19,r=e))),M(e,Ke,(e=>n(1,i=e))),M(e,_r,(e=>n(5,u=e))),c=()=>Array.prototype.forEach.call(document.getElementsByClassName("mdc-ripple-surface"),(e=>ko.attachTo(e))),le().$$.on_mount.push(c);const d=Fe.ref("marks","filled");M(e,d,(e=>n(0,o=e)));const h=Fe.ref("marks","corner");M(e,h,(e=>n(2,l=e)));const f=Fe.ref("marks","center");M(e,f,(e=>n(3,s=e)));const p=Fe.ref("marks","colors");M(e,p,(e=>n(4,a=e)));return[o,i,l,s,a,u,function(){qe.set(Ke.get())},d,h,f,p,function(e){0===e.screenX&&0===e.screenY||r.focus()},function(){i=this.__value,Ke.set(i)},[[]],function(){i=this.__value,Ke.set(i)},function(){i=this.__value,Ke.set(i)},function(){i=this.__value,Ke.set(i)},()=>Ye(!1),()=>Ye(!0)]}class xo extends Ce{constructor(e){super(),Re(this,e,To,wo,R,{})}}function Eo(e){let t,n,r,o,i,l,s,a,u,c,d,h,f;return r=new xo({}),{c(){t=q("div"),n=q("div"),$e(r.$$.fragment),o=X(),i=q("div"),l=q("input"),s=X(),a=q("input"),u=X(),c=q("textarea"),ee(n,"class","entry-pad svelte-fcgi7u"),ee(l,"class","info-input title svelte-fcgi7u"),ee(l,"type","text"),ee(l,"placeholder","Untitled"),ee(a,"class","info-input setter svelte-fcgi7u"),ee(a,"type","text"),ee(a,"placeholder","Anonymous"),ee(c,"class","rules-text svelte-fcgi7u"),ee(c,"spellcheck","false"),ee(i,"class","entry-info svelte-fcgi7u"),ee(t,"class","entry-column svelte-fcgi7u")},m(p,m){F(p,t,m),B(t,n),Se(r,n,null),e[7](n),B(t,o),B(t,i),B(i,l),ne(l,e[1]),B(i,s),B(i,a),ne(a,e[2]),B(i,u),B(i,c),ne(c,e[3]),d=!0,h||(f=[J(l,"input",e[8]),J(a,"input",e[9]),J(c,"input",e[10]),J(c,"focus",Oo),J(c,"blur",Oo)],h=!0)},p(e,[t]){2&t&&l.value!==e[1]&&ne(l,e[1]),4&t&&a.value!==e[2]&&ne(a,e[2]),8&t&&ne(c,e[3])},i(e){d||(Te(r.$$.fragment,e),d=!0)},o(e){xe(r.$$.fragment,e),d=!1},d(n){n&&V(t),Ae(r),e[7](null),h=!1,A(f)}}}function Oo(e){e.currentTarget.setAttribute("spellcheck",`${document.activeElement===e.currentTarget}`)}function Ho(e,t,n){let r,o,i,l;function s(){n(0,l.style.fontSize=.12*l.clientWidth+"px",l)}var a;window.addEventListener("resize",s),a=()=>window.removeEventListener("resize",s),le().$$.on_destroy.push(a),requestAnimationFrame(s);const u=Ge.ref("meta","title");M(e,u,(e=>n(1,r=e)));const c=Ge.ref("meta","author");M(e,c,(e=>n(2,o=e)));const d=Ge.ref("meta","description");return M(e,d,(e=>n(3,i=e))),[l,r,o,i,u,c,d,function(e){ue[e?"unshift":"push"]((()=>{l=e,n(0,l)}))},function(){r=this.value,u.set(r)},function(){o=this.value,c.set(o)},function(){i=this.value,d.set(i)}]}class $o extends Ce{constructor(e){super(),Re(this,e,Ho,Eo,R,{})}}function So(e){let t,n,r;return{c(){t=q("div"),t.innerHTML='<ul class="header-buttons left svelte-1gtf4ed"><li>Solving/Setting</li> \n        <li>New Grid</li> \n        <li>Export</li></ul>',n=X(),r=q("div"),r.innerHTML='<ul class="header-buttons right svelte-1gtf4ed"><li>Light/dark</li> \n        <li>Help</li> \n        <li>Settings</li></ul>',ee(t,"class","header-left svelte-1gtf4ed"),ee(r,"class","header-right svelte-1gtf4ed")},m(e,o){F(e,t,o),F(e,n,o),F(e,r,o)},p:H,i:H,o:H,d(e){e&&V(t),e&&V(n),e&&V(r)}}}class Ao extends Ce{constructor(e){super(),Re(this,e,null,So,R,{})}}function Io(e){let t,n,r,o,i,l,s,a,u,c,d,h,f,p,m,g,v,_,b,y,k,w,T,x;return l=new Ao({}),h=new ro({}),m=new kr({}),_=new $o({}),{c(){t=q("header"),n=q("button"),n.textContent="Jump To Board",r=X(),o=q("div"),i=q("div"),$e(l.$$.fragment),s=X(),a=q("main"),u=q("div"),c=q("div"),d=q("div"),$e(h.$$.fragment),f=X(),p=q("div"),$e(m.$$.fragment),g=X(),v=q("div"),$e(_.$$.fragment),b=X(),y=q("footer"),k=q("a"),k.textContent="Sudoku Studio version 8ecdcee",ee(n,"class","nobutton focus-skip"),ee(i,"class","content-row"),ee(o,"class","content"),ee(t,"class","svelte-uq8vao"),ee(d,"class","left-panel svelte-uq8vao"),ee(p,"class","center-panel svelte-uq8vao"),ee(v,"class","right-panel svelte-uq8vao"),ee(c,"class","content-row svelte-uq8vao"),ee(u,"class","content svelte-uq8vao"),ee(a,"class","svelte-uq8vao"),ee(k,"href","https://github.com/SudokuStudio/SudokuStudio"),ee(y,"class","svelte-uq8vao")},m(E,O){F(E,t,O),B(t,n),B(t,r),B(t,o),B(o,i),Se(l,i,null),F(E,s,O),F(E,a,O),B(a,u),B(u,c),B(c,d),Se(h,d,null),B(c,f),B(c,p),Se(m,p,null),B(c,g),B(c,v),Se(_,v,null),F(E,b,O),F(E,y,O),B(y,k),w=!0,T||(x=J(n,"click",e[1]),T=!0)},p:H,i(e){w||(Te(l.$$.fragment,e),Te(h.$$.fragment,e),Te(m.$$.fragment,e),Te(_.$$.fragment,e),w=!0)},o(e){xe(l.$$.fragment,e),xe(h.$$.fragment,e),xe(m.$$.fragment,e),xe(_.$$.fragment,e),w=!1},d(e){e&&V(t),Ae(l),e&&V(s),e&&V(a),Ae(h),Ae(m),Ae(_),e&&V(b),e&&V(y),T=!1,x()}}}function Ro(e,t,n){let r;M(e,Pe,(e=>n(0,r=e)));return[r,()=>r&&r.focus()]}!function(){Ge.watch(t.debounce(((e,t,n)=>{const o=new URL(window.location.href);o.searchParams.set("b",r.compressToEncodedURIComponent(JSON.stringify(n))),window.history.replaceState(null,"",o.href)}),200),!1,".");const e=new URL(window.location.href);if(e.searchParams.has("b")){const t=e.searchParams.get("b");try{const e=r.decompressFromEncodedURIComponent(t);if(null!=e){const t=JSON.parse(e);return ct(t),void Ge.update(t)}}catch(e){console.error("Failed to update board from `b` param.")}}const n=function(e=3,t=3){const n=e*t,r={grid:{width:n,height:n},meta:{title:null,author:null,description:null},elements:{}};return r.elements[1]=ut("grid"),r.elements[2]=ut("box",{width:e,height:t}),r.elements[10]=ut("givens"),r.elements[11]=ut("filled"),r.elements[12]=ut("corner"),r.elements[13]=ut("center"),r.elements[14]=ut("colors"),r}();ct(n),Ge.update(n)}();return new class extends Ce{constructor(e){super(),Re(this,e,Ro,Io,R,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
